(()=>{var __webpack_modules__={2:(e,t,n)=>{var r=n(2199),i=n(4664),o=n(5950);e.exports=function(e){return r(e,o,i)}},14:(e,t,n)=>{var r=n(5389),i=n(5765);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},20:(e,t,n)=>{"use strict";Object.defineProperty(t,"Vv",{enumerable:!0,get:function(){return r.default}});i(n(9651));var r=i(n(4936));i(n(1821)),i(n(252)),n(8859);function i(e){return e&&e.__esModule?e:{default:e}}},63:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(7044),i=n(1127),o=n(551),s=864e5;function a(e,t){(0,o.A)(2,arguments);var n=(0,i.default)(e),a=(0,i.default)(t),l=n.getTime()-(0,r.A)(n),c=a.getTime()-(0,r.A)(a);return Math.round((l-c)/s)}},79:(e,t,n)=>{var r=n(3702),i=n(80),o=n(4739),s=n(8655),a=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},104:(e,t,n)=>{var r=n(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},123:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284),i=n(551);function o(e){(0,i.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},252:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=d(n(5556)),s=d(n(1776)),a=n(8859),l=n(2448),c=d(n(5409)),u=d(n(6942));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(d,e);var t,n,o,a,l=(o=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(a){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?b(e):t}(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),v(b(t=l.call(this,e)),"handleRangeChange",function(e){var n=t.props,r=n.onChange,i=n.ranges,o=n.focusedRange,s=i[o[0]];r&&s&&r(v({},s.key||"range".concat(o[0]+1),f(f({},s),e)))}),t.state={rangeOffset:0,focusedInput:-1},t}return t=d,(n=[{key:"getRangeOptionValue",value:function(e){var t=this.props,n=t.ranges,r=void 0===n?[]:n,i=t.focusedRange,o=void 0===i?[]:i;if("function"!=typeof e.getCurrentValue)return"";var s=r[o[0]]||{};return e.getCurrentValue(s)||""}},{key:"getSelectedRange",value:function(e,t){var n=e.findIndex(function(e){return!(!e.startDate||!e.endDate||e.disabled)&&t.isSelected(e)});return{selectedRange:e[n],focusedRangeIndex:n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerContent,r=t.footerContent,o=t.onPreviewChange,a=t.inputRanges,l=t.staticRanges,d=t.ranges,h=t.renderStaticRangeLabel,p=t.rangeColors,f=t.className;return i.default.createElement("div",{className:(0,u.default)(s.default.definedRangesWrapper,f)},n,i.default.createElement("div",{className:s.default.staticRanges},l.map(function(t,n){var r,a=e.getSelectedRange(d,t),l=a.selectedRange,c=a.focusedRangeIndex;return r=t.hasCustomRendering?h(t):t.label,i.default.createElement("button",{type:"button",className:(0,u.default)(s.default.staticRange,v({},s.default.staticRangeSelected,Boolean(l))),style:{color:l?l.color||p[c]:null},key:n,onClick:function(){return e.handleRangeChange(t.range(e.props))},onFocus:function(){return o&&o(t.range(e.props))},onMouseOver:function(){return o&&o(t.range(e.props))},onMouseLeave:function(){o&&o()}},i.default.createElement("span",{tabIndex:-1,className:s.default.staticRangeLabel},r))})),i.default.createElement("div",{className:s.default.inputRanges},a.map(function(t,n){return i.default.createElement(c.default,{key:n,styles:s.default,label:t.label,onFocus:function(){return e.setState({focusedInput:n,rangeOffset:0})},onBlur:function(){return e.setState({rangeOffset:0})},onChange:function(n){return e.handleRangeChange(t.range(n,e.props))},value:e.getRangeOptionValue(t)})})),r)}}])&&m(t.prototype,n),d}(i.Component);w.propTypes={inputRanges:o.default.array,staticRanges:o.default.array,ranges:o.default.arrayOf(l.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onPreviewChange:o.default.func,onChange:o.default.func,footerContent:o.default.any,headerContent:o.default.any,rangeColors:o.default.arrayOf(o.default.string),className:o.default.string,renderStaticRangeLabel:o.default.func},w.defaultProps={inputRanges:a.defaultInputRanges,staticRanges:a.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};var _=w;t.default=_},270:(e,t,n)=>{var r=n(7068),i=n(346);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},308:(e,t,n)=>{var r=n(1609),i=n(840),o=n(4958),s=o.setStyleProp,a=o.canTextBeChildOfNode;function l(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&o.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var o,c,u,d,h,p=(n=n||{}).library||r,f=p.cloneElement,m=p.createElement,g=p.isValidElement,b=[],y="function"==typeof n.replace,v=n.trim,w=0,_=t.length;w<_;w++)if(o=t[w],y&&g(u=n.replace(o)))_>1&&(u=f(u,{key:u.key||w})),b.push(u);else if("text"!==o.type){switch(d=o.attribs,l(o)?s(d.style,d):d&&(d=i(d,o.name)),h=null,o.type){case"script":case"style":o.children[0]&&(d.dangerouslySetInnerHTML={__html:o.children[0].data});break;case"tag":"textarea"===o.name&&o.children[0]?d.defaultValue=o.children[0].data:o.children&&o.children.length&&(h=e(o.children,n));break;default:continue}_>1&&(d.key=w),b.push(m(o.name,d,h))}else{if((c=!o.data.trim().length)&&o.parent&&!a(o.parent))continue;if(v&&c)continue;b.push(o.data)}return 1===b.length?b[0]:b}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},464:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(123),i=n(551),o=n(9742),s=n(4188),a=n(1858);function l(e,t){var n,l,c,u,d,h,p,f;(0,i.A)(1,arguments);var m=(0,r.A)(e),g=m.getUTCFullYear(),b=(0,a.q)(),y=(0,s.A)(null!==(n=null!==(l=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:b.firstWeekContainsDate)&&void 0!==l?l:null===(p=b.locale)||void 0===p||null===(f=p.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(g+1,0,y),v.setUTCHours(0,0,0,0);var w=(0,o.A)(v,t),_=new Date(0);_.setUTCFullYear(g,0,y),_.setUTCHours(0,0,0,0);var x=(0,o.A)(_,t);return m.getTime()>=w.getTime()?g+1:m.getTime()>=x.getTime()?g:g-1}},466:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Qe});var r=n(2284),i=n(7800);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.A)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var s=n(6014),a=n(5654),l=n(123);function c(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var u=n(1788),d=n(7044),h=n(1109),p=n(4188),f=n(551),m=n(9417),g=n(5501),b=n(9426),y=n(3029),v=n(2901),w=n(4467),_=function(){function e(){(0,y.A)(this,e),(0,w.A)(this,"priority",void 0),(0,w.A)(this,"subPriority",0)}return(0,v.A)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),x=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(e,r,i,o,s){var a;return(0,y.A)(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=i,a.priority=o,s&&(a.subPriority=s),a}return(0,v.A)(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(_),E=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",10),(0,w.A)((0,m.A)(e),"subPriority",-1),e}return(0,v.A)(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(_),k=function(){function e(){(0,y.A)(this,e),(0,w.A)(this,"incompatibleTokens",void 0),(0,w.A)(this,"priority",void 0),(0,w.A)(this,"subPriority",void 0)}return(0,v.A)(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new x(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),A=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",140),(0,w.A)((0,m.A)(e),"incompatibleTokens",["R","u","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(k),S=(Math.pow(10,8),/^(1[0-2]|0?\d)/),P=/^(3[0-1]|[0-2]?\d)/,C=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,T=/^(5[0-3]|[0-4]?\d)/,O=/^(2[0-3]|[0-1]?\d)/,M=/^(2[0-4]|[0-1]?\d)/,D=/^(1[0-1]|0?\d)/,I=/^(1[0-2]|0?\d)/,N=/^[0-5]?\d/,j=/^[0-5]?\d/,R=/^\d/,L=/^\d{1,2}/,F=/^\d{1,3}/,B=/^\d{1,4}/,V=/^-?\d+/,z=/^-?\d/,U=/^-?\d{1,2}/,q=/^-?\d{1,3}/,H=/^-?\d{1,4}/,$=/^([+-])(\d{2})(\d{2})?|Z/,W=/^([+-])(\d{2})(\d{2})|Z/,G=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,J=/^([+-])(\d{2}):(\d{2})|Z/,Y=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function K(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Q(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function X(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Z(e){return Q(V,e)}function ee(e,t){switch(e){case 1:return Q(R,t);case 2:return Q(L,t);case 3:return Q(F,t);case 4:return Q(B,t);default:return Q(new RegExp("^\\d{1,"+e+"}"),t)}}function te(e,t){switch(e){case 1:return Q(z,t);case 2:return Q(U,t);case 3:return Q(q,t);case 4:return Q(H,t);default:return Q(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ne(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function re(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function ie(e){return e%400==0||e%4==0&&e%100!=0}var oe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",130),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return K(ee(4,e),r);case"yo":return K(n.ordinalNumber(e,{unit:"year"}),r);default:return K(ee(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=re(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(k),se=n(464),ae=n(9742),le=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",130),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return K(ee(4,e),r);case"Yo":return K(n.ordinalNumber(e,{unit:"year"}),r);default:return K(ee(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=(0,se.A)(e,r);if(n.isTwoDigitYear){var o=re(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ae.A)(e,r)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ae.A)(e,r)}}]),n}(k),ce=n(9411),ue=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",130),(0,w.A)((0,m.A)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t){return te("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,ce.A)(r)}}]),n}(k),de=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",130),(0,w.A)((0,m.A)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t){return te("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(k),he=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",120),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ee(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(k),pe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",120),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ee(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(k),fe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,w.A)((0,m.A)(e),"priority",110),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return K(Q(S,e),r);case"MM":return K(ee(2,e),r);case"Mo":return K(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(k),me=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",110),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return K(Q(S,e),r);case"LL":return K(ee(2,e),r);case"Lo":return K(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(k),ge=n(5785),be=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",100),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return Q(T,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,ae.A)(function(e,t,n){(0,f.A)(2,arguments);var r=(0,l.A)(e),i=(0,p.A)(t),o=(0,ge.A)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)}}]),n}(k),ye=n(9610),ve=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",100),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return Q(T,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,ce.A)(function(e,t){(0,f.A)(2,arguments);var n=(0,l.A)(e),r=(0,p.A)(t),i=(0,ye.A)(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(k),we=[31,28,31,30,31,30,31,31,30,31,30,31],_e=[31,29,31,30,31,30,31,31,30,31,30,31],xe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"subPriority",1),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return Q(P,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){var n=ie(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=_e[r]:t>=1&&t<=we[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(k),Ee=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"subpriority",1),(0,w.A)((0,m.A)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return Q(C,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return ie(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(k),ke=n(1858);function Ae(e,t,n){var r,i,o,s,a,c,u,d;(0,f.A)(2,arguments);var h=(0,ke.q)(),m=(0,p.A)(null!==(r=null!==(i=null!==(o=null!==(s=null==n?void 0:n.weekStartsOn)&&void 0!==s?s:null==n||null===(a=n.locale)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==o?o:h.weekStartsOn)&&void 0!==i?i:null===(u=h.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,l.A)(e),b=(0,p.A)(t),y=((b%7+7)%7<m?7:0)+b-g.getUTCDay();return g.setUTCDate(g.getUTCDate()+y),g}var Se=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(k),Pe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return K(ee(t.length,e),i);case"eo":return K(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(k),Ce=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return K(ee(t.length,e),i);case"co":return K(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ae(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(k),Te=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",90),(0,w.A)((0,m.A)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ee(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return K(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return K(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return K(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return K(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,f.A)(2,arguments);var n=(0,p.A)(t);n%7==0&&(n-=7);var r=(0,l.A)(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(k),Oe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",80),(0,w.A)((0,m.A)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(k),Me=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",80),(0,w.A)((0,m.A)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(k),De=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",80),(0,w.A)((0,m.A)(e),"incompatibleTokens",["a","b","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(k),Ie=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",70),(0,w.A)((0,m.A)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return Q(I,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(k),Ne=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",70),(0,w.A)((0,m.A)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return Q(O,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(k),je=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",70),(0,w.A)((0,m.A)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return Q(D,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(k),Re=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",70),(0,w.A)((0,m.A)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return Q(M,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(k),Le=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",60),(0,w.A)((0,m.A)(e),"incompatibleTokens",["t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return Q(N,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(k),Fe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",50),(0,w.A)((0,m.A)(e),"incompatibleTokens",["t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return Q(j,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(k),Be=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",30),(0,w.A)((0,m.A)(e),"incompatibleTokens",["t","T"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t){return K(ee(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(k),Ve=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",10),(0,w.A)((0,m.A)(e),"incompatibleTokens",["t","T","x"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return X($,e);case"XX":return X(W,e);case"XXXX":return X(G,e);case"XXXXX":return X(Y,e);default:return X(J,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(k),ze=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",10),(0,w.A)((0,m.A)(e),"incompatibleTokens",["t","T","X"]),e}return(0,v.A)(n,[{key:"parse",value:function(e,t){switch(t){case"x":return X($,e);case"xx":return X(W,e);case"xxxx":return X(G,e);case"xxxxx":return X(Y,e);default:return X(J,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(k),Ue=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",40),(0,w.A)((0,m.A)(e),"incompatibleTokens","*"),e}return(0,v.A)(n,[{key:"parse",value:function(e){return Z(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(k),qe=function(e){(0,g.A)(n,e);var t=(0,b.A)(n);function n(){var e;(0,y.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,w.A)((0,m.A)(e),"priority",20),(0,w.A)((0,m.A)(e),"incompatibleTokens","*"),e}return(0,v.A)(n,[{key:"parse",value:function(e){return Z(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(k),He={G:new A,y:new oe,Y:new le,R:new ue,u:new de,Q:new he,q:new pe,M:new fe,L:new me,w:new be,I:new ve,d:new xe,D:new Ee,E:new Se,e:new Pe,c:new Ce,i:new Te,a:new Oe,b:new Me,B:new De,h:new Ie,H:new Ne,K:new je,k:new Re,m:new Le,s:new Fe,S:new Be,X:new Ve,x:new ze,t:new Ue,T:new qe},$e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,We=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ge=/^'([^]*?)'?$/,Je=/''/g,Ye=/\S/,Ke=/[a-zA-Z]/;function Qe(e,t,n,i){var m,g,b,y,v,w,_,x,k,A,S,P,C,T,O,M,D,I;(0,f.A)(3,arguments);var N=String(e),j=String(t),R=(0,ke.q)(),L=null!==(m=null!==(g=null==i?void 0:i.locale)&&void 0!==g?g:R.locale)&&void 0!==m?m:s.A;if(!L.match)throw new RangeError("locale must contain match property");var F=(0,p.A)(null!==(b=null!==(y=null!==(v=null!==(w=null==i?void 0:i.firstWeekContainsDate)&&void 0!==w?w:null==i||null===(_=i.locale)||void 0===_||null===(x=_.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==v?v:R.firstWeekContainsDate)&&void 0!==y?y:null===(k=R.locale)||void 0===k||null===(A=k.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==b?b:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=(0,p.A)(null!==(S=null!==(P=null!==(C=null!==(T=null==i?void 0:i.weekStartsOn)&&void 0!==T?T:null==i||null===(O=i.locale)||void 0===O||null===(M=O.options)||void 0===M?void 0:M.weekStartsOn)&&void 0!==C?C:R.weekStartsOn)&&void 0!==P?P:null===(D=R.locale)||void 0===D||null===(I=D.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==S?S:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===j)return""===N?(0,l.A)(n):new Date(NaN);var V,z={firstWeekContainsDate:F,weekStartsOn:B,locale:L},U=[new E],q=j.match(We).map(function(e){var t=e[0];return t in u.A?(0,u.A[t])(e,L.formatLong):e}).join("").match($e),H=[],$=o(q);try{var W=function(){var t=V.value;null!=i&&i.useAdditionalWeekYearTokens||!(0,h.xM)(t)||(0,h.lJ)(t,j,e),null!=i&&i.useAdditionalDayOfYearTokens||!(0,h.ef)(t)||(0,h.lJ)(t,j,e);var n=t[0],r=He[n];if(r){var o=r.incompatibleTokens;if(Array.isArray(o)){var s=H.find(function(e){return o.includes(e.token)||e.token===n});if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&H.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));H.push({token:n,fullToken:t});var a=r.run(N,t,L.match,z);if(!a)return{v:new Date(NaN)};U.push(a.setter),N=a.rest}else{if(n.match(Ke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Ge)[1].replace(Je,"'")),0!==N.indexOf(t))return{v:new Date(NaN)};N=N.slice(t.length)}};for($.s();!(V=$.n()).done;){var G=W();if("object"===(0,r.A)(G))return G.v}}catch(e){$.e(e)}finally{$.f()}if(N.length>0&&Ye.test(N))return new Date(NaN);var J=U.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return U.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),Y=(0,l.A)(n);if(isNaN(Y.getTime()))return new Date(NaN);var K,Q=(0,a.A)(Y,(0,d.A)(Y)),X={},Z=o(J);try{for(Z.s();!(K=Z.n()).done;){var ee=K.value;if(!ee.validate(Q,z))return new Date(NaN);var te=ee.set(Q,X,z);Array.isArray(te)?(Q=te[0],c(X,te[1])):Q=te}}catch(e){Z.e(e)}finally{Z.f()}return Q}},543:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},551:(e,t,n)=>{"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>r})},583:(e,t,n)=>{var r=n(7237),i=n(7255),o=n(8586),s=n(7797);e.exports=function(e){return o(e)?r(s(e)):i(e)}},631:(e,t,n)=>{var r=n(8077),i=n(9326);e.exports=function(e,t){return null!=e&&i(e,t,r)}},641:(e,t,n)=>{var r=n(6649),i=n(5950);e.exports=function(e,t){return e&&r(e,t,i)}},659:(e,t,n)=>{var r=n(1873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e),o=(0,r.A)(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},689:(e,t,n)=>{var r=n(2),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var b=e[h=c[d]],y=t[h];if(o)var v=l?o(y,b,h,t,e,a):o(b,y,h,e,t,a);if(!(void 0===v?b===y||s(b,y,n,o,a):v)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return a.delete(e),a.delete(t),m}},695:(e,t,n)=>{var r=n(8096),i=n(2428),o=n(6449),s=n(3656),a=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},734:(e,t,n)=>{const r=n(5659),i=n(8507),o={};Object.keys(r).forEach(e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=i(e);Object.keys(t).forEach(n=>{const r=t[n];o[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=o},748:(module,__unused_webpack_exports,__webpack_require__)=>{var root,factory;root=globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||s(t)},t.bytesToString=c,t.createValidAbsoluteUrl=function(e,t=null,n=null){if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=p(e)}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null},t.getModificationDate=function(e=new Date){return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getUuid=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return c(e)},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"==typeof e&&void 0!==e?.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isNodeJS=void 0,t.normalizeUnicode=function(e){return f||(f=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m=new Map([["","t"]])),e.replaceAll(f,(e,t,n)=>t?t.normalize("NFKC"):m.get(n))},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=a,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){if(e[0]>=""){let t;if(""===e[0]&&""===e[1]?t="utf-16be":""===e[0]&&""===e[1]?t="utf-16le":""===e[0]&&""===e[1]&&""===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=u(e);return n.decode(r)}catch(e){o(`stringToPDFString: "${e}".`)}}const t=[];for(let n=0,r=e.length;n<r;n++){const r=h[e.charCodeAt(n)];t.push(r?String.fromCharCode(r):e.charAt(n))}return t.join("")},t.stringToUTF8String=p,t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=o;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35;t.BASELINE_FACTOR=.35/1.35,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},t.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function o(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function s(e){throw new Error(e)}function a(e,t,n,r=!1){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"object"==typeof e&&void 0!==e?.length||s("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const o=Math.min(i+n,t),s=e.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function u(e){"string"!=typeof e&&s("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"==typeof navigator?a(this,"platform",{isWin:!1,isMac:!1}):a(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return a(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const d=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0"));t.Util=class{static makeHexColor(e,t,n){return`#${d[e]}${d[t]}${d[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],s=(n+o)/2,a=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,l=s+a||1,c=s-a||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[n,i,r,o]}static bezierBoundingBox(e,t,n,r,i,o,s,a){const l=[],c=[[],[]];let u,d,h,p,f,m,g,b;for(let c=0;c<2;++c)if(0===c?(d=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*s,h=3*n-3*e):(d=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*a,h=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(d)<1e-12)continue;p=-h/d,0<p&&p<1&&l.push(p)}else g=d*d-4*h*u,b=Math.sqrt(g),g<0||(f=(-d+b)/(2*u),0<f&&f<1&&l.push(f),m=(-d-b)/(2*u),0<m&&m<1&&l.push(m));let y,v=l.length;const w=v;for(;v--;)p=l[v],y=1-p,c[0][v]=y*y*y*e+3*y*y*p*n+3*y*p*p*i+p*p*p*s,c[1][v]=y*y*y*t+3*y*y*p*r+3*y*p*p*o+p*p*p*a;return c[0][w]=e,c[1][w]=t,c[0][w+1]=s,c[1][w+1]=a,c[0].length=c[1].length=w+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}};const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(e){return decodeURIComponent(escape(e))}t.PromiseCapability=class{#e=!1;constructor(){this.promise=new Promise((e,t)=>{this.resolve=t=>{this.#e=!0,e(t)},this.reject=e=>{this.#e=!0,t(e)}})}get settled(){return this.#e}};let f=null,m=null;t.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(e){if("string"==typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!=typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,{docId:n}=t,r=e.url?getUrlProp(e.url):null,i=e.data?getDataProp(e.data):null,o=e.httpHeaders||null,s=!0===e.withCredentials,a=e.password??null,l=e.range instanceof PDFDataRangeTransport?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let u=e.worker instanceof PDFWorker?e.worker:null;const d=e.verbosity,h="string"!=typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,p="string"==typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,m=e.CMapReaderFactory||DefaultCMapReaderFactory,g="string"==typeof e.standardFontDataUrl?e.standardFontDataUrl:null,b=e.StandardFontDataFactory||DefaultStandardFontDataFactory,y=!0!==e.stopAtErrors,v=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,_="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_util.isNodeJS,x=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,E="boolean"==typeof e.disableFontFace?e.disableFontFace:_util.isNodeJS,k=!0===e.fontExtraProperties,A=!0===e.enableXfa,S=e.ownerDocument||globalThis.document,P=!0===e.disableRange,C=!0===e.disableStream,T=!0===e.disableAutoFetch,O=!0===e.pdfBug,M=l?l.length:e.length??NaN,D="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!_util.isNodeJS&&!E,I="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:m===_display_utils.DOMCMapReaderFactory&&b===_display_utils.DOMStandardFontDataFactory&&p&&g&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI),N=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:S}),j=e.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:S});(0,_util.setVerbosityLevel)(d);const R={canvasFactory:N,filterFactory:j};if(I||(R.cMapReaderFactory=new m({baseUrl:p,isCompressed:f}),R.standardFontDataFactory=new b({baseUrl:g})),!u){const e={verbosity:d,port:_worker_options.GlobalWorkerOptions.workerPort};u=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=u}const L={docId:n,apiVersion:"3.11.174",data:i,password:a,disableAutoFetch:T,rangeChunkSize:c,length:M,docBaseUrl:h,enableXfa:A,evaluatorOptions:{maxImageSize:v,disableFontFace:E,ignoreErrors:y,isEvalSupported:w,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:x,fontExtraProperties:k,useSystemFonts:D,cMapUrl:I?p:null,standardFontDataUrl:I?g:null}},F={ignoreErrors:y,isEvalSupported:w,disableFontFace:E,fontExtraProperties:k,enableXfa:A,ownerDocument:S,disableAutoFetch:T,pdfBug:O,styleElement:null};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(u,L),a=new Promise(function(e){let t;var n;l?t=new _transport_stream.PDFDataTransportStream({length:M,initialData:l.initialData,progressiveDone:l.progressiveDone,contentDispositionFilename:l.contentDispositionFilename,disableRange:P,disableStream:C},l):i||(n={url:r,length:M,httpHeaders:o,withCredentials:s,rangeChunkSize:c,disableRange:P,disableStream:C},t=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(n):(0,_display_utils.isValidFetchUrl)(n.url)?new _displayFetch_stream.PDFFetchStream(n):new _displayNetwork.PDFNetworkStream(n)),e(t)});return Promise.all([e,a]).then(function([e,r]){if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(n,e,u.port),o=new WorkerTransport(i,t,r,F,R);t._transport=o,i.send("Ready",null)})}).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&"string"==typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return(0,_util.stringToBytes)(e);if("object"==typeof e&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(e=>{if(!e)return e;const t=[];for(const n in e)t.push(...e[n]);return t}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#n=null;#r=!1;constructor(e,t,n,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:s=null,annotationCanvasMap:a=null,pageColors:l=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");const u=this._transport.getRenderingIntent(n,r,c);this.#r=!1,this.#i(),s||(s=this._transport.getOptionalContentConfig());let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d)),d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const h=!!(u.renderingIntent&_util.RenderingIntentFlag.PRINT);d.displayReadyCapability||(d.displayReadyCapability=new _util.PromiseCapability,d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const p=e=>{d.renderTasks.delete(f),(this._maybeCleanupAfterRender||h)&&(this.#r=!0),this.#o(!h),e?(f.capability.reject(e),this._abortOperatorList({intentState:d,reason:e instanceof Error?e:new Error(e)})):f.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},f=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!h,pdfBug:this._pdfBug,pageColors:l});(d.renderTasks||=new Set).add(f);const m=f.task;return Promise.all([d.displayReadyCapability.promise,s]).then(([e,t])=>{this.destroyed?p():(this._stats?.time("Rendering"),f.initializeGraphics({transparency:e,optionalContentConfig:t}),f.operatorListChanged())}).catch(p),m}getOperatorList({intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){const r=this._transport.getRenderingIntent(e,t,n,!0);let i,o=this._intentStates.get(r.cacheKey);return o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o)),o.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(i))},o.opListReadCapability=new _util.PromiseCapability,(o.renderTasks||=new Set).add(i),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then(function({value:n,done:r}){r?e(i):(Object.assign(i.styles,n.styles),i.items.push(...n.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#r=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#r=!0;const t=this.#o(!1);return e&&t&&(this._stats&&=new _display_utils.StatTimer),t}#o(e=!1){if(this.#i(),!this.#r||this.destroyed)return!1;if(e)return this.#n=setTimeout(()=>{this.#n=null,this.#o(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#r=!1,!0}#i(){this.#n&&(clearTimeout(this.#n),this.#n=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();e.lastChunk&&this.#o(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:r,transfers:i}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},i).getReader(),s=this._intentStates.get(t);s.streamReader=o;const a=()=>{o.read().then(({value:e,done:t})=>{t?s.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,s),a())},e=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const e of s.renderTasks)e.operatorListChanged();this.#o(!0)}if(s.displayReadyCapability)s.displayReadyCapability.reject(e);else{if(!s.opListReadCapability)throw e;s.opListReadCapability.reject(e)}}})};a()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){let n=RENDERING_CANCELLED_TIMEOUT;return t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},n))}}if(e.streamReader.cancel(new _util.AbortException(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#s=new Set;#a=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#a.then(()=>{for(const e of this.#s)e.call(this,n)})}addEventListener(e,t){this.#s.add(t)}removeEventListener(e,t){this.#s.delete(t)}terminate(){this.#s.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#l;constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){if(PDFWorker.#l?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(PDFWorker.#l||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",e=>{t.removeEventListener("error",i),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",e=>{if(t.removeEventListener("error",i),this.destroyed)r();else try{o()}catch{this._setupFakeWorker()}});const o=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#l?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#l?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#c=new Map;#u=new Map;#d=new Map;#h=null;constructor(e,t,n,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#p(e,t=null){const n=this.#c.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#c.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,t=_util.AnnotationMode.ENABLE,n=null,r=!1){let i=_util.RenderingIntentFlag.DISPLAY,o=_annotation_storage.SerializableEmpty;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#h?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const t of this.#u.values())e.push(t._destroy());this.#u.clear(),this.#d.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#c.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function({value:e,done:n}){n?t.close():((0,_util.assert)(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",e=>{const n=new _util.PromiseCapability,r=this._fullReader;return r.headersReady.then(()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},n.reject),n.promise}),e.on("GetRangeReader",(e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function({value:e,done:n}){n?t.close():((0,_util.assert)(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(e,this))}),e.on("DocException",function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)}),e.on("PasswordRequest",e=>{if(this.#h=new _util.PromiseCapability,t.onPassword){const n=e=>{e instanceof Error?this.#h.reject(e):this.#h.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this.#h.reject(e)}}else this.#h.reject(new _util.PasswordException(e.message,e.code));return this.#h.promise}),e.on("DataLoaded",e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{this.destroyed||this.#u.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",([t,n,r])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(n){case"Font":const i=this._params;if("error"in r){const e=r.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}const o=i.pdfBug&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,s=new _font_loader.FontFaceObject(r,{isEvalSupported:i.isEvalSupported,disableFontFace:i.disableFontFace,ignoreErrors:i.ignoreErrors,inspectFont:o});this.fontLoader.bind(s).catch(n=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!i.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(t,s)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,r);break;default:throw new Error(`Got unknown common object type ${n}`)}}),e.on("obj",([e,t,n,r])=>{if(this.destroyed)return;const i=this.#u.get(t);if(!i.objs.has(e))switch(n){case"Image":if(i.objs.resolve(e,r),r){let e;if(r.bitmap){const{width:t,height:n}=r;e=t*n*4}else e=r.data?.length||0;e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(i._maybeCleanupAfterRender=!0)}break;case"Pattern":i.objs.resolve(e,r);break;default:throw new Error(`Got unknown object type ${n}`)}}),e.on("DocProgress",e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})}),e.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfers:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#d.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.pdfBug);return this.#u.set(t,n),n});return this.#d.set(t,r),r}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#p("GetFieldObjects")}hasJSActions(){return this.#p("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#p("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#c.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#c.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#u.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#c.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}class PDFObjects{#f=Object.create(null);#m(e){return this.#f[e]||={capability:new _util.PromiseCapability,data:null}}get(e,t=null){if(t){const n=this.#m(e);return n.capability.promise.then(()=>t(n.data)),null}const n=this.#f[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#f[e];return t?.capability.settled||!1}resolve(e,t=null){const n=this.#m(e);n.data=t,n.capability.resolve()}clear(){for(const e in this.#f){const{data:t}=this.#f[e];t?.bitmap?.close()}this.#f=Object.create(null)}}class RenderTask{#g=null;constructor(e){this.#g=e,this.onContinue=null}get promise(){return this.#g.capability.promise}cancel(e=0){this.#g.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#g.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#g;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#b=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:s,canvasFactory:a,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:d=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=a,this.filterFactory=l,this._pdfBug=u,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#b.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#b.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:i,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#b.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#b.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(4),o=n(8);const s=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=s;class a{#y=!1;#v=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#v.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#v.get(e)}remove(e){if(this.#v.delete(e),0===this.#v.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this.#v.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#v.get(e);let r=!1;if(void 0!==n)for(const[e,i]of Object.entries(t))n[e]!==i&&(r=!0,n[e]=i);else r=!0,this.#v.set(e,t);r&&this.#w(),t instanceof i.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#v.has(e)}getAll(){return this.#v.size>0?(0,r.objectFromMap)(this.#v):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#v.size}#w(){this.#y||(this.#y=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#y&&(this.#y=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new l(this)}get serializable(){if(0===this.#v.size)return s;const e=new Map,t=new o.MurmurHash3_64,n=[],r=Object.create(null);let a=!1;for(const[n,o]of this.#v){const s=o instanceof i.AnnotationEditor?o.serialize(!1,r):o;s&&(e.set(n,s),t.update(`${n}:${JSON.stringify(s)}`),a||=!!s.bitmap)}if(a)for(const t of e.values())t.bitmap&&n.push(t.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:n}:s}}t.AnnotationStorage=a;class l extends a{#_;constructor(e){super();const{map:t,hash:n,transfers:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);this.#_={map:i,hash:n,transfers:r}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#_}}t.PrintAnnotationStorage=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),i=n(1),o=n(6);class s{#x="";#E=!1;#k=null;#A=null;#S=null;#P=!1;#C=null;#T=this.focusin.bind(this);#O=this.focusout.bind(this);#M=!1;#D=!1;#I=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#N=!1;#j=s._zIndex++;static _borderLineWidth=-1;static _colorManager=new r.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(e){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,a];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new a({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t=null){if(s._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(t=>[t,e.get(t)])),t?.strings)for(const n of t.strings)s._l10nPromise.set(n,e.get(n));if(-1!==s._borderLineWidth)return;const n=getComputedStyle(document.documentElement);s._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#N}set _isDraggable(e){this.#N=e,this.div?.classList.toggle("draggable",e)}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#j}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#M?this.#M=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/o,this.fixAndSetPosition()}#R([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#R(this.parentDimensions,e,t)}translateInPage(e,t){this.#R(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[s,a]=this.#L();i+=s,o+=a,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#L(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=s,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}fixAndSetPosition(){const[e,t]=this.pageDimensions;let{x:n,y:r,width:i,height:o}=this;switch(i*=e,o*=t,n*=e,r*=t,this.rotation){case 0:n=Math.max(0,Math.min(e-i,n)),r=Math.max(0,Math.min(t-o,r));break;case 90:n=Math.max(0,Math.min(e-o,n)),r=Math.min(t,Math.max(i,r));break;case 180:n=Math.min(e,Math.max(i,n)),r=Math.min(t,Math.max(o,r));break;case 270:n=Math.min(e,Math.max(o,n)),r=Math.max(0,Math.min(t-i,r))}this.x=n/=e,this.y=r/=t;const[s,a]=this.#L();n+=s,r+=a;const{style:l}=this.div;l.left=`${(100*n).toFixed(2)}%`,l.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#F(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return s.#F(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return s.#F(e,t,360-this.parentRotation)}#B(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,o=n*e;return i.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(o)]:[r,o]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#P||(this.div.style.height=`${(100*t/r).toFixed(2)}%`),this.#k?.classList.toggle("small",e<s.SMALL_EDITOR_SIZE||t<s.SMALL_EDITOR_SIZE)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!this.#P&&t.endsWith("%");if(r&&i)return;const[o,s]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),this.#P||i||(e.height=`${(100*parseFloat(t)/s).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#V(){if(this.#C)return;this.#C=document.createElement("div"),this.#C.classList.add("resizers");const e=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||e.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const t of e){const e=document.createElement("div");this.#C.append(e),e.classList.add("resizer",t),e.addEventListener("pointerdown",this.#z.bind(this,t)),e.addEventListener("contextmenu",o.noContextMenu)}this.div.prepend(this.#C)}#z(e,t){t.preventDefault();const{isMac:n}=i.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&n)return;const r=this.#U.bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s={passive:!0,capture:!0};window.addEventListener("pointermove",r,s);const a=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this._isDraggable=o,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,s),this.parent.div.style.cursor=d,this.div.style.cursor=h;const e=this.x,t=this.y,n=this.width,i=this.height;e===a&&t===l&&n===c&&i===u||this.addCommands({cmd:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[r,o]=this.parentDimensions;this.setDims(r*n,o*i),this.fixAndSetPosition()},undo:()=>{this.width=c,this.height=u,this.x=a,this.y=l;const[e,t]=this.parentDimensions;this.setDims(e*c,t*u),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}#U(e,t){const[n,r]=this.parentDimensions,i=this.x,o=this.y,a=this.width,l=this.height,c=s.MIN_SIZE/n,u=s.MIN_SIZE/r,d=e=>Math.round(1e4*e)/1e4,h=this.#B(this.rotation),p=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],f=this.#B(360-this.rotation);let m,g,b=!1,y=!1;switch(e){case"topLeft":b=!0,m=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":b=!0,m=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":y=!0,m=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":b=!0,m=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":b=!0,m=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":y=!0,m=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const v=m(a,l),w=g(a,l);let _=p(...w);const x=d(i+_[0]),E=d(o+_[1]);let k=1,A=1,[S,P]=this.screenToPageTranslation(t.movementX,t.movementY);var C,T;if([S,P]=(C=S/n,T=P/r,[f[0]*C+f[2]*T,f[1]*C+f[3]*T]),b){const e=Math.hypot(a,l);k=A=Math.max(Math.min(Math.hypot(w[0]-v[0]-S,w[1]-v[1]-P)/e,1/a,1/l),c/a,u/l)}else y?k=Math.max(c,Math.min(1,Math.abs(w[0]-v[0]-S)))/a:A=Math.max(u,Math.min(1,Math.abs(w[1]-v[1]-P)))/l;const O=d(a*k),M=d(l*A);_=p(...g(O,M));const D=x-_[0],I=E-_[1];this.width=O,this.height=M,this.x=D,this.y=I,this.setDims(n*O,r*M),this.fixAndSetPosition()}async addAltTextButton(){if(this.#k)return;const e=this.#k=document.createElement("button");e.className="altText";const t=await s._l10nPromise.get("editor_alt_text_button_label");if(e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",o.noContextMenu),e.addEventListener("pointerdown",e=>e.stopPropagation()),e.addEventListener("click",e=>{e.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))}),this.#q(),this.div.append(e),!s.SMALL_EDITOR_SIZE){const t=40;s.SMALL_EDITOR_SIZE=Math.min(128,Math.round(e.getBoundingClientRect().width*(1+t/100)))}}async#q(){const e=this.#k;if(!e)return;if(!this.#x&&!this.#E)return e.classList.remove("done"),void this.#A?.remove();s._l10nPromise.get("editor_alt_text_edit_button_label").then(t=>{e.setAttribute("aria-label",t)});let t=this.#A;if(!t){this.#A=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.id}`;e.setAttribute("aria-describedby",n);const r=100;e.addEventListener("mouseenter",()=>{this.#S=setTimeout(()=>{this.#S=null,this.#A.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},r)}),e.addEventListener("mouseleave",()=>{clearTimeout(this.#S),this.#S=null,this.#A?.classList.remove("show")})}e.classList.add("done"),t.innerText=this.#E?await s._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#x,t.parentNode||e.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#x,decorative:this.#E}}set altTextData({altText:e,decorative:t}){this.#x===e&&this.#E===t||(this.#x=e,this.#E=t,this.#q())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#T),this.div.addEventListener("focusout",this.#O);const[e,t]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=i.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#M=!0,this.#H(e))}#H(e){if(!this._isDraggable)return;const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),t&&(n={passive:!0,capture:!0},r=e=>{const[t,n]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,n)},window.addEventListener("pointermove",r,n));const o=()=>{if(window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&window.removeEventListener("pointermove",r,n),this.#M=!1,!this._uiManager.endDragSession()){const{isMac:t}=i.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",o),window.addEventListener("blur",o)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){const n=this.parentScale,[r,i]=this.pageDimensions,[o,s]=this.pageTranslation,a=e/n,l=t/n,c=this.x*r,u=this.y*i,d=this.width*r,h=this.height*i;switch(this.rotation){case 0:return[c+a+o,i-u-l-h+s,c+a+d+o,i-u-l+s];case 90:return[c+l+o,i-u+a+s,c+l+h+o,i-u+a+d+s];case 180:return[c-a-d+o,i-u+l+s,c-a+o,i-u+l+h+s];case 270:return[c-l-h+o,i-u-a-d+s,c-l+o,i-u-a+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,o]=e,s=i-n,a=o-r;switch(this.rotation){case 0:return[n,t-o,s,a];case 90:return[n,t-r,a,s];case 180:return[i,t-r,s,a];case 270:return[i,t-o,a,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#I=!0}disableEditMode(){this.#I=!1}isInEditMode(){return this.#I}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#T),this.div?.addEventListener("focusout",this.#O)}serialize(e=!1,t=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[i,o]=r.pageDimensions,[s,a,l,c]=r.getRectInCurrentCoords(e.rect,o);return r.x=s/i,r.y=a/o,r.width=l/i,r.height=c/o,r}remove(){this.div.removeEventListener("focusin",this.#T),this.div.removeEventListener("focusout",this.#O),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#k?.remove(),this.#k=null,this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#V(),this.#C.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#C?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(e,t){}disableEditing(){this.#k&&(this.#k.hidden=!0)}enableEditing(){this.#k&&(this.#k.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#D}set isEditing(e){this.#D=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#P=!0;const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}}t.AnnotationEditor=s;class a extends s{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(6);class o{#$=0;getId(){return`${r.AnnotationEditorPrefix}${this.#$++}`}}class s{#W=(0,r.getUuid)();#$=0;#G=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]));return(0,r.shadow)(this,"_isSVGFittingCanvas",n)}async#J(e,t){this.#G||=new Map;let n=this.#G.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#W}_${this.#$++}`,refCounter:0,isSvg:!1},"string"==typeof t){n.url=t;const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);e=await r.blob()}else e=n.file=t;if("image/svg+xml"===e.type){const t=s._isSVGFittingCanvas,r=new FileReader,i=new Image,o=new Promise((e,o)=>{i.onload=()=>{n.bitmap=i,n.isSvg=!0,e()},r.onload=async()=>{const e=n.svgUrl=r.result;i.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},i.onerror=r.onerror=o});r.readAsDataURL(e),await o}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(e){console.error(e),n=null}return this.#G.set(e,n),n&&this.#G.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return this.#J(`${t}_${n}_${r}_${i}`,e)}async getFromUrl(e){return this.#J(e,e)}async getFromId(e){this.#G||=new Map;const t=this.#G.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#G.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#G||=new Map;const t=this.#G.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#W}_`)}}class a{#Y=[];#K=!1;#Q;#X=-1;constructor(e=128){this.#Q=e}add({cmd:e,undo:t,mustExec:n,type:r=NaN,overwriteIfSameType:i=!1,keepUndo:o=!1}){if(n&&e(),this.#K)return;const s={cmd:e,undo:t,type:r};if(-1===this.#X)return this.#Y.length>0&&(this.#Y.length=0),this.#X=0,void this.#Y.push(s);if(i&&this.#Y[this.#X].type===r)return o&&(s.undo=this.#Y[this.#X].undo),void(this.#Y[this.#X]=s);const a=this.#X+1;a===this.#Q?this.#Y.splice(0,1):(this.#X=a,a<this.#Y.length&&this.#Y.splice(a)),this.#Y.push(s)}undo(){-1!==this.#X&&(this.#K=!0,this.#Y[this.#X].undo(),this.#K=!1,this.#X-=1)}redo(){this.#X<this.#Y.length-1&&(this.#X+=1,this.#K=!0,this.#Y[this.#X].cmd(),this.#K=!1)}hasSomethingToUndo(){return-1!==this.#X}hasSomethingToRedo(){return this.#X<this.#Y.length-1}destroy(){this.#Y=null}}t.CommandManager=a;class l{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=r.FeatureTest.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}#Z(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#Z(t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...o)(),i||(t.stopPropagation(),t.preventDefault()))}}t.KeyboardManager=l;class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,n]of this._colors)if(n.every((e,n)=>e===t[n]))return c._colorsMapping.get(e);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=c;class u{#ee=null;#te=new Map;#ne=new Map;#re=null;#ie=null;#oe=new a;#se=0;#ae=new Set;#le=null;#ce=null;#ue=new Set;#de=null;#he=new o;#pe=!1;#fe=!1;#me=null;#ge=r.AnnotationEditorType.NONE;#be=new Set;#ye=null;#ve=this.blur.bind(this);#we=this.focus.bind(this);#_e=this.copy.bind(this);#xe=this.cut.bind(this);#Ee=this.paste.bind(this);#ke=this.keydown.bind(this);#Ae=this.onEditingAction.bind(this);#Se=this.onPageChanging.bind(this);#Pe=this.onScaleChanging.bind(this);#Ce=this.onRotationChanging.bind(this);#Te={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#Oe=[0,0];#Me=null;#De=null;#Ie=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=u.prototype,t=e=>{const{activeElement:t}=document;return t&&e.#De.contains(t)&&e.hasSomethingToControl()},n=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new l([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,o,s){this.#De=e,this.#Ie=t,this.#re=n,this._eventBus=r,this._eventBus._on("editingaction",this.#Ae),this._eventBus._on("pagechanging",this.#Se),this._eventBus._on("scalechanging",this.#Pe),this._eventBus._on("rotationchanging",this.#Ce),this.#ie=o.annotationStorage,this.#de=o.filterFactory,this.#ye=s,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#Ne(),this.#je(),this._eventBus._off("editingaction",this.#Ae),this._eventBus._off("pagechanging",this.#Se),this._eventBus._off("scalechanging",this.#Pe),this._eventBus._off("rotationchanging",this.#Ce);for(const e of this.#ne.values())e.destroy();this.#ne.clear(),this.#te.clear(),this.#ue.clear(),this.#ee=null,this.#be.clear(),this.#oe.destroy(),this.#re.destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#ye?this.#de.addHCMFilter(this.#ye.foreground,this.#ye.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#De).direction)}editAltText(e){this.#re?.editAltText(this,e)}onPageChanging({pageNumber:e}){this.#se=e-1}focusMainContainer(){this.#De.focus()}findParent(e,t){for(const n of this.#ne.values()){const{x:r,y:i,width:o,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+s)return n}return null}disableUserSelect(e=!1){this.#Ie.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#ue.add(e)}removeShouldRescale(e){this.#ue.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const e of this.#ue)e.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}addToAnnotationStorage(e){e.isEmpty()||!this.#ie||this.#ie.has(e.id)||this.#ie.setValue(e.id,e)}#Re(){window.addEventListener("focus",this.#we),window.addEventListener("blur",this.#ve)}#je(){window.removeEventListener("focus",this.#we),window.removeEventListener("blur",this.#ve)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#be)if(t.div.contains(e)){this.#me=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#me)return;const[e,t]=this.#me;this.#me=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}#Le(){window.addEventListener("keydown",this.#ke,{capture:!0})}#Ne(){window.removeEventListener("keydown",this.#ke,{capture:!0})}#Fe(){document.addEventListener("copy",this.#_e),document.addEventListener("cut",this.#xe),document.addEventListener("paste",this.#Ee)}#Be(){document.removeEventListener("copy",this.#_e),document.removeEventListener("cut",this.#xe),document.removeEventListener("paste",this.#Ee)}addEditListeners(){this.#Le(),this.#Fe()}removeEditListeners(){this.#Ne(),this.#Be()}copy(e){if(e.preventDefault(),this.#ee?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const e of this.#be){const n=e.serialize(!0);n&&t.push(n)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const e of t.items)for(const t of this.#ce)if(t.isHandlingMimeForPasting(e.type))return void t.paste(e,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(e){return void(0,r.warn)(`paste: "${e.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const t of n){const n=i.deserialize(t);if(!n)return;e.push(n)}const t=()=>{for(const t of e)this.#Ve(t);this.#ze(e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(e){(0,r.warn)(`paste: "${e.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||u._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}#Ue(e){Object.entries(e).some(([e,t])=>this.#Te[e]!==t)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Te,e)})}#qe(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#Re(),this.#Le(),this.#Fe(),this.#Ue({isEditing:this.#ge!==r.AnnotationEditorType.NONE,isEmpty:this.#He(),hasSomethingToUndo:this.#oe.hasSomethingToUndo(),hasSomethingToRedo:this.#oe.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#je(),this.#Ne(),this.#Be(),this.#Ue({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#ce){this.#ce=e;for(const e of this.#ce)this.#qe(e.defaultPropertiesToUpdate)}}getId(){return this.#he.getId()}get currentLayer(){return this.#ne.get(this.#se)}getLayer(e){return this.#ne.get(e)}get currentPageIndex(){return this.#se}addLayer(e){this.#ne.set(e.pageIndex,e),this.#pe?e.enable():e.disable()}removeLayer(e){this.#ne.delete(e.pageIndex)}updateMode(e,t=null){if(this.#ge!==e){if(this.#ge=e,e===r.AnnotationEditorType.NONE)return this.setEditingState(!1),void this.#$e();this.setEditingState(!0),this.#We(),this.unselectAll();for(const t of this.#ne.values())t.updateMode(e);if(t)for(const e of this.#te.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}}updateToolbar(e){e!==this.#ge&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#ce)if(e!==r.AnnotationEditorParamsType.CREATE){for(const n of this.#be)n.updateParams(e,t);for(const n of this.#ce)n.updateDefaultParams(e,t)}else this.currentLayer.addNewEditor(e)}enableWaiting(e=!1){if(this.#fe!==e){this.#fe=e;for(const t of this.#ne.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#We(){if(!this.#pe){this.#pe=!0;for(const e of this.#ne.values())e.enable()}}#$e(){if(this.unselectAll(),this.#pe){this.#pe=!1;for(const e of this.#ne.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#te.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#te.get(e)}addEditor(e){this.#te.set(e.id,e)}removeEditor(e){this.#te.delete(e.id),this.unselect(e),e.annotationElementId&&this.#ae.has(e.annotationElementId)||this.#ie?.remove(e.id)}addDeletedAnnotationElement(e){this.#ae.add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return this.#ae.has(e)}removeDeletedAnnotationElement(e){this.#ae.delete(e.annotationElementId),e.deleted=!1}#Ve(e){const t=this.#ne.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#ee!==e&&(this.#ee=e,e&&this.#qe(e.propertiesToUpdate))}toggleSelected(e){if(this.#be.has(e))return this.#be.delete(e),e.unselect(),void this.#Ue({hasSelectedEditor:this.hasSelection});this.#be.add(e),e.select(),this.#qe(e.propertiesToUpdate),this.#Ue({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#be)t!==e&&t.unselect();this.#be.clear(),this.#be.add(e),e.select(),this.#qe(e.propertiesToUpdate),this.#Ue({hasSelectedEditor:!0})}isSelected(e){return this.#be.has(e)}unselect(e){e.unselect(),this.#be.delete(e),this.#Ue({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#be.size}undo(){this.#oe.undo(),this.#Ue({hasSomethingToUndo:this.#oe.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#He()})}redo(){this.#oe.redo(),this.#Ue({hasSomethingToUndo:!0,hasSomethingToRedo:this.#oe.hasSomethingToRedo(),isEmpty:this.#He()})}addCommands(e){this.#oe.add(e),this.#Ue({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#He()})}#He(){if(0===this.#te.size)return!0;if(1===this.#te.size)for(const e of this.#te.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#be];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Ve(t)},mustExec:!0})}commitOrRemove(){this.#ee?.commitOrRemove()}hasSomethingToControl(){return this.#ee||this.hasSelection}#ze(e){this.#be.clear();for(const t of e)t.isEmpty()||(this.#be.add(t),t.select());this.#Ue({hasSelectedEditor:!0})}selectAll(){for(const e of this.#be)e.commit();this.#ze(this.#te.values())}unselectAll(){if(this.#ee)this.#ee.commitOrRemove();else if(this.hasSelection){for(const e of this.#be)e.unselect();this.#be.clear(),this.#Ue({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#Oe[0]+=e,this.#Oe[1]+=t;const[r,i]=this.#Oe,o=[...this.#be];this.#Me&&clearTimeout(this.#Me),this.#Me=setTimeout(()=>{this.#Me=null,this.#Oe[0]=this.#Oe[1]=0,this.addCommands({cmd:()=>{for(const e of o)this.#te.has(e.id)&&e.translateInPage(r,i)},undo:()=>{for(const e of o)this.#te.has(e.id)&&e.translateInPage(-r,-i)},mustExec:!1})},1e3);for(const n of o)n.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#le=new Map;for(const e of this.#be)this.#le.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#le)return!1;this.disableUserSelect(!1);const e=this.#le;this.#le=null;let t=!1;for(const[{x:n,y:r,pageIndex:i},o]of e)o.newX=n,o.newY=r,o.newPageIndex=i,t||=n!==o.savedX||r!==o.savedY||i!==o.savedPageIndex;if(!t)return!1;const n=(e,t,n,r)=>{if(this.#te.has(e.id)){const i=this.#ne.get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:o}]of e)n(t,r,i,o)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:o}]of e)n(t,r,i,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#le)for(const n of this.#le.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return this.#ee===e}getActive(){return this.#ee}getMode(){return this.#ge}get imageManager(){return(0,r.shadow)(this,"imageManager",new s)}}t.AnnotationEditorUIManager=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,y(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform();return[t,n,r,i,o,s]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform().invertSelf();return[t,n,r,i,o,s]},t.getFilenameFromUrl=function(e,t=!1){return t||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e,t="document.pdf"){if("string"!=typeof e)return t;if(m(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||t},t.getRGB=y,t.getXfaPageViewport=function(e,{scale:t=1,rotation:n=0}){const{width:r,height:i}=e.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new p({viewBox:o,scale:t,rotation:n})},t.isDataScheme=m,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=g,t.loadScript=function(e,t=!1){return new Promise((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)})},t.noContextMenu=function(e){e.preventDefault()},t.setLayerDimensions=function(e,t,n=!1,r=!0){if(t instanceof p){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:s}=e,a=i.FeatureTest.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${o}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;n&&t.rotation%180!=0?(s.width=d,s.height=u):(s.width=u,s.height=d)}r&&e.setAttribute("data-main-rotation",t.rotation)};var r=n(7),i=n(1);const o="http://www.w3.org/2000/svg";class s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=s;class a extends r.BaseFilterFactory{#Ge;#Je;#t;#Ye;#Ke;#Qe;#Xe;#Ze;#et;#tt;#$=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#t=e,this.#Ye=t}get#G(){return this.#Ge||=new Map}get#nt(){if(!this.#Je){const e=this.#Ye.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Ye.createElementNS(o,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#Je=this.#Ye.createElementNS(o,"defs"),e.append(n),n.append(this.#Je),this.#Ye.body.append(e)}return this.#Je}addFilter(e){if(!e)return"none";let t,n,r,i,o=this.#G.get(e);if(o)return o;if(1===e.length){const o=e[0],s=new Array(256);for(let e=0;e<256;e++)s[e]=o[e]/255;i=t=n=r=s.join(",")}else{const[o,s,a]=e,l=new Array(256),c=new Array(256),u=new Array(256);for(let e=0;e<256;e++)l[e]=o[e]/255,c[e]=s[e]/255,u[e]=a[e]/255;t=l.join(","),n=c.join(","),r=u.join(","),i=`${t}${n}${r}`}if(o=this.#G.get(i),o)return this.#G.set(e,o),o;const s=`g_${this.#t}_transfer_map_${this.#$++}`,a=`url(#${s})`;this.#G.set(e,a),this.#G.set(i,a);const l=this.#rt(s);return this.#it(t,n,r,l),a}addHCMFilter(e,t){const n=`${e}-${t}`;if(this.#Qe===n)return this.#Xe;if(this.#Qe=n,this.#Xe="none",this.#Ke?.remove(),!e||!t)return this.#Xe;const r=this.#ot(e);e=i.Util.makeHexColor(...r);const o=this.#ot(t);if(t=i.Util.makeHexColor(...o),this.#nt.style.color="","#000000"===e&&"#ffffff"===t||e===t)return this.#Xe;const s=new Array(256);for(let e=0;e<=255;e++){const t=e/255;s[e]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const a=s.join(","),l=`g_${this.#t}_hcm_filter`,c=this.#Ze=this.#rt(l);this.#it(a,a,a,c),this.#st(c);const u=(e,t)=>{const n=r[e]/255,i=o[e]/255,s=new Array(t+1);for(let e=0;e<=t;e++)s[e]=n+e/t*(i-n);return s.join(",")};return this.#it(u(0,5),u(1,5),u(2,5),c),this.#Xe=`url(#${l})`,this.#Xe}addHighlightHCMFilter(e,t,n,r){const i=`${e}-${t}-${n}-${r}`;if(this.#et===i)return this.#tt;if(this.#et=i,this.#tt="none",this.#Ze?.remove(),!e||!t)return this.#tt;const[o,s]=[e,t].map(this.#ot.bind(this));let a=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),l=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),[c,u]=[n,r].map(this.#ot.bind(this));l<a&&([a,l,c,u]=[l,a,u,c]),this.#nt.style.color="";const d=(e,t,n)=>{const r=new Array(256),i=(l-a)/n,o=e/255,s=(t-e)/(255*n);let c=0;for(let e=0;e<=n;e++){const t=Math.round(a+e*i),n=o+e*s;for(let e=c;e<=t;e++)r[e]=n;c=t+1}for(let e=c;e<256;e++)r[e]=r[c-1];return r.join(",")},h=`g_${this.#t}_hcm_highlight_filter`,p=this.#Ze=this.#rt(h);return this.#st(p),this.#it(d(c[0],u[0],5),d(c[1],u[1],5),d(c[2],u[2],5),p),this.#tt=`url(#${h})`,this.#tt}destroy(e=!1){e&&(this.#Xe||this.#tt)||(this.#Je&&(this.#Je.parentNode.parentNode.remove(),this.#Je=null),this.#Ge&&(this.#Ge.clear(),this.#Ge=null),this.#$=0)}#st(e){const t=this.#Ye.createElementNS(o,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#rt(e){const t=this.#Ye.createElementNS(o,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#nt.append(t),t}#at(e,t,n){const r=this.#Ye.createElementNS(o,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#it(e,t,n,r){const i=this.#Ye.createElementNS(o,"feComponentTransfer");r.append(i),this.#at(i,"feFuncR",e),this.#at(i,"feFuncG",t),this.#at(i,"feFuncB",n)}#ot(e){return this.#nt.style.color=e,y(getComputedStyle(this.#nt).getPropertyValue("color"))}}t.DOMFilterFactory=a;class l extends r.BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function c(e,t=!1){if(g(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),t&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){let e;if(t&&o.response?e=new Uint8Array(o.response):!t&&o.responseText&&(e=(0,i.stringToBytes)(o.responseText)),e)return void n(e)}r(new Error(o.statusText))}},o.send(null)})}t.DOMCanvasFactory=l;class u extends r.BaseCMapReaderFactory{_fetchData(e,t){return c(e,this.isCompressed).then(e=>({cMapData:e,compressionType:t}))}}t.DOMCMapReaderFactory=u;class d extends r.BaseStandardFontDataFactory{_fetchData(e){return c(e,!0)}}t.DOMStandardFontDataFactory=d;class h extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS(o,e)}}t.DOMSVGFactory=h;class p{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=i;const s=(e[2]+e[0])/2,a=(e[3]+e[1])/2;let l,c,u,d,h,p,f,m;switch((n%=360)<0&&(n+=360),n){case 180:l=-1,c=0,u=0,d=1;break;case 90:l=0,c=1,u=1,d=0;break;case 270:l=0,c=-1,u=-1,d=0;break;case 0:l=1,c=0,u=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,d=-d),0===l?(h=Math.abs(a-e[1])*t+r,p=Math.abs(s-e[0])*t+i,f=(e[3]-e[1])*t,m=(e[2]-e[0])*t):(h=Math.abs(s-e[0])*t+r,p=Math.abs(a-e[1])*t+i,f=(e[2]-e[0])*t,m=(e[3]-e[1])*t),this.transform=[l*t,c*t,u*t,d*t,h-l*t*s-u*t*a,p-c*t*s-d*t*a],this.width=f,this.height=m}get rawDims(){const{viewBox:e}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=p;class f extends i.BaseException{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function m(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function g(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}let b;function y(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=f,t.StatTimer=class{started=Object.create(null);times=[];time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:e}of this.times)t=Math.max(e.length,t);for(const{name:n,start:r,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-r}ms\n`);return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!=typeof e)return null;b||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=b.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(o+=c,s+=u):"+"===l&&(o-=c,s-=u),new Date(Date.UTC(n,r,i,o,s,a))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,r){return"none"}destroy(e=!1){}}t.BaseFilterFactory=i;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=o;class s{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(t,n).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class a{constructor({baseUrl:e=null}){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=a;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,o=4294901760,s=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,u=0,d=this.h1,h=this.h2;const p=3432918353,f=461845907,m=11601,g=13715;for(let e=0;e<i;e++)1&e?(c=l[e],c=c*p&o|c*m&s,c=c<<15|c>>>17,c=c*f&o|c*g&s,d^=c,d=d<<13|d>>>19,d=5*d+3864292196):(u=l[e],u=u*p&o|u*m&s,u=u<<15|u>>>17,u=u*f&o|u*g&s,h^=u,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,a){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*p&o|c*m&s,c=c<<15|c>>>17,c=c*f&o|c*g&s,1&i?d^=c:h^=c}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&o|36045*e&s,t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,e=444984403*e&o|60499*e&s,t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);t.FontLoader=class{#lt=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#lt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){if(e&&!this.#lt.has(e.loadedName)){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:i}=e,o=new FontFace(t,n,i);this.addNativeFontFace(o);try{await o.load(),this.#lt.add(t)}catch{(0,r.warn)(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e.systemFontInfo);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(r.isNodeJS||"undefined"!=typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,u.length,u);const h=1482184792;let p=n(d,16);for(o=0,s=u.length-3;o<s;o+=4)p=p-h+n(u,o)|0;o<u.length&&(p=p-h+n(u+"XXX",o)|0),d=i(d,16,4,(0,r.string32)(p));const f=`@font-face {font-family:"${u}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(f);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const t of[e.loadedName,u]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=t,m.append(e)}this._document.body.append(m),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,()=>{m.remove(),t.complete()})}},t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:n=!1,ignoreErrors:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return(0,r.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7);n(1);const i=function(e){return new Promise((t,n)=>{__webpack_require__(3237).readFile(e,(e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))})})};class o extends r.BaseFilterFactory{}t.NodeFilterFactory=o;class s extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(7640).createCanvas(e,t)}}t.NodeCanvasFactory=s;class a extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then(e=>({cMapData:e,compressionType:t}))}}t.NodeCMapReaderFactory=a;class l extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(6),o=n(12),s=n(13);const a=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function u(e,t,n,r,o,s,a,l,c,u){const[d,h,p,f,m,g]=(0,i.getCurrentTransform)(e);if(0===h&&0===p){const i=a*d+m,b=Math.round(i),y=l*f+g,v=Math.round(y),w=(a+c)*d+m,_=Math.abs(Math.round(w)-b)||1,x=(l+u)*f+g,E=Math.abs(Math.round(x)-v)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(f),b,v),e.drawImage(t,n,r,o,s,0,0,_,E),e.setTransform(d,h,p,f,m,g),[_,E]}if(0===d&&0===f){const i=l*p+m,b=Math.round(i),y=a*h+g,v=Math.round(y),w=(l+u)*p+m,_=Math.abs(Math.round(w)-b)||1,x=(a+c)*h+g,E=Math.abs(Math.round(x)-v)||1;return e.setTransform(0,Math.sign(h),Math.sign(p),0,b,v),e.drawImage(t,n,r,o,s,0,0,E,_),e.setTransform(d,h,p,f,m,g),[E,_]}return e.drawImage(t,n,r,o,s,a,l,c,u),[Math.hypot(d,h)*c,Math.hypot(p,f)*u]}class d{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),i=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],i[0]),this.minY=Math.min(this.minY,n[1],i[1]),this.maxX=Math.max(this.maxX,n[0],i[0]),this.maxY=Math.max(this.maxY,n[1],i[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,o,s,a,l,c,u){const d=r.Util.bezierBoundingBox(t,n,i,o,s,a,l,c);if(u)return u[0]=Math.min(u[0],d[0],d[2]),u[1]=Math.max(u[1],d[0],d[2]),u[2]=Math.min(u[2],d[1],d[3]),void(u[3]=Math.max(u[3],d[1],d[3]));this.updateRectMinMax(e,d)}getPathBoundingBox(e=o.PathType.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===o.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,o=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=o.PathType.FILL,t=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,o=n%l,s=(n-o)/l,a=0===o?s:s+1,c=e.createImageData(i,l);let u,d=0;const h=t.data,p=c.data;let f,m,g,b;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),b=n.length,y=i+7>>3,v=4294967295,w=r.FeatureTest.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?l:o,u=0,m=0;m<g;m++){const e=t-d;let r=0;const o=e>y?i:8*e-7,s=-8&o;let a=0,l=0;for(;r<s;r+=8)l=h[d++],n[u++]=128&l?v:w,n[u++]=64&l?v:w,n[u++]=32&l?v:w,n[u++]=16&l?v:w,n[u++]=8&l?v:w,n[u++]=4&l?v:w,n[u++]=2&l?v:w,n[u++]=1&l?v:w;for(;r<o;r++)0===a&&(l=h[d++],a=128),n[u++]=l&a?v:w,a>>=1}for(;u<b;)n[u++]=0;e.putImageData(c,0,f*l)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(m=0,b=i*l*4,f=0;f<s;f++)p.set(h.subarray(d,d+b)),d+=b,e.putImageData(c,0,m),m+=l;f<a&&(b=i*o*4,p.set(h.subarray(d,d+b)),e.putImageData(c,0,m))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(g=l,b=i*g,f=0;f<a;f++){for(f>=s&&(g=o,b=i*g),u=0,m=b;m--;)p[u++]=h[d++],p[u++]=h[d++],p[u++]=h[d++],p[u++]=255;e.putImageData(c,0,f*l)}}}function p(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%l,o=(n-i)/l,a=0===i?o:o+1,c=e.createImageData(r,l);let u=0;const d=t.data,h=c.data;for(let t=0;t<a;t++){const n=t<o?l:i;({srcPos:u}=(0,s.convertBlackAndWhiteToRGBA)({src:d,srcPos:u,dest:h,width:r,height:n,nonBlackColor:0})),e.putImageData(c,0,t*l)}}function f(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function m(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!r.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function g(e,t,n,r){const i=e.length;for(let o=3;o<i;o+=4){const i=e[o];if(0===i)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(i<255){const s=255-i;e[o-3]=e[o-3]*i+t*s>>8,e[o-2]=e[o-2]*i+n*s>>8,e[o-1]=e[o-1]*i+r*s>>8}}}function b(e,t,n){const r=e.length,i=1/255;for(let o=3;o<r;o+=4){const r=n?n[e[o]]:e[o];t[o]=t[o]*r*i|0}}function y(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function v(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=o||n[1]<=o}const w=["butt","round","square"],_=["miter","round","bevel"],x={},E={};class k{constructor(e,t,n,r,i,{optionalContentConfig:o,markedContentStack:s=null},a,l){this.ctx=e,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=o,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,n){const e=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),m(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,i){const o=e.argsArray,s=e.fnArray;let a=t||0;const l=o.length;if(l===a)return a;const c=l-a>10&&"function"==typeof n,u=c?Date.now()+15:0;let d=0;const h=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(f=s[a],f!==r.OPS.dependency)this[f].apply(this,o[a]);else for(const e of o[a]){const t=e.startsWith("g_")?h:p;if(!t.has(e))return t.get(e,n),a}if(a++,a===l)return a;if(c&&++d>10){if(Date.now()>u)return n(),a;d=0}}}#ct(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ct(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#ut()}#ut(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,r=e.height;let i,o,s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,u="prescale1";for(;s>2&&l>1||a>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/t),a>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/n),i=this.cachedCanvases.getCanvas(u,t,n),o=i.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(t);let d,h,f,m;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(t),d||(d=new Map,this._cachedBitmapsMap.set(t,d));const n=d.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};f=n}f||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),p(m.context,e));let g=r.Util.transform(c,[1/n,0,0,-1/s,0,0]);g=r.Util.transform(g,[1,0,0,1,0,-s]);const b=r.Util.applyTransform([0,0],g),y=r.Util.applyTransform([n,s],g),w=r.Util.normalizeRect([b[0],b[1],y[0],y[1]]),_=Math.round(w[2]-w[0])||1,x=Math.round(w[3]-w[1])||1,E=this.cachedCanvases.getCanvas("fillCanvas",_,x),k=E.context,A=Math.min(b[0],y[0]),S=Math.min(b[1],y[1]);k.translate(-A,-S),k.transform(...g),f||(f=this._scaleImage(m.canvas,(0,i.getCurrentTransformInverse)(k)),f=f.img,d&&l&&d.set(h,f)),k.imageSmoothingEnabled=v((0,i.getCurrentTransform)(k),e.interpolate),u(k,f,0,0,f.width,f.height,0,0,n,s),k.globalCompositeOperation="source-in";const P=r.Util.transform((0,i.getCurrentTransformInverse)(k),[1,0,0,1,-A,-S]);return k.fillStyle=l?a.getPattern(t,this,P,o.PathType.FILL):a,k.fillRect(0,0,n,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,E.canvas)),{canvas:E.canvas,offsetX:Math.round(A),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=w[e]}setLineJoin(e){this.ctx.lineJoin=_[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,o),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,o,s){t.transform(e,n,r,i,o,s),this.__originalTransform(e,n,r,i,o,s)},e.setTransform=function(e,n,r,i,o,s){t.setTransform(e,n,r,i,o,s),this.__originalSetTransform(e,n,r,i,o,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,o,s){t.bezierCurveTo(e,n,r,i,o,s),this.__originalBezierCurveTo(e,n,r,i,o,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;(function(e,t,n,r){const i=r[0],o=r[1],s=r[2]-i,a=r[3]-o;0!==s&&0!==a&&(function(e,t,n,r,i,o,s,a,l,c,u){const d=!!o,h=d?o[0]:0,p=d?o[1]:0,f=d?o[2]:0,m="Luminosity"===i?y:b,v=Math.min(r,Math.ceil(1048576/n));for(let i=0;i<r;i+=v){const o=Math.min(v,r-i),b=e.getImageData(a-c,i+(l-u),n,o),y=t.getImageData(a,i+l,n,o);d&&g(b.data,h,p,f),m(b.data,y.data,s),t.putImageData(y,a,i+l)}}(t.context,n,s,a,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())})(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const o=this.ctx,s=this.current;let a,l,c=s.x,u=s.y;const d=(0,i.getCurrentTransform)(o),h=0===d[0]&&0===d[3]||0===d[1]&&0===d[2],p=h?n.slice(0):null;for(let n=0,i=0,f=e.length;n<f;n++)switch(0|e[n]){case r.OPS.rectangle:c=t[i++],u=t[i++];const e=t[i++],n=t[i++],f=c+e,m=u+n;o.moveTo(c,u),0===e||0===n?o.lineTo(f,m):(o.lineTo(f,u),o.lineTo(f,m),o.lineTo(c,m)),h||s.updateRectMinMax(d,[c,u,f,m]),o.closePath();break;case r.OPS.moveTo:c=t[i++],u=t[i++],o.moveTo(c,u),h||s.updatePathMinMax(d,c,u);break;case r.OPS.lineTo:c=t[i++],u=t[i++],o.lineTo(c,u),h||s.updatePathMinMax(d,c,u);break;case r.OPS.curveTo:a=c,l=u,c=t[i+4],u=t[i+5],o.bezierCurveTo(t[i],t[i+1],t[i+2],t[i+3],c,u),s.updateCurvePathMinMax(d,a,l,t[i],t[i+1],t[i+2],t[i+3],c,u,p),i+=6;break;case r.OPS.curveTo2:a=c,l=u,o.bezierCurveTo(c,u,t[i],t[i+1],t[i+2],t[i+3]),s.updateCurvePathMinMax(d,a,l,c,u,t[i],t[i+1],t[i+2],t[i+3],p),c=t[i+2],u=t[i+3],i+=4;break;case r.OPS.curveTo3:a=c,l=u,c=t[i+2],u=t[i+3],o.bezierCurveTo(t[i],t[i+1],c,u,c,u),s.updateCurvePathMinMax(d,a,l,t[i],t[i+1],c,u,c,u,p),i+=4;break;case r.OPS.closePath:o.closePath()}h&&s.updateScalingPathMinMax(d,p),s.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),o.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),o.PathType.FILL),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=x}eoClip(){this.pendingClip=E}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",s=n.systemFontInfo?.css||`"${o}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const l=n.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,o){const s=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&r.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile;let f;(l.disableFontFace||h||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),f(s,u),o&&s.setTransform(...o),d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||s.fill(),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),h&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(s),x:t,y:n,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,f=n.vertical,m=f?1:-1,g=n.defaultVMetrics,b=s*t.fontMatrix[0],y=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let v;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),d>0?a.scale(h,-1):a.scale(h,1),t.patternFill){a.save();const e=t.fillColor.getPattern(a,this,(0,i.getCurrentTransformInverse)(a),o.PathType.FILL);v=(0,i.getCurrentTransform)(a),a.restore(),a.fillStyle=e}let w=t.lineWidth;const _=t.textMatrixScale;if(0===_||0===w){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(w=this.getSinglePixelWidth())}else w/=_;if(1!==l&&(a.scale(l,l),w/=l),a.lineWidth=w,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return a.fillText(n.join(""),0,0),t.x+=r*b*h,a.restore(),void this.compose()}let x,E=0;for(x=0;x<p;++x){const t=e[x];if("number"==typeof t){E+=m*t*s/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+c,o=t.fontChar,h=t.accent;let p,w,_=t.width;if(f){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*_)*b,r=e[2]*b;_=e?-e[0]:_,p=n/l,w=(E+r)/l}else p=E/l,w=0;if(n.remeasure&&_>0){const e=1e3*a.measureText(o).width/s*l;if(_<e&&this.isFontSubpixelAAEnabled){const t=_/e;r=!0,a.save(),a.scale(t,1),p/=t}else _!==e&&(p+=(_-e)/2e3*s/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(y&&!h)a.fillText(o,p,w);else if(this.paintChar(o,p,w,v),h){const e=p+s*h.offset.x/l,t=w-s*h.offset.y/l;this.paintChar(h.fontChar,e,t,v)}E+=f?_*b-i*d:_*b+i*d,r&&a.restore()}f?t.y-=E:t.x+=E*h,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,o=n.fontSize,s=n.fontDirection,a=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*s,d=n.fontMatrix||r.FONT_IDENTITY_MATRIX,h=e.length;let p,f,m,g;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==o){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,s),p=0;p<h;++p){if(f=e[p],"number"==typeof f){g=a*f*o/1e3,this.ctx.translate(g,0),n.x+=g*u;continue}const s=(f.isSpace?c:0)+l,h=i.charProcOperatorList[f.operatorListId];h?(this.contentVisible&&(this.processingType3=f,this.save(),t.scale(o,o),t.transform(...d),this.executeOperatorList(h),this.restore()),m=r.Util.applyTransform([f.width,0],d)[0]*o+s,t.translate(m,0),n.x+=m*u):(0,r.warn)(`Type3 character "${f.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new k(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new o.TilingPattern(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=(0,o.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),o.PathType.SHADING);const s=(0,i.getCurrentTransformInverse)(t);if(s){const{width:e,height:n}=t.canvas,[i,o,a,l]=r.Util.getAxialAlignedBoundingBox([0,0,e,n],s);this.ctx.fillRect(i,o,a-i,l-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];o=r.Util.intersect(o,s)||[0,0,0,0];const l=Math.floor(o[0]),c=Math.floor(o[1]);let u=Math.max(Math.ceil(o[2])-l,1),d=Math.max(Math.ceil(o[3])-c,1),h=1,p=1;u>a&&(h=u/a,u=a),d>a&&(p=d/a,d=a),this.current.startNewPathAndClipBox([0,0,u,d]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(m,u,d),b=g.context;b.scale(1/h,1/p),b.translate(-l,-c),b.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:b,offsetX:l,offsetY:c,scaleX:h,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,p),t.save()),f(t,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,o,s){if(this.#ct(),m(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[s,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(s,0,0,-l,0,a*l),m(this.ctx)}else m(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#ut(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let o,s,a,l=new Uint8Array(i*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const t of e.data){let e=128;for(;e>0;)u[d++]=t&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[s]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[s]=2,++h),o=1;o<n;o++){d=o*c,a=o*i,u[d-c]!==u[d]&&(l[a]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),r[e]&&(l[a+s]=r[e],++h),d++;if(u[d-c]!==u[d]&&(l[a+s]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),a=o*i,0!==u[d]&&(l[a]=8,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[a+s]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[a+s]=4,++h),h>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),f=new Path2D;for(o=0;h&&o<=n;o++){let e=o*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%i,o);const r=e;let s=l[e];do{const t=p[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),f.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--o}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,o=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(t,n,o,s,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let e=0,i=a.length;e<i;e+=2){const i=r.Util.transform(c,[t,n,o,s,a[e],a[e+1]]),[d,h]=r.Util.applyTransform([0,0],i);l.drawImage(u.canvas,d,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:a,height:l,transform:c}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save(),p(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(t),o.PathType.FILL):n,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),u(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o)return void(0,r.warn)("Dependent image isn't ready yet");const s=o.width,a=o.height,l=[];for(let e=0,r=i.length;e<r;e+=2)l.push({transform:[t,0,0,n,i[e],i[e+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,o=this.ctx;if(this.save(),!r.isNodeJS){const{filter:e}=o;"none"!==e&&""!==e&&(o.filter="none")}let s;if(o.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(r,e),s=this.applyTransferMapsToCanvas(r)}const a=this._scaleImage(s,(0,i.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=v((0,i.getCurrentTransform)(o),e.interpolate),u(o,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(i,e),r=this.applyTransferMapsToCanvas(i)}for(const e of t)n.save(),n.transform(...e.transform),n.scale(1,-1),u(n,r,e.x,e.y,e.w,e.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===E?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let o,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)o=s=1/n;else{const t=n*e;o=s=t<1?1/t:1}else if(0===e)o=1/n,s=1/r;else{const t=n*e,i=r*e;o=t<1?1/t:1,s=i<1?1/i:1}}else{const a=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)o=c/a,s=l/a;else{const t=e*a;o=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const o=t.getLineDash();if(e&&t.save(),t.scale(r,i),o.length>0){const e=Math.max(r,i);t.setLineDash(o.map(t=>t/e)),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=k;for(const e in r.OPS)void 0!==k.prototype[e]&&(k.prototype[r.OPS[e]]=k.prototype[e])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new d(e);case"Dummy":return new h}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(6);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=o;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends a{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(e,t,n,a){let l;if(a===o.STROKE||a===o.FILL){const o=t.current.getClippedPathBoundingBox(a,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",c,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),n=r.Util.transform(n,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),s(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);l.setTransform(p)}else s(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,r,i,o,s,a){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=a,a=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,b=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(f>=y)return;const v=c[o],w=c[o+1],_=c[o+2],x=c[s],E=c[s+1],k=c[s+2],A=c[a],S=c[a+1],P=c[a+2],C=Math.round(f),T=Math.round(y);let O,M,D,I,N,j,R,L;for(let e=C;e<=T;e++){if(e<g){const t=e<f?0:(f-e)/(f-g);O=p-(p-m)*t,M=v-(v-x)*t,D=w-(w-E)*t,I=_-(_-k)*t}else{let t;t=e>y?1:g===y?0:(g-e)/(g-y),O=m-(m-b)*t,M=x-(x-A)*t,D=E-(E-S)*t,I=k-(k-P)*t}let t;t=e<f?0:e>y?1:(f-e)/(f-y),N=p-(p-b)*t,j=v-(v-A)*t,R=w-(w-S)*t,L=_-(_-P)*t;const n=Math.round(Math.min(O,N)),r=Math.round(Math.max(O,N));let i=d*e+4*n;for(let e=n;e<=r;e++)t=(O-e)/(O-N),t<0?t=0:t>1&&(t=1),u[i++]=M-(M-j)*t|0,u[i++]=D-(D-R)*t|0,u[i++]=I-(I-L)*t|0,u[i++]=255}}function u(e,t,n){const r=t.coords,i=t.colors;let o,s;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(o=0;o<l;o++){let t=o*a;for(let o=0;o<u;o++,t++)c(e,n,r[t],r[t+1],r[t+a],i[t],i[t+1],i[t+a]),c(e,n,r[t+a+1],r[t+1],r[t+a],i[t+a+1],i[t+1],i[t+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)c(e,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class d extends a{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=o/a,d=s/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/d},p=a+4,f=l+4,m=n.getCanvas("mesh",p,f,!1),g=m.context,b=g.createImageData(a,l);if(t){const e=b.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const e of this._figures)u(b,e,h);return g.putImageData(b,2,2),{canvas:m.canvas,offsetX:r-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,a){let l;if(s(e,this._bbox),a===o.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,a===o.SHADING?null:this._background,t.cachedCanvases);return a!==o.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends a{getPattern(){return"hotpink"}}class p{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,o=this.xstep,s=this.ystep,a=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const d=n[0],h=n[1],p=n[2],f=n[3],m=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*g[0],m[1]*g[1]],y=this.getSizeAndScale(o,this.ctx.canvas.width,b[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),w=e.cachedCanvases.getCanvas("pattern",y.size,v.size,!0),_=w.context,x=u.createCanvasGraphics(_);x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,a,c);let E=d,k=h,A=p,S=f;return d<0&&(E=0,A+=Math.abs(d)),h<0&&(k=0,S+=Math.abs(h)),_.translate(-y.scale*E,-v.scale*k),x.transform(y.scale,0,0,v.scale,0,0),_.save(),this.clipBbox(x,E,k,A,S),x.baseTransform=(0,i.getCurrentTransform)(x.ctx),x.executeOperatorList(t),x.endDrawing(),{canvas:w.canvas,scaleX:y.scale,scaleY:v.scale,offsetX:E,offsetY:k}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(p.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,o){const s=r-t,a=o-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,o=e.current;switch(t){case 1:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,o.fillColor=e.fillStyle,o.strokeColor=e.strokeStyle;break;case 2:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==o.SHADING&&(s=r.Util.transform(s,t.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}t.TilingPattern=p},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=i,t.convertToRGBA=function(e){switch(e.kind){case r.ImageKind.GRAYSCALE_1BPP:return i(e);case r.ImageKind.RGB_24BPP:return function({src:e,srcPos:t=0,dest:n,destPos:i=0,width:o,height:s}){let a=0;const l=e.length>>2,c=new Uint32Array(e.buffer,t,l);if(r.FeatureTest.isLittleEndian){for(;a<l-2;a+=3,i+=4){const e=c[a],t=c[a+1],r=c[a+2];n[i]=4278190080|e,n[i+1]=e>>>24|t<<8|4278190080,n[i+2]=t>>>16|r<<16|4278190080,n[i+3]=r>>>8|4278190080}for(let t=4*a,r=e.length;t<r;t+=3)n[i++]=e[t]|e[t+1]<<8|e[t+2]<<16|4278190080}else{for(;a<l-2;a+=3,i+=4){const e=c[a],t=c[a+1],r=c[a+2];n[i]=255|e,n[i+1]=e<<24|t>>>8|255,n[i+2]=t<<16|r>>>16|255,n[i+3]=r<<8|255}for(let t=4*a,r=e.length;t<r;t+=3)n[i++]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|255}return{srcPos:t,destPos:i}}(e)}return null},t.grayToRGBA=function(e,t){if(r.FeatureTest.isLittleEndian)for(let n=0,r=e.length;n<r;n++)t[n]=65793*e[n]|4278190080;else for(let n=0,r=e.length;n<r;n++)t[n]=16843008*e[n]|255};var r=n(1);function i({src:e,srcPos:t=0,dest:n,width:i,height:o,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const l=r.FeatureTest.isLittleEndian?4278190080:255,[c,u]=a?[s,l]:[l,s],d=i>>3,h=7&i,p=e.length;n=new Uint32Array(n.buffer);let f=0;for(let r=0;r<o;r++){for(const r=t+d;t<r;t++){const r=t<p?e[t]:255;n[f++]=128&r?u:c,n[f++]=64&r?u:c,n[f++]=32&r?u:c,n[f++]=16&r?u:c,n[f++]=8&r?u:c,n[f++]=4&r?u:c,n[f++]=2&r?u:c,n[f++]=1&r?u:c}if(0===h)continue;const r=t<p?e[t++]:255;for(let e=0;e<h;e++)n[f++]=r&1<<7-e?u:c}return{srcPos:t,destPos:f}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);function i(e){switch(e instanceof Error||"object"==typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#dt(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],1===t.callback)n.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");n.reject(i(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,o=t.sourceName;return void new Promise(function(e){e(r(t.data))}).then(function(r){n.postMessage({sourceName:e,targetName:o,callback:1,callbackId:t.callbackId,data:r})},function(r){n.postMessage({sourceName:e,targetName:o,callback:2,callbackId:t.callbackId,reason:i(r)})})}t.streamId?this.#ht(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,o=new r.PromiseCapability;this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(e){o.reject(e)}return o.promise}sendWithStream(e,t,n,o){const s=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const i=new r.PromiseCapability;return this.streamControllers[s]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},o),i.promise},pull:e=>{const t=new r.PromiseCapability;return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:a,targetName:l,stream:6,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=new r.PromiseCapability;return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:1,streamId:s,reason:i(e)}),t.promise}},n)}#ht(e){const t=e.streamId,n=this.sourceName,o=e.sourceName,s=this.comObj,a=this,l=this.actionHandler[e.action],c={enqueue(e,i=1,a){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:o,stream:4,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:o,stream:3,streamId:t}),delete a.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:o,stream:5,streamId:t,reason:i(e)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(t){t(l(e.data,c))}).then(function(){s.postMessage({sourceName:n,targetName:o,stream:8,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:o,stream:8,streamId:t,reason:i(e)})})}#dt(e){const t=e.streamId,n=this.sourceName,o=e.sourceName,s=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case 8:e.success?a.startCall.resolve():a.startCall.reject(i(e.reason));break;case 7:e.success?a.pullCall.resolve():a.pullCall.reject(i(e.reason));break;case 6:if(!l){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(e){e(l.onPull?.())}).then(function(){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,reason:i(e)})});break;case 4:if((0,r.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case 3:if((0,r.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#pt(a,t);break;case 5:(0,r.assert)(a,"error should have stream controller"),a.controller.error(i(e.reason)),this.#pt(a,t);break;case 2:e.success?a.cancelCall.resolve():a.cancelCall.reject(i(e.reason)),this.#pt(a,t);break;case 1:if(!l)break;new Promise(function(t){t(l.onCancel?.(i(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:o,stream:2,streamId:t,success:!0})},function(e){s.postMessage({sourceName:n,targetName:o,stream:2,streamId:t,reason:i(e)})}),l.sinkCapability.reject(i(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#pt(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#ft;#mt;constructor({parsedData:e,rawData:t}){this.#ft=e,this.#mt=t}getRaw(){return this.#mt}get(e){return this.#ft.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#ft)}has(e){return this.#ft.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=n(8);const o=Symbol("INTERNAL");class s{#gt=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#gt}_setVisible(e,t){e!==o&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#gt=t}}t.OptionalContentConfig=class{#bt=null;#yt=new Map;#vt=null;#wt=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#wt=e.order;for(const t of e.groups)this.#yt.set(t.id,new s(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#yt.values())e._setVisible(o,!1);for(const t of e.on)this.#yt.get(t)._setVisible(o,!0);for(const t of e.off)this.#yt.get(t)._setVisible(o,!1);this.#vt=this.getHash()}}#_t(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let o;if(Array.isArray(t))o=this.#_t(t);else{if(!this.#yt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;o=this.#yt.get(t).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}isVisible(e){if(0===this.#yt.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#yt.has(e.id)?this.#yt.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#_t(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#yt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#yt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#yt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#yt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#yt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#yt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#yt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#yt.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){this.#yt.has(e)?(this.#yt.get(e)._setVisible(o,!!t),this.#bt=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){return null===this.#vt||this.getHash()===this.#vt}getOrder(){return this.#yt.size?this.#wt?this.#wt.slice():[...this.#yt.keys()]:null}getGroups(){return this.#yt.size>0?(0,r.objectFromMap)(this.#yt):null}getGroup(e){return this.#yt.get(e)||null}getHash(){if(null!==this.#bt)return this.#bt;const e=new i.MurmurHash3_64;for(const[t,n]of this.#yt)e.update(`${t}:${n.visible}`);return this.#bt=e.hexdigest()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(6);t.PDFDataTransportStream=class{constructor({length:e,initialData:t,progressiveDone:n=!1,contentDispositionFilename:i=null,disableRange:o=!1,disableStream:s=!1},a){if((0,r.assert)(a,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=n,this._contentDispositionFilename=i,t?.length>0){const e=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=a,this._isStreamingSupported=!s,this._isRangeSupported=!o,this._contentLength=e,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const t=this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(n),!0)});(0,r.assert)(t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class o{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(20);function o(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function a(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,o(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:a(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=a.url;fetch(l,o(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:a(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,o.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e("Content-Length"),10);return Number.isInteger(o)?(i.suggestedLength=o,o<=2*n||r||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(21),o=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=l(e),e=c(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const o=[];for(let e=0;e<t.length&&e in t;++e){let[n,r]=t[e];r=a(r),n&&(r=unescape(r),0===e&&(r=l(r))),o.push(r)}return o.join("")}(e),n)return s(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=c(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),t=!1}catch{}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{r=atob(r)}catch{}return o(t,r)})}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(20);class o{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const e in n)r[e]=n[e];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const o=i.status||200;if((200!==o||206!==n.expectedStatus)&&o!==n.expectedStatus)return void n.onError?.(i.status);const s=function(e){const t=e.response;return"string"!=typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===o){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new o(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new a(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(20);const o=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=__webpack_require__(6671),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new d(this):new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new h(this,e,t):new u(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class s{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class c extends s{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};if(this._request=null,"http:"===this._url.protocol){const n=__webpack_require__(7492);this._request=n.request(l(this._url,e.httpHeaders),t)}else{const n=__webpack_require__(1815);this._request=n.request(l(this._url,e.httpHeaders),t)}this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class u extends a{constructor(e,t,n){super(e),this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404===e.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return void(this._storedError=e)}this._setReadableStream(e)};if(this._request=null,"http:"===this._url.protocol){const e=__webpack_require__(7492);this._request=e.request(l(this._url,this._httpHeaders),i)}else{const e=__webpack_require__(1815);this._request=e.request(l(this._url,this._httpHeaders),i)}this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class d extends s{constructor(e){super(e);let t=decodeURIComponent(this._url.path);o.test(this._url.href)&&(t=t.replace(/^\//,""));const n=__webpack_require__(3237);n.lstat(t,(e,i)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=i.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()})}}class h extends a{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);o.test(this._url.href)&&(r=r.replace(/^\//,""));const i=__webpack_require__(3237);this._setReadableStream(i.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),i=n(1);const o="normal",s="#000000",a=["butt","round","square"],l=["miter","round","bevel"],c=function(e,t="",n=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let t=0,n=e.length;t<n;t+=3){const o=255&e[t],s=255&e[t+1],a=255&e[t+2];i+=r[o>>2]+r[(3&o)<<4|s>>4]+r[t+1<n?(15&s)<<2|a>>6:64]+r[t+2<n?63&a:64]}return i},u=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function n(e,n,r,i){let o=i;const s=n.length;r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s,o+=4,r[o]=255&e.charCodeAt(0),r[o+1]=255&e.charCodeAt(1),r[o+2]=255&e.charCodeAt(2),r[o+3]=255&e.charCodeAt(3),o+=4,r.set(n,o),o+=n.length;const a=function(e,n,r){let i=-1;for(let o=n;o<r;o++){const n=255&(i^e[o]);i=i>>>8^t[n]}return-1^i}(r,i+4,o);r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let o=0;i[o++]=120,i[o++]=156;let s=0;for(;t>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(s,s+n),o),o+=n,s+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=255&~t,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(s),o),o+=e.length-s;const a=function(e,t,n){let r=1,i=0;for(let t=0;t<n;++t)r=(r+(255&e[t]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[o++]=a>>24&255,i[o++]=a>>16&255,i[o++]=a>>8&255,i[o++]=255&a,i}return function(t,o,s){return function(t,o,s,a){const l=t.width,u=t.height;let d,h,p;const f=t.data;switch(o){case i.ImageKind.GRAYSCALE_1BPP:h=0,d=1,p=l+7>>3;break;case i.ImageKind.RGB_24BPP:h=2,d=8,p=3*l;break;case i.ImageKind.RGBA_32BPP:h=6,d=8,p=4*l;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+p)*u);let g=0,b=0;for(let e=0;e<u;++e)m[g++]=0,m.set(f.subarray(b,b+p),g),b+=p,g+=p;if(o===i.ImageKind.GRAYSCALE_1BPP&&a){g=0;for(let e=0;e<u;e++){g++;for(let e=0;e<p;e++)m[g++]^=255}}const y=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,u>>24&255,u>>16&255,u>>8&255,255&u,d,h,0,0,0]),v=function(e){if(!i.isNodeJS)return r(e);try{const t=parseInt(process.versions.node)>=8?e:Buffer.from(e),n=__webpack_require__(2787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return r(e)}(m),w=e.length+36+y.length+v.length,_=new Uint8Array(w);let x=0;return _.set(e,x),x+=e.length,n("IHDR",y,_,x),x+=12+y.length,n("IDATA",v,_,x),x+=12+v.length,n("IEND",new Uint8Array(0),_,x),c(_,"image/png",s)}(t,void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind,o,s)}}();class d{constructor(){this.fontSizeScale=1,this.fontWeight=o,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function h(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function p(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${h(e[0])} ${h(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${h(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${h(e[4])} ${h(e[5])})`;return`matrix(${h(e[0])} ${h(e[1])} ${h(e[2])} ${h(e[3])} ${h(e[4])} ${h(e[5])})`}let f=0,m=0,g=0;t.SVGGraphics=class{constructor(e,t,n=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new d,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const e in i.OPS)this._operatorIdMapping[i.OPS[e]]=e}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,r=t.length;e<r;e++)if(t[e]===i.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise(n=>{e.get(t,n)});this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,o,s){const a=[e,t,n,r,o,s];this.transformMatrix=i.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let e=0,o=r.length;e<o;e++){const o=r[e];i.push({fnId:o,fn:t[o],args:n[e]})}return function(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,o){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,o],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${h(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",h(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${h(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",h(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const a=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,f=n.vertical,m=f?1:-1,g=n.defaultVMetrics,b=r*t.fontMatrix[0];let y=0;for(const i of e){if(null===i){y+=u*c;continue}if("number"==typeof i){y+=m*i*r/1e3;continue}const e=(i.isSpace?c:0)+l,o=i.fontChar;let s,d,h=i.width;if(f){let e;const t=i.vmetric||g;e=i.vmetric?t[1]:.5*h,e=-e*b;const n=t[2]*b;h=t?-t[0]:h,s=e/a,d=(y+n)/a}else s=y/a,d=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+s),f&&t.ycoords.push(-t.y+d),t.tspan.textContent+=o),y+=f?h*b-e*u:h*b+e*u}t.tspan.setAttributeNS(null,"x",t.xcoords.map(h).join(" ")),f?t.tspan.setAttributeNS(null,"y",t.ycoords.map(h).join(" ")):t.tspan.setAttributeNS(null,"y",h(-t.y)),f?t.y-=y:t.x+=y*d,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${h(t.fontSize)}px`),"normal"!==t.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==o&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const v=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(v===i.TextRenderingMode.FILL||v===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==s&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),v===i.TextRenderingMode.STROKE||v===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let w=t.textMatrix;0!==t.textRise&&(w=w.slice(),w[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${p(w)} scale(${h(d)}, -1)`),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=c(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let o="normal";n.black?o="900":n.bold&&(o="bold");const s=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",h(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=a[e]}setLineJoin(e){this.current.lineJoin=l[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const{width:t,height:n}=this.viewport,r=i.Util.inverseTransform(this.transformMatrix),[o,s,a,l]=i.Util.getAxialAlignedBoundingBox([0,0,t,n],r),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",o),c.setAttributeNS(null,"y",s),c.setAttributeNS(null,"width",a-o),c.setAttributeNS(null,"height",l-s),c.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&c.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(c)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[o,s,a,l]=e[4],c=e[5],u=e[6],d=e[7],h="shading"+g++,[p,f,m,b]=i.Util.normalizeRect([...i.Util.applyTransform([o,s],r),...i.Util.applyTransform([a,l],r)]),[y,v]=i.Util.singularValueDecompose2dScale(r),w=c*y,_=u*v,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",h),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",w),x.setAttributeNS(null,"height",_),x.setAttributeNS(null,"x",`${p}`),x.setAttributeNS(null,"y",`${f}`);const E=this.svg,k=this.transformMatrix,A=this.current.fillColor,S=this.current.strokeColor,P=this.svgFactory.create(m-p,b-f);if(this.svg=P,this.transformMatrix=r,2===d){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=E,this.transformMatrix=k,this.current.fillColor=A,this.current.strokeColor=S,x.append(P.childNodes[0]),this.defs.append(x),`url(#${h})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+g++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const o=e[4],s=e[5],a=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",s[0]),r.setAttributeNS(null,"cy",s[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",o[0]),r.setAttributeNS(null,"fy",o[1]),r.setAttributeNS(null,"fr",a);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,o=n.y,s=[],a=0;for(const n of e)switch(0|n){case i.OPS.rectangle:r=t[a++],o=t[a++];const e=r+t[a++],n=o+t[a++];s.push("M",h(r),h(o),"L",h(e),h(o),"L",h(e),h(n),"L",h(r),h(n),"Z");break;case i.OPS.moveTo:r=t[a++],o=t[a++],s.push("M",h(r),h(o));break;case i.OPS.lineTo:r=t[a++],o=t[a++],s.push("L",h(r),h(o));break;case i.OPS.curveTo:r=t[a+4],o=t[a+5],s.push("C",h(t[a]),h(t[a+1]),h(t[a+2]),h(t[a+3]),h(r),h(o)),a+=6;break;case i.OPS.curveTo2:s.push("C",h(r),h(o),h(t[a]),h(t[a+1]),h(t[a+2]),h(t[a+3])),r=t[a+2],o=t[a+3],a+=4;break;case i.OPS.curveTo3:r=t[a+2],o=t[a+3],s.push("C",h(t[a]),h(t[a+1]),h(r),h(o),h(r),h(o)),a+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,o)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+f++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",p(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",h(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",h(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(h).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",h(t*n.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=u(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",h(n)),o.setAttributeNS(null,"height",h(r)),this.current.element=o,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",h(-r)),s.setAttributeNS(null,"width",h(n)+"px"),s.setAttributeNS(null,"height",h(r)+"px"),s.setAttributeNS(null,"transform",`scale(${h(1/n)} ${h(-1/r)})`),t?t.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,r=t.width,o=t.height,s=n.fillColor;n.maskId="mask"+m++;const a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",h(r)),l.setAttributeNS(null,"height",h(o)),l.setAttributeNS(null,"fill",s),l.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.append(a),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,a)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",h(e)),r.setAttributeNS(null,"height",h(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",p(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let i=null;const o=r.name;if("#text"===o)i=r.value;else{if(!n.shouldBuildText(o))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:n}=e,r=getComputedStyle(t),o=r.getPropertyValue("visibility"),s=parseFloat(r.getPropertyValue("--scale-factor"));"visible"===o&&(!s||Math.abs(s-n.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const a=new u(e);return a._render(),a},t.updateTextLayer=function({container:e,viewport:t,textDivs:n,textDivProperties:r,isOffscreenCanvasSupported:o,mustRotate:s=!0,mustRescale:l=!0}){if(s&&(0,i.setLayerDimensions)(e,{rotation:t.rotation}),l){const e=a(0,o),i={prevFontSize:null,prevFontFamily:null,div:null,scale:t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const e of n)i.properties=r.get(e),i.div=e,c(i)}};var r=n(1),i=n(6);const o=30,s=new Map;function a(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function l(e,t,n){const i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);const c=r.Util.transform(e._transform,t.transform);let u=Math.atan2(c[1],c[0]);const d=n[t.fontName];d.vertical&&(u+=Math.PI/2);const h=Math.hypot(c[2],c[3]),p=h*function(e,t){const n=s.get(e);if(n)return n;const r=a(o,t);r.font=`30px ${e}`;const i=r.measureText("");let l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);if(l){const t=l/(l+c);return s.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,o,o),r.strokeText("g",0,0);let u=r.getImageData(0,0,o,o).data;c=0;for(let e=u.length-1-3;e>=0;e-=4)if(u[e]>0){c=Math.ceil(e/4/o);break}r.clearRect(0,0,o,o),r.strokeText("A",0,o),u=r.getImageData(0,0,o,o).data,l=0;for(let e=0,t=u.length;e<t;e+=4)if(u[e]>0){l=o-Math.floor(e/4/o);break}if(r.canvas.width=r.canvas.height=0,l){const t=l/(l+c);return s.set(e,t),t}return s.set(e,.8),.8}(d.fontFamily,e._isOffscreenCanvasSupported);let f,m;0===u?(f=c[4],m=c[5]-p):(f=c[4]+p*Math.sin(u),m=c[5]-p*Math.cos(u));const g="calc(var(--scale-factor)*",b=i.style;e._container===e._rootContainer?(b.left=`${(100*f/e._pageWidth).toFixed(2)}%`,b.top=`${(100*m/e._pageHeight).toFixed(2)}%`):(b.left=`${g}${f.toFixed(2)}px)`,b.top=`${g}${m.toFixed(2)}px)`),b.fontSize=`${g}${h.toFixed(2)}px)`,b.fontFamily=d.fontFamily,l.fontSize=h,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==u&&(l.angle=u*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}y&&(l.canvasWidth=d.vertical?t.height:t.width),e._textDivProperties.set(i,l),e._isReadableStream&&e._layoutText(i)}function c(e){const{div:t,scale:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=r;o===d&&s===c||(i.font=`${d*n}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=i.measureText(t.textContent);h>0&&(l=`scaleX(${u*n/h})`)}0!==r.angle&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)}class u{constructor({textContentSource:e,container:t,viewport:n,textDivs:o,textDivProperties:s,textContentItemsStr:l,isOffscreenCanvasSupported:c}){this._textContentSource=e,this._isReadableStream=e instanceof ReadableStream,this._container=this._rootContainer=t,this._textDivs=o||[],this._textContentItemsStr=l||[],this._isOffscreenCanvasSupported=c,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=s||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:a(0,c)};const{pageWidth:u,pageHeight:d,pageX:h,pageY:p}=n.rawDims;this._transform=[1,0,0,-1,-h,p+d],this._pageWidth=u,this._pageHeight=d,(0,i.setLayerDimensions)(t,n),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),l(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id",`${n.id}`),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,c(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new r.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then(({value:r,done:i})=>{i?e.resolve():(Object.assign(t,r.styles),this._processItems(r.items,t),n())},e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then(()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)},this._capability.reject)}}t.TextLayerRenderTask=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),i=n(4),o=n(28),s=n(33),a=n(6),l=n(34);class c{#xt;#Et=!1;#kt=null;#At=this.pointerup.bind(this);#St=this.pointerdown.bind(this);#Pt=new Map;#Ct=!1;#Tt=!1;#Ot=!1;#Mt;static _initialized=!1;constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:r,annotationLayer:i,viewport:a,l10n:u}){const d=[o.FreeTextEditor,s.InkEditor,l.StampEditor];if(!c._initialized){c._initialized=!0;for(const e of d)e.initialize(u)}e.registerEditorTypes(d),this.#Mt=e,this.pageIndex=t,this.div=n,this.#xt=r,this.#kt=i,this.viewport=a,this.#Mt.addLayer(this)}get isEmpty(){return 0===this.#Pt.size}updateToolbar(e){this.#Mt.updateToolbar(e)}updateMode(e=this.#Mt.getMode()){this.#Dt(),e===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),e!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",e===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||this.#Mt.getMode()===r.AnnotationEditorType.INK){if(!e)for(const e of this.#Pt.values())if(e.isEmpty())return void e.setInBackground();this.#It({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){this.#Mt.setEditingState(e)}addCommands(e){this.#Mt.addCommands(e)}enable(){this.div.style.pointerEvents="auto";const e=new Set;for(const t of this.#Pt.values())t.enableEditing(),t.annotationElementId&&e.add(t.annotationElementId);if(!this.#kt)return;const t=this.#kt.getEditableAnnotations();for(const n of t){if(n.hide(),this.#Mt.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#Ot=!0,this.div.style.pointerEvents="none";const e=new Set;for(const t of this.#Pt.values())t.disableEditing(),t.annotationElementId&&null===t.serialize()?(this.getEditableAnnotation(t.annotationElementId)?.show(),t.remove()):e.add(t.annotationElementId);if(this.#kt){const t=this.#kt.getEditableAnnotations();for(const n of t){const{id:t}=n.data;e.has(t)||this.#Mt.isDeletedAnnotationElement(t)||n.show()}}this.#Dt(),this.isEmpty&&(this.div.hidden=!0),this.#Ot=!1}getEditableAnnotation(e){return this.#kt?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#Mt.getActive()!==e&&this.#Mt.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#St),this.div.addEventListener("pointerup",this.#At)}disableClick(){this.div.removeEventListener("pointerdown",this.#St),this.div.removeEventListener("pointerup",this.#At)}attach(e){this.#Pt.set(e.id,e);const{annotationElementId:t}=e;t&&this.#Mt.isDeletedAnnotationElement(t)&&this.#Mt.removeDeletedAnnotationElement(e)}detach(e){this.#Pt.delete(e.id),this.#xt?.removePointerInTextLayer(e.contentDiv),!this.#Ot&&e.annotationElementId&&this.#Mt.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#Mt.removeEditor(e),e.div.contains(document.activeElement)&&setTimeout(()=>{this.#Mt.focusMainContainer()},0),e.div.remove(),e.isAttachedToDOM=!1,this.#Tt||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.annotationElementId&&(this.#Mt.addDeletedAnnotationElement(e.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),this.#Mt.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#Mt.addToAnnotationStorage(e)}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&(e._focusEventsAllowed=!1,setTimeout(()=>{e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0)),e._structTreeParentId=this.#xt?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#Mt.getId()}#Nt(e){switch(this.#Mt.getMode()){case r.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(e);case r.AnnotationEditorType.INK:return new s.InkEditor(e);case r.AnnotationEditorType.STAMP:return new l.StampEditor(e)}return null}pasteEditor(e,t){this.#Mt.updateToolbar(e),this.#Mt.updateMode(e);const{offsetX:n,offsetY:r}=this.#jt(),i=this.getNextId(),o=this.#Nt({parent:this,id:i,x:n,y:r,uiManager:this.#Mt,isCentered:!0,...t});o&&this.add(o)}deserialize(e){switch(e.annotationType??e.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(e,this,this.#Mt);case r.AnnotationEditorType.INK:return s.InkEditor.deserialize(e,this,this.#Mt);case r.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(e,this,this.#Mt)}return null}#It(e,t){const n=this.getNextId(),r=this.#Nt({parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:this.#Mt,isCentered:t});return r&&this.add(r),r}#jt(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,a=(o+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180==0?[s,a]:[a,s];return{offsetX:l,offsetY:c}}addNewEditor(){this.#It(this.#jt(),!0)}setSelected(e){this.#Mt.setSelected(e)}toggleSelected(e){this.#Mt.toggleSelected(e)}isSelected(e){return this.#Mt.isSelected(e)}unselect(e){this.#Mt.unselect(e)}pointerup(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Ct&&(this.#Ct=!1,this.#Et?this.#Mt.getMode()!==r.AnnotationEditorType.STAMP?this.#It(e,!1):this.#Mt.unselectAll():this.#Et=!0)}pointerdown(e){if(this.#Ct)return void(this.#Ct=!1);const{isMac:t}=r.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Ct=!0;const n=this.#Mt.getActive();this.#Et=!n||n.isEmpty()}findNewParent(e,t,n){const r=this.#Mt.findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){this.#Mt.getActive()?.parent===this&&(this.#Mt.commitOrRemove(),this.#Mt.setActiveEditor(null));for(const e of this.#Pt.values())this.#xt?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Pt.clear(),this.#Mt.removeLayer(this)}#Dt(){this.#Tt=!0;for(const e of this.#Pt.values())e.isEmpty()&&e.remove();this.#Tt=!1}render({viewport:e}){this.viewport=e,(0,a.setLayerDimensions)(this.div,e);for(const e of this.#Mt.getEditors(this.pageIndex))this.add(e);this.updateMode()}update({viewport:e}){this.#Mt.commitOrRemove(),this.viewport=e,(0,a.setLayerDimensions)(this.div,{rotation:e.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}t.AnnotationEditorLayer=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(5),o=n(4),s=n(29);class a extends o.AnnotationEditor{#Rt=this.editorDivBlur.bind(this);#Lt=this.editorDivFocus.bind(this);#Ft=this.editorDivInput.bind(this);#Bt=this.editorDivKeydown.bind(this);#Vt;#zt="";#Ut=`${this.id}-editor`;#qt;#Ht=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=a.prototype,t=e=>e.isEmpty(),n=i.AnnotationEditorUIManager.TRANSLATE_SMALL,o=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:t}]]))}static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#Vt=e.color||a._defaultColor||o.AnnotationEditor._defaultLineColor,this.#qt=e.fontSize||a._defaultFontSize}static initialize(e){o.AnnotationEditor.initialize(e,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:a._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:a._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#$t(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Wt(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,a._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,a._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#qt],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#Vt]]}#$t(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#qt)*this.parentScale),this.#qt=e,this.#Gt()},n=this.#qt;this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Wt(e){const t=this.#Vt;this.addCommands({cmd:()=>{this.#Vt=this.editorDiv.style.color=e},undo:()=>{this.#Vt=this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-a._internalPadding*e,-(a._internalPadding+this.#qt)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#Bt),this.editorDiv.addEventListener("focus",this.#Lt),this.editorDiv.addEventListener("blur",this.#Rt),this.editorDiv.addEventListener("input",this.#Ft))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Ut),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#Bt),this.editorDiv.removeEventListener("focus",this.#Lt),this.editorDiv.removeEventListener("blur",this.#Rt),this.editorDiv.removeEventListener("input",this.#Ft),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width?this.#Jt():(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#Yt(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}#Gt(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.rotation%180==this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#zt,t=this.#zt=this.#Yt().trimEnd();if(e===t)return;const n=e=>{this.#zt=e,e?(this.#Kt(),this._uiManager.rebuild(this),this.#Gt()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#Gt()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){a._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Ut),this.enableEditing(),o.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(e=>this.editorDiv?.setAttribute("aria-label",e)),o.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(e=>this.editorDiv?.setAttribute("default-content",e)),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#qt}px * var(--scale-factor))`,n.color=this.#Vt,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this.#Ht;let[o,s]=this.getInitialTranslation();[o,s]=this.pageTranslationToScreen(o,s);const[a,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(i[0]-c)/a,h=t+this.height-(i[1]-u)/l;break;case 90:d=e+(i[0]-c)/a,h=t-(i[1]-u)/l,[o,s]=[s,-o];break;case 180:d=e-this.width+(i[0]-c)/a,h=t-(i[1]-u)/l,[o,s]=[-o,-s];break;case 270:d=e+(i[0]-c-this.height*l)/a,h=t+(i[1]-u-this.width*a)/l,[o,s]=[-s,o]}this.setAt(d*n,h*r,o,s)}else this.setAt(e*n,t*r,this.width*n,this.height*r);this.#Kt(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#Kt(){if(this.editorDiv.replaceChildren(),this.#zt)for(const e of this.#zt.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let i=null;if(e instanceof s.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:o,rotation:s,id:a},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;i=e={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:o,rotation:s,id:a,deleted:!1}}const o=super.deserialize(e,t,n);return o.#qt=e.fontSize,o.#Vt=r.Util.makeHexColor(...e.color),o.#zt=e.value,o.annotationElementId=e.id||null,o.#Ht=i,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=a._internalPadding*this.parentScale,n=this.getRect(t,t),i=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Vt),s={annotationType:r.AnnotationEditorType.FREETEXT,color:i,fontSize:this.#qt,value:this.#zt,pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#Qt(s)?null:(s.id=this.annotationElementId,s)}#Qt(e){const{value:t,fontSize:n,color:r,rect:i,pageIndex:o}=this.#Ht;return e.value!==t||e.fontSize!==n||e.rect.some((e,t)=>Math.abs(e-i[t])>=1)||e.color.some((e,t)=>e!==r[t])||e.pageIndex!==o}#Jt(e=!1){if(!this.annotationElementId)return;if(this.#Gt(),!e&&(0===this.width||0===this.height))return void setTimeout(()=>this.#Jt(!0),0);const t=a._internalPadding*this.parentScale;this.#Ht.rect=this.getRect(t,t)}}t.FreeTextEditor=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var r=n(1),i=n(6),o=n(3),s=n(30),a=n(31),l=n(32);const c=1e3,u=new WeakSet;function d(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new m(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new b(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new v(e):new _(e);case"Ch":return new x(e);case"Sig":return new y(e)}return new g(e);case r.AnnotationType.POPUP:return new E(e);case r.AnnotationType.FREETEXT:return new A(e);case r.AnnotationType.LINE:return new S(e);case r.AnnotationType.SQUARE:return new P(e);case r.AnnotationType.CIRCLE:return new C(e);case r.AnnotationType.POLYLINE:return new T(e);case r.AnnotationType.CARET:return new M(e);case r.AnnotationType.INK:return new D(e);case r.AnnotationType.POLYGON:return new O(e);case r.AnnotationType.HIGHLIGHT:return new I(e);case r.AnnotationType.UNDERLINE:return new N(e);case r.AnnotationType.SQUIGGLY:return new j(e);case r.AnnotationType.STRIKEOUT:return new R(e);case r.AnnotationType.STAMP:return new L(e);case r.AnnotationType.FILEATTACHMENT:return new F(e);default:return new p(e)}}}class p{#Xt=!1;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e?.str||t?.str||n?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof g||(o.tabIndex=c),o.style.zIndex=this.parent.zIndex++,this.data.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.noRotate&&o.classList.add("norotate");const{pageWidth:s,pageHeight:a,pageX:l,pageY:u}=i.rawDims;if(!t.rect||this instanceof E){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,o),o}const{width:h,height:p}=d(t.rect),f=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){o.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;o.style.borderRadius=t}else if(this instanceof w){const e=`calc(${h}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;o.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#Xt=!0,o.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2])):o.style.borderWidth=0}o.style.left=100*(f[0]-l)/s+"%",o.style.top=100*(f[1]-u)/a+"%";const{rotation:m}=t;return t.hasOwnCanvas||0===m?(o.style.width=100*h/s+"%",o.style.height=100*p/a+"%"):this.setRotation(m,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:o}=d(this.data.rect);let s,a;e%180==0?(s=100*i/n,a=100*o/r):(s=100*o/n,a=100*i/r),t.style.width=`${s}%`,t.style.height=`${a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],o=r.slice(1);n.target.style[t]=s.ColorConverters[`${i}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[t]:s.ColorConverters[`${i}_rgb`](o)})};return(0,r.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const o=n[r];o&&(o({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect;if(1===e.length){const[,{x:o,y:s},{x:a,y:l}]=e[0];if(r===o&&i===s&&t===a&&n===l)return}const{style:o}=this.container;let s;if(this.#Xt){const{borderColor:e,borderWidth:t}=o;o.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const a=r-t,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(const[,{x:n,y:r},{x:o,y:u}]of e){const e=c.createElement("rect"),d=(o-t)/a,p=(i-r)/l,f=(n-o)/a,m=(r-u)/l;e.setAttribute("x",d),e.setAttribute("y",p),e.setAttribute("width",f),e.setAttribute("height",m),h.append(e),s?.push(`<rect vector-effect="non-scaling-stroke" x="${d}" y="${p}" width="${f}" height="${m}"/>`)}this.#Xt&&(s.push("</g></svg>')"),o.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new E({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:o,exportValues:s}of i){if(-1===e)continue;if(o===t)continue;const i="string"==typeof s?s:null,a=document.querySelector(`[data-element-id="${o}"]`);!a||u.has(a)?n.push({id:o,exportValue:i,domElement:a}):(0,r.warn)(`_getElementsByName - element not allowed: ${o}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&u.has(r)&&n.push({id:i,exportValue:e,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}class f extends p{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this._bindAttachment(n,e.attachment),r=!0):e.setOCGState?(this.#Zt(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#en(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#en()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#en()}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,t.content,t.filename),!1),this.#en()}#Zt(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#en()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#en()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#en(),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:o}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===o&&s.push(n)}else for(const e of Object.values(this._fieldObjects))s.push(...e);const a=this.annotationStorage,l=[];for(const e of s){const{id:t}=e;switch(l.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(u.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class m extends p{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class g extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:n}=r.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}})})}_setEventListeners(e,t,n,r){for(const[i,o]of n)("Action"===o||this.data.actions?.[o])&&("Focus"!==o&&"Blur"!==o||(t||={focused:!1}),this._setEventListener(e,t,i,o,r),"Focus"!==o||this.data.actions?.Blur?"Blur"!==o||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:t}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=e.style;let o;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*n))||1);o=Math.min(n,s(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);o=Math.min(n,s(e/r.LINE_FACTOR))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=r.Util.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class b extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),i.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));let s=r.formattedValue||this.data.textContent?.join("\n")||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const a={userValue:i,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=s??i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",s??i),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),u.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),a.formattedValue=null}),n.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue??"";n.value=a.userValue=t,a.formattedValue=null});let l=e=>{const{formattedValue:t}=a;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",e=>{if(a.focused)return;const{target:t}=e;a.userValue&&(t.value=a.userValue),a.lastCommittedValue=t.value,a.commitKey=1,a.focused=!0}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const r={value(n){a.userValue=n.detail.value??"",e.setValue(t,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:r}=n.detail;a.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let o=a.userValue;!o||o.length<=r||(o=o.slice(0,r),i.value=a.userValue=o,e.setValue(t,{value:o}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)}),n.addEventListener("keydown",e=>{a.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(a.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;a.lastCommittedValue!==r&&(a.lastCommittedValue=r,a.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const r=l;l=null,n.addEventListener("blur",e=>{if(!a.focused||!e.relatedTarget)return;a.focused=!1;const{value:n}=e.target;a.userValue=n,a.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:a.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",e=>{a.lastCommittedValue=null;const{data:n,target:r}=e,{value:i,selectionStart:o,selectionEnd:s}=r;let l=o,c=s;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,o).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=i.substring(o).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":o===s&&(l-=1);break;case"deleteContentForward":o===s&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})}),this._setEventListeners(n,a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class y extends g{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return u.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=c,i.addEventListener("change",r=>{const{name:i,checked:o}=r.target;for(const r of this._getElementsByName(i,n)){const n=o&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:o})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class w extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(u.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=c,i.addEventListener("change",t=>{const{name:r,checked:i}=t.target;for(const t of this._getElementsByName(r,n))e.setValue(t.id,{value:!1});e.setValue(n,{value:i})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _ extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class x extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");u.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=c;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const e of r.options)e.selected=e.value===t});for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue,t.value=e.exportValue,n.value.includes(e.exportValue)&&(t.setAttribute("selected",!0),i=!1),r.append(t)}let o=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),o=()=>{e.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let a=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",n=>{const i={value(n){o?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),a=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;i[o].selected=!1,r.remove(o),i.length>0&&-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),a=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),a=s(!1)},insert(n){const{index:i,displayValue:o,exportValue:c}=n.detail.insert,u=r.children[i],d=document.createElement("option");d.textContent=o,d.value=c,u?u.before(d):r.append(d),e.setValue(t,{value:s(!0),items:l(n)}),a=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),a=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),a=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)}),r.addEventListener("input",n=>{const r=s(!0);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):r.addEventListener("input",function(n){e.setValue(t,{value:s(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E extends p{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:p._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new k({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>`${r.AnnotationPrefix}${e}`).join(",")),this.container}}class k{#tn=null;#nn=this.#rn.bind(this);#in=this.#on.bind(this);#sn=this.#an.bind(this);#ln=this.#cn.bind(this);#Vt=null;#De=null;#un=null;#dn=null;#hn=null;#pn=null;#fn=!1;#mn=null;#gn=null;#bn=null;#yn=null;#vn=!1;constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#De=e,this.#yn=r,this.#un=s,this.#bn=a,this.#hn=l,this.#Vt=t,this.#gn=c,this.#pn=u,this.#dn=n;const h=i.PDFDateString.toDateObject(o);h&&(this.#tn=l.l10n.get("annotation_date_string",{date:h.toLocaleDateString(),time:h.toLocaleTimeString()})),this.trigger=n.flatMap(e=>e.getElementsToTriggerPopup());for(const e of this.trigger)e.addEventListener("click",this.#ln),e.addEventListener("mouseenter",this.#sn),e.addEventListener("mouseleave",this.#in),e.classList.add("popupTriggerArea");for(const e of n)e.container?.addEventListener("keydown",this.#nn);this.#De.hidden=!0,d&&this.#cn()}render(){if(this.#mn)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:o}}}=this.#hn,s=this.#mn=document.createElement("div");if(s.className="popup",this.#Vt){const e=s.style.outlineColor=r.Util.makeHexColor(...this.#Vt);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))s.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`;else{const e=.7;s.style.backgroundColor=r.Util.makeHexColor(...this.#Vt.map(t=>Math.floor(e*(255-t)+t)))}}const a=document.createElement("span");a.className="header";const c=document.createElement("h1");if(a.append(c),({dir:c.dir,str:c.textContent}=this.#yn),s.append(a),this.#tn){const e=document.createElement("span");e.classList.add("popupDate"),this.#tn.then(t=>{e.textContent=t}),a.append(e)}const u=this.#un,d=this.#bn;if(!d?.str||u?.str&&u.str!==d.str){const e=this._formatContents(u);s.append(e)}else l.XfaLayer.render({xfaHtml:d.html,intent:"richText",div:s}),s.lastChild.classList.add("richText","popupContent");let h=!!this.#pn,p=h?this.#pn:this.#gn;for(const e of this.#dn)if(!p||null!==r.Util.intersect(e.data.rect,p)){p=e.data.rect,h=!0;break}const f=r.Util.normalizeRect([p[0],e[3]-p[1]+e[1],p[2],e[3]-p[3]+e[1]]),m=h?p[2]-p[0]+5:0,g=f[0]+m,b=f[1],{style:y}=this.#De;y.left=100*(g-i)/t+"%",y.top=100*(b-o)/n+"%",this.#De.append(s)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let e=0,t=r.length;e<t;++e){const i=r[e];n.append(document.createTextNode(i)),e<t-1&&n.append(document.createElement("br"))}return n}#rn(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#fn)&&this.#cn()}#cn(){this.#fn=!this.#fn,this.#fn?(this.#an(),this.#De.addEventListener("click",this.#ln),this.#De.addEventListener("keydown",this.#nn)):(this.#on(),this.#De.removeEventListener("click",this.#ln),this.#De.removeEventListener("keydown",this.#nn))}#an(){this.#mn||this.render(),this.isVisible?this.#fn&&this.#De.classList.add("focused"):(this.#De.hidden=!1,this.#De.style.zIndex=parseInt(this.#De.style.zIndex)+1e3)}#on(){this.#De.classList.remove("focused"),!this.#fn&&this.isVisible&&(this.#De.hidden=!0,this.#De.style.zIndex=parseInt(this.#De.style.zIndex)-1e3)}forceHide(){this.#vn=this.isVisible,this.#vn&&(this.#De.hidden=!0)}maybeShow(){this.#vn&&(this.#vn=!1,this.#De.hidden=!1)}get isVisible(){return!1===this.#De.hidden}}class A extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=A;class S extends p{#wn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=this.#wn=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#wn}addHighlightArea(){this.container.classList.add("highlightArea")}}class P extends p{#_n=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.#_n=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#_n}addHighlightArea(){this.container.classList.add("highlightArea")}}class C extends p{#xn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.#xn=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#xn}addHighlightArea(){this.container.classList.add("highlightArea")}}class T extends p{#En=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const t of e.vertices){const n=t.x-e.rect[0],r=e.rect[3]-t.y;i.push(n+","+r)}i=i.join(" ");const o=this.#En=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#En}addHighlightArea(){this.container.classList.add("highlightArea")}}class O extends T{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class D extends p{#kn=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=d(e.rect),r=this.svgFactory.create(t,n,!0);for(const t of e.inkLists){let n=[];for(const r of t){const t=r.x-e.rect[0],i=e.rect[3]-r.y;n.push(`${t},${i}`)}n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);this.#kn.push(i),i.setAttribute("points",n),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(i)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return this.#kn}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=D;class I extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class N extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class j extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class R extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=L;class F extends p{#An=null;constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t,!0),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Sn.bind(this)),this.#An=n;const{isMac:i}=r.FeatureTest.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#Sn()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#An}addHighlightArea(){this.container.classList.add("highlightArea")}#Sn(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}t.AnnotationLayer=class{#xt=null;#Pn=null;#Cn=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,l10n:r,page:i,viewport:o}){this.div=e,this.#xt=t,this.#Pn=n,this.l10n=r,this.page=i,this.viewport=o,this.zIndex=0,this.l10n||=a.NullL10n}#Tn(e,t){const n=e.firstChild||e;n.id=`${r.AnnotationPrefix}${t}`,this.div.append(e),this.#xt?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;(0,i.setLayerDimensions)(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const e of t){if(e.noHTML)continue;const t=e.annotationType===r.AnnotationType.POPUP;if(t){const t=s.get(e.id);if(!t)continue;a.elements=t}else{const{width:t,height:n}=d(e.rect);if(t<=0||n<=0)continue}a.data=e;const n=h.create(a);if(!n.isRenderable)continue;if(!t&&e.popupRef){const t=s.get(e.popupRef);t?t.push(n):s.set(e.popupRef,[n])}n.annotationEditorType>0&&this.#Cn.set(n.data.id,n);const i=n.render();e.hidden&&(i.style.visibility="hidden"),this.#Tn(i,e.id)}this.#On(),await this.l10n.translate(n)}update({viewport:e}){const t=this.div;this.viewport=e,(0,i.setLayerDimensions)(t,{rotation:e.rotation}),this.#On(),t.hidden=!1}#On(){if(!this.#Pn)return;const e=this.div;for(const[t,n]of this.#Pn){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.before(n):r.append(n)}this.#Pn.clear()}getEditableAnnotations(){return Array.from(this.#Cn.values())}getEditableAnnotation(e){return this.#Cn.get(e)}}},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function r(e){return Math.max(0,Math.min(255,255*e))}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=r(e),e,e]}static G_HTML([e]){const t=n(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(r)}static RGB_HTML(e){return`#${e.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,i]){return[r(1-Math.min(1,e+i)),r(1-Math.min(1,n+i)),r(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,i=1-t,o=1-n;return["CMYK",r,i,o,Math.min(r,i,o)]}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=r;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function r(e,t){switch(e){case"find_match_count":e=`find_match_count[${1===t.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===t.limit?"one":"other"}]`}return n[e]||""}n.print_progress_percent="{{progress}}%";const i={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(e,t=null,n=r(e,t))=>function(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(e,n)=>n in t?t[n]:"{{"+n+"}}"):e}(n,t),async translate(e){}};t.NullL10n=i},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(25);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===i)break;e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===i)break;e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})})}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(const e of n.children)e.attributes.value===o.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})})}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:i}){const{attributes:o}=t,s=e instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${r}`);for(const[t,n]of Object.entries(o))if(null!=n)switch(t){case"class":n.length&&e.setAttribute(t,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:(!s||"href"!==t&&"newWindow"!==t)&&e.setAttribute(t,n)}s&&i.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:n});const a=[[i,-1,s]],l=e.div;if(l.append(s),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;a.length>0;){const[e,i,s]=a.at(-1);if(i+1===e.children.length){a.pop();continue}const l=e.children[++a.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),s.append(e);continue}const d=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u);if(s.append(d),l.attributes&&this.setAttributes({html:d,element:l,storage:t,intent:o,linkService:n}),l.children&&l.children.length>0)a.push([l,-1,d]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(u)&&c.push(e),d.append(e)}}for(const e of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var r=n(1),i=n(4),o=n(29),s=n(6),a=n(5);class l extends i.AnnotationEditor{#Mn=0;#Dn=0;#In=this.canvasPointermove.bind(this);#Nn=this.canvasPointerleave.bind(this);#jn=this.canvasPointerup.bind(this);#Rn=this.canvasPointerdown.bind(this);#Ln=new Path2D;#Fn=!1;#Bn=!1;#Vn=!1;#zn=null;#Un=0;#qn=0;#Hn=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){i.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#$n(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Wt(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#Wn(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#$n(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,this.#Gn()},undo:()=>{this.thickness=t,this.#Gn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Wt(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,this.#Jn()},undo:()=>{this.color=t,this.#Jn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Wn(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,this.#Jn()},undo:()=>{this.opacity=t,this.#Jn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Yn(),this.#Kn()),this.isAttachedToDOM||(this.parent.add(this),this.#Qn()),this.#Gn()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#zn.disconnect(),this.#zn=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#Fn||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Rn))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Rn))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Xn(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#Zn(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:o}=this;e.lineWidth=r*i/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,a.opacityToHex)(n)}`}#er(e,t){this.canvas.addEventListener("contextmenu",s.noContextMenu),this.canvas.addEventListener("pointerleave",this.#Nn),this.canvas.addEventListener("pointermove",this.#In),this.canvas.addEventListener("pointerup",this.#jn),this.canvas.removeEventListener("pointerdown",this.#Rn),this.isEditing=!0,this.#Vn||(this.#Vn=!0,this.#Qn(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([e,t]),this.#Bn=!1,this.#Zn(),this.#Hn=()=>{this.#tr(),this.#Hn&&window.requestAnimationFrame(this.#Hn)},window.requestAnimationFrame(this.#Hn)}#nr(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let o=this.#Ln;if(i.push([e,t]),this.#Bn=!0,i.length<=2)return o.moveTo(...i[0]),void o.lineTo(e,t);3===i.length&&(this.#Ln=o=new Path2D,o.moveTo(...i[0])),this.#rr(o,...i.at(-3),...i.at(-2),e,t)}#ir(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Ln.lineTo(...e)}#or(e,t){let n;if(this.#Hn=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#nr(e,t),this.#ir(),1!==this.currentPath.length)n=this.#sr();else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=this.#Ln,i=this.currentPath;this.currentPath=[],this.#Ln=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Yn(),this.#Kn()),this.#Gn())},mustExec:!0})}#tr(){if(!this.#Bn)return;this.#Bn=!1,Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map(e=>e[0]),n=e.map(e=>e[1]),{ctx:r}=(Math.min(...t),Math.max(...t),Math.min(...n),Math.max(...n),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const e of this.bezierPath2D)r.stroke(e);r.stroke(this.#Ln),r.restore()}#rr(e,t,n,r,i,o,s){const a=(t+r)/2,l=(n+i)/2,c=(r+o)/2,u=(i+s)/2;e.bezierCurveTo(a+2*(r-a)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)}#sr(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[o,s]=e[n],[a,l]=e[n+1],c=(o+a)/2,u=(s+l)/2,d=[r+2*(o-r)/3,i+2*(s-i)/3],h=[c+2*(o-c)/3,u+2*(s-u)/3];t.push([[r,i],d,h,[c,u]]),[r,i]=[c,u]}const[o,s]=e[n],[a,l]=e[n+1],c=[r+2*(o-r)/3,i+2*(s-i)/3],u=[a+2*(o-a)/3,l+2*(s-l)/3];return t.push([[r,i],c,u,[a,l]]),t}#Jn(){if(this.isEmpty())return void this.#ar();this.#Zn();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#ar();for(const e of this.bezierPath2D)t.stroke(e)}commit(){this.#Fn||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Fn=!0,this.div.classList.add("disabled"),this.#Gn(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Fn&&(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),this.#er(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#nr(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#lr(e)}canvasPointerleave(e){this.#lr(e)}#lr(e){this.canvas.removeEventListener("pointerleave",this.#Nn),this.canvas.removeEventListener("pointermove",this.#In),this.canvas.removeEventListener("pointerup",this.#jn),this.canvas.addEventListener("pointerdown",this.#Rn),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",s.noContextMenu)},10),this.#or(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Yn(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(e=>this.canvas?.setAttribute("aria-label",e)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Kn(){this.#zn=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#zn.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#Fn}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(e=>this.div?.setAttribute("aria-label",e));const[n,r,o,s]=this.#Xn();if(this.setAt(n,r,0,0),this.setDims(o,s),this.#Yn(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Vn=!0,this.#Qn(),this.setDims(this.width*n,this.height*r),this.#Jn(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Kn(),this.div}#Qn(){if(!this.#Vn)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#ar()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#Un===n&&this.#qn===r)return;this.#Un=n,this.#qn=r,this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=e/i,this.height=t/o,this.fixAndSetPosition(),this.#Fn&&this.#cr(e,t),this.#Qn(),this.#Jn(),this.canvas.style.visibility="visible",this.fixDims()}#cr(e,t){const n=this.#ur(),r=(e-n)/this.#Dn,i=(t-n)/this.#Mn;this.scaleFactor=Math.min(r,i)}#ar(){const e=this.#ur()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#dr(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,o,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],o[0],o[1],s[0],s[1])}return t}static#hr(e,t,n){const[r,i,o,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=o-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=o-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}static#pr(e,t,n){const[r,i,o,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=o-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=o-n}break;default:throw new Error("Invalid rotation")}return e}#fr(e,t,n,r){const i=[],o=this.thickness/2,s=e*t+o,a=e*n+o;for(const t of this.paths){const n=[],o=[];for(let r=0,i=t.length;r<i;r++){const[l,c,u,d]=t[r],h=e*l[0]+s,p=e*l[1]+a,f=e*c[0]+s,m=e*c[1]+a,g=e*u[0]+s,b=e*u[1]+a,y=e*d[0]+s,v=e*d[1]+a;0===r&&(n.push(h,p),o.push(h,p)),n.push(f,m,g,b,y,v),o.push(f,m),r===i-1&&o.push(y,v)}i.push({bezier:l.#hr(n,r,this.rotation),points:l.#hr(o,r,this.rotation)})}return i}#mr(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const o of this.paths)for(const[s,a,l,c]of o){const o=r.Util.bezierBoundingBox(...s,...a,...l,...c);e=Math.min(e,o[0]),n=Math.min(n,o[1]),t=Math.max(t,o[2]),i=Math.max(i,o[3])}return[e,n,t,i]}#ur(){return this.#Fn?Math.ceil(this.thickness*this.parentScale):0}#Gn(e=!1){if(this.isEmpty())return;if(!this.#Fn)return void this.#Jn();const t=this.#mr(),n=this.#ur();this.#Dn=Math.max(i.AnnotationEditor.MIN_SIZE,t[2]-t[0]),this.#Mn=Math.max(i.AnnotationEditor.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(n+this.#Dn*this.scaleFactor),o=Math.ceil(n+this.#Mn*this.scaleFactor),[s,a]=this.parentDimensions;this.width=r/s,this.height=o/a,this.setAspectRatio(r,o);const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Qn(),this.#Jn(),this.#Un=r,this.#qn=o,this.setDims(r,o);const u=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}static deserialize(e,t,n){if(e instanceof o.InkAnnotationElement)return null;const s=super.deserialize(e,t,n);s.thickness=e.thickness,s.color=r.Util.makeHexColor(...e.color),s.opacity=e.opacity;const[a,c]=s.pageDimensions,u=s.width*a,d=s.height*c,h=s.parentScale,p=e.thickness/2;s.#Fn=!0,s.#Un=Math.round(u),s.#qn=Math.round(d);const{paths:f,rect:m,rotation:g}=e;for(let{bezier:e}of f){e=l.#pr(e,m,g);const t=[];s.paths.push(t);let n=h*(e[0]-p),r=h*(e[1]-p);for(let i=2,o=e.length;i<o;i+=6){const o=h*(e[i]-p),s=h*(e[i+1]-p),a=h*(e[i+2]-p),l=h*(e[i+3]-p),c=h*(e[i+4]-p),u=h*(e[i+5]-p);t.push([[n,r],[o,s],[a,l],[c,u]]),n=c,r=u}const i=this.#dr(t);s.bezierPath2D.push(i)}const b=s.#mr();return s.#Dn=Math.max(i.AnnotationEditor.MIN_SIZE,b[2]-b[0]),s.#Mn=Math.max(i.AnnotationEditor.MIN_SIZE,b[3]-b[1]),s.#cr(u,d),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#fr(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}t.InkEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var r=n(1),i=n(4),o=n(6),s=n(29);class a extends i.AnnotationEditor{#gr=null;#br=null;#yr=null;#vr=null;#wr=null;#_r=null;#zn=null;#xr=null;#Er=!1;#kr=!1;static _type="stamp";constructor(e){super({...e,name:"stampEditor"}),this.#vr=e.bitmapUrl,this.#wr=e.bitmapFile}static initialize(e){i.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,r.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}#Ar(e,t=!1){e?(this.#gr=e.bitmap,t||(this.#br=e.id,this.#Er=e.isSvg),this.#Yn()):this.remove()}#Sr(){this.#yr=null,this._uiManager.enableWaiting(!1),this.#_r&&this.div.focus()}#Pr(){if(this.#br)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#br).then(e=>this.#Ar(e,!0)).finally(()=>this.#Sr());if(this.#vr){const e=this.#vr;return this.#vr=null,this._uiManager.enableWaiting(!0),void(this.#yr=this._uiManager.imageManager.getFromUrl(e).then(e=>this.#Ar(e)).finally(()=>this.#Sr()))}if(this.#wr){const e=this.#wr;return this.#wr=null,this._uiManager.enableWaiting(!0),void(this.#yr=this._uiManager.imageManager.getFromFile(e).then(e=>this.#Ar(e)).finally(()=>this.#Sr()))}const e=document.createElement("input");e.type="file",e.accept=a.supportedTypesStr,this.#yr=new Promise(t=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#Ar(t)}else this.remove();t()}),e.addEventListener("cancel",()=>{this.remove(),t()})}).finally(()=>this.#Sr()),e.click()}remove(){this.#br&&(this.#gr=null,this._uiManager.imageManager.deleteId(this.#br),this.#_r?.remove(),this.#_r=null,this.#zn?.disconnect(),this.#zn=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#br&&this.#Pr(),this.isAttachedToDOM||this.parent.add(this))):this.#br&&this.#Pr()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#yr||this.#gr||this.#vr||this.#wr)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.#gr?this.#Yn():this.#Pr(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}#Yn(){const{div:e}=this;let{width:t,height:n}=this.#gr;const[r,i]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>o*r||n>o*i){const e=Math.min(o*r/t,o*i/n);t*=e,n*=e}const[s,a]=this.parentDimensions;this.setDims(t*s/r,n*a/i),this._uiManager.enableWaiting(!1);const l=this.#_r=document.createElement("canvas");e.append(l),e.hidden=!1,this.#Cr(t,n),this.#Kn(),this.#kr||(this.parent.addUndoableEditor(this),this.#kr=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#Tr(e,t){const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#xr&&clearTimeout(this.#xr),this.#xr=setTimeout(()=>{this.#xr=null,this.#Cr(e,t)},200)}#Or(e,t){const{width:n,height:r}=this.#gr;let i=n,o=r,s=this.#gr;for(;i>2*e||o>2*t;){const n=i,r=o;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const a=new OffscreenCanvas(i,o);a.getContext("2d").drawImage(s,0,0,n,r,0,0,i,o),s=a.transferToImageBitmap()}return s}#Cr(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#_r;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=this.#Er?this.#gr:this.#Or(e,t),i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}#Mr(e){if(e){if(this.#Er){const e=this._uiManager.imageManager.getSvgUrl(this.#br);if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#gr),e.getContext("2d").drawImage(this.#gr,0,0),e.toDataURL()}if(this.#Er){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*o.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*o.PixelsPerInch.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(this.#gr,0,0,this.#gr.width,this.#gr.height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(this.#gr)}#Kn(){this.#zn=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.#Tr(t.width,t.height)}),this.#zn.observe(this.div)}static deserialize(e,t,n){if(e instanceof s.StampAnnotationElement)return null;const r=super.deserialize(e,t,n),{rect:i,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=e;a&&n.imageManager.isValidId(a)?r.#br=a:r.#vr=o,r.#Er=l;const[u,d]=r.pageDimensions;return r.width=(i[2]-i[0])/u,r.height=(i[3]-i[1])/d,c&&(r.altTextData=c),r}serialize(e=!1,t=null){if(this.isEmpty())return null;const n={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#br,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#Er,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Mr(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:o}=this.altTextData;if(!i&&o&&(n.accessibilityData={type:"Figure",alt:o}),null===t)return n;t.stamps||=new Map;const s=this.#Er?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#br)){if(this.#Er){const e=t.stamps.get(this.#br);s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Mr(!1))}}else t.stamps.set(this.#br,{area:s,serialized:n}),n.bitmap=this.#Mr(!1);return n}}t.StampEditor=a}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),s=__w_pdfjs_require__(5),a=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=root.pdfjsLib=factory()},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},776:(e,t,n)=>{var r=n(756),i=n(5950);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},838:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2284),i=n(123),o=n(551);function s(e){var t,n;if((0,o.A)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,i.A)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)}),n||new Date(NaN)}},840:(e,t,n)=>{var r=n(4210),i=n(4958),o=["checked","value"],s=["input","select","textarea"],a={reset:!0,submit:!0};function l(e){return r.possibleStandardNames[e]}e.exports=function(e,t){var n,c,u,d,h,p={},f=(e=e||{}).type&&a[e.type];for(n in e)if(u=e[n],r.isCustomAttribute(n))p[n]=u;else if(d=l(c=n.toLowerCase()))switch(h=r.getPropertyInfo(d),-1===o.indexOf(d)||-1===s.indexOf(t)||f||(d=l("default"+c)),p[d]=u,h&&h.type){case r.BOOLEAN:p[d]=!0;break;case r.OVERLOADED_BOOLEAN:""===u&&(p[d]=!0)}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(p[n]=u);return i.setStyleProp(e.style,p),p}},909:(e,t,n)=>{var r=n(641),i=n(8329)(r);e.exports=i},916:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},945:(e,t,n)=>{var r=n(79),i=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},1020:(e,t,n)=>{"use strict";n(5228);var r=n(1609),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},1074:e=>{e.exports=function(e){return e.split("")}},1104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(123),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(e),s=(0,r.A)(t),a=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(a,s,15),c.setHours(0,0,0,0);var u=function(e){(0,o.A)(1,arguments);var t=(0,i.A)(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}(c);return n.setMonth(s,Math.min(l,u)),n}},1109:(e,t,n)=>{"use strict";n.d(t,{ef:()=>o,lJ:()=>a,xM:()=>s});var r=["D","DD"],i=["YY","YYYY"];function o(e){return-1!==r.indexOf(e)}function s(e){return-1!==i.indexOf(e)}function a(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},1127:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e);return t.setHours(0,0,0,0),t}},1141:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(5413),s=n(6957);i(n(6957),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1240:(e,t,n)=>{var r=n(3661),i=n(1380),o=n(1459);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},1270:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5117),i=n(9610),o=n(4127),s=n(5785),a=n(464),l=n(6631),c=n(1536);function u(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+(0,l.A)(o,2)}function d(e,t){return e%60==0?(e>0?"-":"+")+(0,l.A)(Math.abs(e)/60,2):h(e,t)}function h(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+(0,l.A)(Math.floor(i/60),2)+n+(0,l.A)(i%60,2)}const p={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return c.A.y(e,t)},Y:function(e,t,n,r){var i=(0,a.A)(e,r),o=i>0?i:1-i;if("YY"===t){var s=o%100;return(0,l.A)(s,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,l.A)(o,t.length)},R:function(e,t){var n=(0,o.A)(e);return(0,l.A)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,l.A)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,l.A)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,l.A)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return c.A.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,l.A)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,s.A)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,l.A)(i,t.length)},I:function(e,t,n){var r=(0,i.A)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,l.A)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):c.A.d(e,t)},D:function(e,t,n){var i=(0,r.A)(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):(0,l.A)(i,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,l.A)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,l.A)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,l.A)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return c.A.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):c.A.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.A)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.A)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):c.A.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):c.A.s(e,t)},S:function(e,t){return c.A.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return d(i);case"XXXX":case"XX":return h(i);default:return h(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return d(i);case"xxxx":case"xx":return h(i);default:return h(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+u(i,":");default:return"GMT"+h(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+u(i,":");default:return"GMT"+h(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return(0,l.A)(o,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,l.A)(i,t.length)}}},1331:(e,t,n)=>{var r=n(2552),i=n(8879),o=n(346),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1412:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4797);const i={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.A)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.A)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,r.A)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.A)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.A)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},1536:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6631);const i={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return(0,r.A)("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,r.A)(n+1,2)},d:function(e,t){return(0,r.A)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,r.A)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,r.A)(e.getUTCHours(),t.length)},m:function(e,t){return(0,r.A)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,r.A)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return(0,r.A)(o,t.length)}}},1549:(e,t,n)=>{var r=n(2032),i=n(3862),o=n(6721),s=n(2749),a=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},1609:e=>{"use strict";e.exports=window.React},1684:(e,t,n)=>{var r=n(3599),i=n(6176),o=n(3488);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},1741:(e,t,n)=>{var r=n(8023);e.exports=function(e){return r(e)&&e!=+e}},1769:(e,t,n)=>{var r=n(6449),i=n(8586),o=n(1802),s=n(3222);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},1776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"}},1788:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},i=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const o={p:i,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],s=o[1],a=o[2];if(!a)return r(e,t);switch(s){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(s,t)).replace("{{time}}",i(a,t))}}},1799:(e,t,n)=>{var r=n(7217),i=n(270);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?i(h,d,3,o,p):f))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1802:(e,t,n)=>{var r=n(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=s},1810:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(1127),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1815:()=>{},1821:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=d(n(5556)),s=d(n(9651)),a=d(n(252)),l=n(2301),c=d(n(6942)),u=d(n(1776));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,o,d,h=(o=p,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(d){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=h.call(this,e)).state={focusedRange:[(0,l.findNextRangeIndex)(e.ranges),0]},t.styles=(0,l.generateStyles)([u.default,e.classNames]),t}return t=p,(n=[{key:"render",value:function(){var e=this,t=this.state.focusedRange;return i.default.createElement("div",{className:(0,c.default)(this.styles.dateRangePickerWrapper,this.props.className)},i.default.createElement(a.default,g({focusedRange:t,onPreviewChange:function(t){return e.dateRange.updatePreview(t?e.dateRange.calcNewSelection(t,"string"==typeof t):null)}},this.props,{range:this.props.ranges[t[0]],className:void 0})),i.default.createElement(s.default,g({onRangeFocusChange:function(t){return e.setState({focusedRange:t})},focusedRange:t},this.props,{ref:function(t){return e.dateRange=t},className:void 0})))}}])&&b(t.prototype,n),p}(i.Component);w.defaultProps={},w.propTypes=f(f(f({},s.default.propTypes),a.default.propTypes),{},{className:o.default.string});var _=w;t.default=_},1858:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var r={};function i(){return r}},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1986:(e,t,n)=>{var r=n(1873),i=n(7828),o=n(5288),s=n(5911),a=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=s(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2006:(e,t,n)=>{var r=n(5389),i=n(4894),o=n(5950);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2054:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*",d="(?:"+[o+r+"?",r,s,a,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},2118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(123),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(e),s=(0,r.A)(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var a=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+s+1,0),a>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}},2121:function(e,t,n){var r,i,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=[t,n(1609),n(4848)],r=function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function o(e,t,n){return t=a(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],a(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p={x:"clientWidth",y:"clientHeight"},f={x:"clientTop",y:"clientLeft"},m={x:"innerWidth",y:"innerHeight"},g={x:"offsetWidth",y:"offsetHeight"},b={x:"offsetLeft",y:"offsetTop"},y={x:"overflowX",y:"overflowY"},v={x:"scrollWidth",y:"scrollHeight"},w={x:"scrollLeft",y:"scrollTop"},_={x:"width",y:"height"},x=function(){},E=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",x,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0},k=function(e,t){var n=e.length,r=e.minSize,i=e.type,o=t.from,s=t.size,a=t.itemsPerRow,l=(s=Math.max(s,r))%a;return l&&(s+=a-l),s>n&&(s=n),(l=(o="simple"!==i&&o?Math.max(Math.min(o,n-s),0):0)%a)&&(o-=l,s+=l),o===t.from&&s===t.size?t:u(u({},t),{},{from:o,size:s})},A=e.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=o(this,t,[e])).state=k(e,{itemsPerRow:1,from:e.initialIndex,size:0}),n.cache={},n.cachedScrollPosition=null,n.prevPrevState={},n.unstable=!1,n.updateCounter=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),r=t,s=[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>40)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){t.updateCounter=0,delete t.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0}(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,E),this.scrollParent.removeEventListener("mousewheel",x,E)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[f[t]]||0,r=b[t];do{n+=e[r]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,n=w[t],r=e===window?document.body[n]||document.documentElement[n]:e[n],i=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),o=Math.max(0,Math.min(r,i)),s=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+o-this.getOffset(s),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[w[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,i=v[this.props.axis];return e===window?Math.max(n[i],r[i]):e[i]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=Math.max(0,t-e),r=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:n,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,i=r.itemSize,o=r.itemsPerRow;if(n&&i&&o)return{itemSize:i,itemsPerRow:o};var s=this.items.children;if(!s.length)return{};var a=s[0],l=a[g[t]],c=Math.abs(l-i);if((isNaN(c)||c>=1)&&(i=l),!i)return{};for(var u=b[t],d=a[u],h=s[o=1];h&&h[u]===d;h=s[o])++o;return{itemSize:i,itemsPerRow:o}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=x),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",x)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,E),this.scrollParent.addEventListener("mousewheel",x,E))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var i=this.props.axis,o=n[0],s=n[n.length-1];r=this.getOffset(s)+s[g[i]]-this.getOffset(o)}if(r>t)return e();var a=this.props,l=a.pageSize,c=a.length,u=Math.min(this.state.size+l,c);this.maybeSetState({size:u},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,i=this.props,o=i.length,s=i.pageSize,a=0,l=0,c=0,u=o-1;l<u;){var d=this.getSizeOfItem(l);if(null==d||a+d>n)break;a+=d,++l}for(var h=o-l;c<h&&a<r;){var p=this.getSizeOfItem(l+c);if(null==p){c=Math.min(c+s,h);break}a+=p,++c}this.maybeSetState(k(this.props,{from:l,itemsPerRow:1,size:c}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var i=this.getStartAndEnd(),o=i.start,s=i.end,a=k(this.props,{from:Math.floor(o/n)*r,size:(Math.ceil((s-o)/n)+1)*r,itemsPerRow:r}),l=a.from,c=a.size;return this.maybeSetState({itemsPerRow:r,from:l,itemSize:n,size:c},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,i=n.itemsPerRow;if(r)return t[e]=Math.floor(e/i)*r;for(var o=e;o>0&&null==t[--o];);for(var s=t[o]||0,a=o;a<e;++a){t[a]=s;var l=this.getSizeOfItem(a);if(null==l)break;s+=l}return t[e]=s}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=g[this.props.axis],i=0,o=n.length;i<o;++i)e[t+i]=n[i][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,r=this.props,i=r.axis,o=r.itemSizeGetter,s=r.itemSizeEstimator,a=r.type,l=this.state,c=l.from,u=l.itemSize,d=l.size;if(u)return u;if(o)return o(e);if(e in t)return t[e];if("simple"===a&&e>=c&&e<c+d&&n){var h=n.children[e-c];if(h)return h[g[i]]}return s?s(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),r=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),i=Math.min(r,n),o=Math.max(r,n);return t<=i?this.setScroll(i):t>o?this.setScroll(o):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,r=n.from,i=n.size,o=this.getStartAndEnd(0),s=o.start,a=o.end,l={},c=r;c<r+i;++c){var u=this.getSpaceBefore(c,l),d=u+this.getSizeOfItem(c);null==e&&d>s&&(e=c),null!=e&&u<a&&(t=c)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,i=this.state,o=i.from,s=i.size,a=[],l=0;l<s;++l)a.push(n(o+l,l));return r(a,function(t){return e.items=t})}},{key:"render",value:function(){var e=this,t=this.props,r=t.axis,i=t.length,o=t.type,s=t.useTranslate3d,a=this.state,l=a.from,c=a.itemsPerRow,u=this.renderItems();if("simple"===o)return u;var d={position:"relative"},h={},p=Math.ceil(i/c)*c,f=this.getSpaceBefore(p,h);f&&(d[_[r]]=f,"x"===r&&(d.overflowX="hidden"));var m=this.getSpaceBefore(l,h),g="x"===r?m:0,b="y"===r?m:0,y=s?"translate3d(".concat(g,"px, ").concat(b,"px, 0)"):"translate(".concat(g,"px, ").concat(b,"px)"),v={msTransform:y,WebkitTransform:y,transform:y};return(0,n.jsx)("div",{style:d,ref:function(t){return e.el=t},children:(0,n.jsx)("div",{style:v,children:u})})}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=k(e,t);return n===t?null:n}}],s&&i(r.prototype,s),a&&i(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,a}(t.Component);d(A,"displayName","ReactList"),d(A,"defaultProps",{axis:"y",itemRenderer:function(e,t){return(0,n.jsx)("div",{children:e},t)},itemsRenderer:function(e,t){return(0,n.jsx)("div",{ref:t,children:e})},length:0,minSize:1,pageSize:10,scrollParentGetter:function(e){for(var t=e.props.axis,n=e.getEl(),r=y[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window},scrollParentViewportSizeGetter:function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[m[t]]:n[p[t]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})},void 0===(o=r.apply(t,i))||(e.exports=o)},2176:(e,t,n)=>{"use strict";function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r=function(){return!!e})()}n.d(t,{A:()=>r})},2199:(e,t,n)=>{var r=n(4528),i=n(6449);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcFocusDate=function(e,t){var n,r=t.shownDate,i=t.date,s=t.months,a=t.ranges,l=t.focusedRange;if("dateRange"===t.displayMode){var d=a[l[0]]||{};n={start:d.startDate,end:d.endDate}}else n={start:i,end:i};n.start=(0,u.default)(n.start||new Date),n.end=(0,c.default)(n.end||n.start);var h=n.start||n.end||r||new Date;return e?(0,o.default)(n.start,n.end)>s?e:h:r||h},t.findNextRangeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.findIndex(function(e,n){return n>t&&!1!==e.autoFocus&&!e.disabled});return-1!==n?n:e.findIndex(function(e){return!1!==e.autoFocus&&!e.disabled})},t.getMonthDisplayRange=function(e,t,n){var r=(0,u.default)(e,t),o=(0,c.default)(e,t),d=(0,l.default)(r,t),h=(0,a.default)(o,t);return n&&(0,s.default)(h,d)<=34&&(h=(0,i.default)(h,7)),{start:d,end:h,startDateOfMonth:r,endDateOfMonth:o}},t.generateStyles=function(e){return e.length?e.filter(function(e){return Boolean(e)}).reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=(0,r.default)(e[n],t[n])}),e},{}):{}};var r=d(n(6942)),i=d(n(2998)),o=d(n(667)),s=d(n(63)),a=d(n(6462)),l=d(n(7827)),c=d(n(9312)),u=d(n(543));function d(e){return e&&e.__esModule?e:{default:e}}},2327:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2284);function i(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},2394:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=d(n(5556)),s=d(n(6942)),a=d(n(5010)),l=d(n(6828)),c=d(n(466)),u=d(n(3429));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(y,e);var t,n,o,d,h=(o=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=g(o);if(d){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?m(e):t}(this,e)});function y(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),b(m(n=h.call(this,e,t)),"onKeyDown",function(e){var t=n.state.value;"Enter"===e.key&&n.update(t)}),b(m(n),"onChange",function(e){n.setState({value:e.target.value,changed:!0,invalid:!1})}),b(m(n),"onBlur",function(){var e=n.state.value;n.update(e)}),n.state={invalid:!1,changed:!1,value:n.formatDate(e)},n}return t=y,(n=[{key:"componentDidUpdate",value:function(e){var t=e.value;(0,a.default)(t,this.props.value)||this.setState({value:this.formatDate(this.props)})}},{key:"formatDate",value:function(e){var t=e.value,n=e.dateDisplayFormat,r=e.dateOptions;return t&&(0,l.default)(t)?(0,u.default)(t,n,r):""}},{key:"update",value:function(e){var t=this.state,n=t.invalid,r=t.changed;if(!n&&r&&e){var i=this.props,o=i.onChange,s=i.dateDisplayFormat,a=i.dateOptions,u=(0,c.default)(e,s,new Date,a);(0,l.default)(u)?this.setState({changed:!1},function(){return o(u)}):this.setState({invalid:!0})}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.readOnly,r=e.placeholder,o=e.ariaLabel,a=e.disabled,l=e.onFocus,c=this.state,u=c.value,d=c.invalid;return i.default.createElement("span",{className:(0,s.default)("rdrDateInput",t)},i.default.createElement("input",{readOnly:n,disabled:a,value:u,placeholder:r,"aria-label":o,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:l}),d&&i.default.createElement("span",{className:"rdrWarning"},""))}}])&&p(t.prototype,n),y}(i.PureComponent);y.propTypes={value:o.default.object,placeholder:o.default.string,disabled:o.default.bool,readOnly:o.default.bool,dateOptions:o.default.object,dateDisplayFormat:o.default.string,ariaLabel:o.default.string,className:o.default.string,onFocus:o.default.func.isRequired,onChange:o.default.func.isRequired},y.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};var v=y;t.default=v},2404:(e,t,n)=>{var r=n(270);e.exports=function(e,t){return r(e,t)}},2426:(e,t,n)=>{var r=n(4248),i=n(5389),o=n(916),s=n(6449),a=n(6800);e.exports=function(e,t,n){var l=s(e)?r:o;return n&&a(e,t,n)&&(t=void 0),l(e,i(t,3))}},2428:(e,t,n)=>{var r=n(7534),i=n(346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},2448:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.rangeShape=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=p(n(5556)),s=p(n(6942)),a=p(n(6212)),l=p(n(7813)),c=p(n(9672)),u=p(n(1810)),d=p(n(3429)),h=p(n(1127));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(g,e);var t,n,o,p,f=(o=g,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=x(o);if(p){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?_(e):t}(this,e)});function g(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),E(_(n=f.call(this,e,t)),"handleKeyEvent",function(e){var t=n.props,r=t.day,i=t.onMouseDown,o=t.onMouseUp;[13,32].includes(e.keyCode)&&("keydown"===e.type?i(r):o(r))}),E(_(n),"handleMouseEvent",function(e){var t=n.props,r=t.day,i=t.disabled,o=t.onPreviewChange,s=t.onMouseEnter,a=t.onMouseDown,l=t.onMouseUp,c={};if(i)o();else{switch(e.type){case"mouseenter":s(r),o(r),c.hover=!0;break;case"blur":case"mouseleave":c.hover=!1;break;case"mousedown":c.active=!0,a(r);break;case"mouseup":e.stopPropagation(),c.active=!1,l(r);break;case"focus":o(r)}Object.keys(c).length&&n.setState(c)}}),E(_(n),"getClassNames",function(){var e,t=n.props,r=t.isPassive,i=t.isToday,o=t.isWeekend,a=t.isStartOfWeek,l=t.isEndOfWeek,c=t.isStartOfMonth,u=t.isEndOfMonth,d=t.disabled,h=t.styles;return(0,s.default)(h.day,(E(e={},h.dayPassive,r),E(e,h.dayDisabled,d),E(e,h.dayToday,i),E(e,h.dayWeekend,o),E(e,h.dayStartOfWeek,a),E(e,h.dayEndOfWeek,l),E(e,h.dayStartOfMonth,c),E(e,h.dayEndOfMonth,u),E(e,h.dayHovered,n.state.hover),E(e,h.dayActive,n.state.active),e))}),E(_(n),"renderPreviewPlaceholder",function(){var e,t=n.props,r=t.preview,o=t.day,d=t.styles;if(!r)return null;var p=r.startDate?(0,a.default)(r.startDate):null,f=r.endDate?(0,h.default)(r.endDate):null,m=(!p||(0,c.default)(o,p))&&(!f||(0,l.default)(o,f)),g=!m&&(0,u.default)(o,p),b=!m&&(0,u.default)(o,f);return i.default.createElement("span",{className:(0,s.default)((e={},E(e,d.dayStartPreview,g),E(e,d.dayInPreview,m),E(e,d.dayEndPreview,b),e)),style:{color:r.color}})}),E(_(n),"renderSelectionPlaceholders",function(){var e=n.props,t=e.styles,r=e.ranges,o=e.day;return"date"===n.props.displayMode?(0,u.default)(n.props.day,n.props.date)?i.default.createElement("span",{className:t.selected,style:{color:n.props.color}}):null:r.reduce(function(e,t){var n=t.startDate,r=t.endDate;if(n&&r&&(0,l.default)(r,n)){var i=[r,n];n=i[0],r=i[1]}n=n?(0,a.default)(n):null,r=r?(0,h.default)(r):null;var s,d=(!n||(0,c.default)(o,n))&&(!r||(0,l.default)(o,r)),p=!d&&(0,u.default)(o,n),f=!d&&(0,u.default)(o,r);return d||p||f?[].concat(function(e){if(Array.isArray(e))return y(e)}(s=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[b({isStartEdge:p,isEndEdge:f,isInRange:d},t)]):e},[]).map(function(e,r){var o;return i.default.createElement("span",{key:r,className:(0,s.default)((o={},E(o,t.startEdge,e.isStartEdge),E(o,t.endEdge,e.isEndEdge),E(o,t.inRange,e.isInRange),o)),style:{color:e.color||n.props.color}})})}),n.state={hover:!1,active:!1},n}return t=g,(n=[{key:"render",value:function(){var e=this.props.dayContentRenderer;return i.default.createElement("button",m({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),i.default.createElement("span",{className:this.props.styles.dayNumber},(null==e?void 0:e(this.props.day))||i.default.createElement("span",null,(0,d.default)(this.props.day,this.props.dayDisplayFormat))))}}])&&v(t.prototype,n),g}(i.Component);k.defaultProps={};var A=o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string,key:o.default.string,autoFocus:o.default.bool,disabled:o.default.bool,showDateDisplay:o.default.bool});t.rangeShape=A,k.propTypes={day:o.default.object.isRequired,dayDisplayFormat:o.default.string,date:o.default.object,ranges:o.default.arrayOf(A),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string}),onPreviewChange:o.default.func,previewColor:o.default.string,disabled:o.default.bool,isPassive:o.default.bool,isToday:o.default.bool,isWeekend:o.default.bool,isStartOfWeek:o.default.bool,isEndOfWeek:o.default.bool,isStartOfMonth:o.default.bool,isEndOfMonth:o.default.bool,color:o.default.string,displayMode:o.default.oneOf(["dateRange","date"]),styles:o.default.object,onMouseDown:o.default.func,onMouseUp:o.default.func,onMouseEnter:o.default.func,dayContentRenderer:o.default.func};var S=k;t.default=S},2471:(e,t,n)=>{var r=n(5496),i=n(7731).formatDOM,o=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(o);return n&&n[1]&&(t=n[1]),i(r(e),null,t)}},2507:(e,t,n)=>{var r=n(8754),i=n(9698),o=n(3912),s=n(3222);e.exports=function(e){return function(t){t=s(t);var n=i(t)?o(t):void 0,a=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return a[e]()+l}}},2523:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},2552:(e,t,n)=>{var r=n(1873),i=n(659),o=n(9350),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2694:(e,t,n)=>{"use strict";var r=n(6925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e),o=(0,r.A)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},2749:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},2787:()=>{},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},2865:(e,t,n)=>{var r=n(9570),i=n(1811)(r);e.exports=i},2901:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9922);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.A)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},2998:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(123),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(e),s=(0,r.A)(t);return isNaN(s)?new Date(NaN):s?(n.setDate(n.getDate()+s),n):n}},3029:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},3031:(e,t,n)=>{var r=n(3120),i=n(6155),o=n(9302),s=n(6800),a=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=a},3040:(e,t,n)=>{var r=n(1549),i=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||_(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b)},t.typeOf=_},3091:(e,t,n)=>{"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,function(e){return e.test(a)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,function(e){return e.test(a)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}n.d(t,{A:()=>r})},3120:(e,t,n)=>{var r=n(4528),i=n(5891);e.exports=function e(t,n,o,s,a){var l=-1,c=t.length;for(o||(o=i),a||(a=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}},3145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},3181:(e,t,n)=>{var r=n(5508)();e.exports=r},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},3237:()=>{},3243:(e,t,n)=>{var r=n(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3335:e=>{e.exports=function(e,t){return e>t}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3390:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var s=n[o];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:()=>i,shallowEqualObjects:()=>r})},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},3429:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(6828),i=n(5654),o=n(123),s=n(1270),a=n(1788),l=n(7044),c=n(1109),u=n(4188),d=n(551),h=n(1858),p=n(6014),f=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,b=/''/g,y=/[a-zA-Z]/;function v(e,t,n){var v,w,_,x,E,k,A,S,P,C,T,O,M,D,I,N,j,R;(0,d.A)(2,arguments);var L=String(t),F=(0,h.q)(),B=null!==(v=null!==(w=null==n?void 0:n.locale)&&void 0!==w?w:F.locale)&&void 0!==v?v:p.A,V=(0,u.A)(null!==(_=null!==(x=null!==(E=null!==(k=null==n?void 0:n.firstWeekContainsDate)&&void 0!==k?k:null==n||null===(A=n.locale)||void 0===A||null===(S=A.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==E?E:F.firstWeekContainsDate)&&void 0!==x?x:null===(P=F.locale)||void 0===P||null===(C=P.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==_?_:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=(0,u.A)(null!==(T=null!==(O=null!==(M=null!==(D=null==n?void 0:n.weekStartsOn)&&void 0!==D?D:null==n||null===(I=n.locale)||void 0===I||null===(N=I.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==M?M:F.weekStartsOn)&&void 0!==O?O:null===(j=F.locale)||void 0===j||null===(R=j.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==T?T:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var U=(0,o.A)(e);if(!(0,r.default)(U))throw new RangeError("Invalid time value");var q=(0,l.A)(U),H=(0,i.A)(U,q),$={firstWeekContainsDate:V,weekStartsOn:z,locale:B,_originalDate:U};return L.match(m).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,a.A[t])(e,B.formatLong):e}).join("").match(f).map(function(r){if("''"===r)return"'";var i,o,a=r[0];if("'"===a)return(o=(i=r).match(g))?o[1].replace(b,"'"):i;var l=s.A[a];if(l)return null!=n&&n.useAdditionalWeekYearTokens||!(0,c.xM)(r)||(0,c.lJ)(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!(0,c.ef)(r)||(0,c.lJ)(r,t,String(e)),l(H,r,B.localize,$);if(a.match(y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}},3479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e).getDay();return 0===t||6===t}},3488:e=>{e.exports=function(e){return e}},3599:(e,t,n)=>{var r=n(4394);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(void 0===l?a==a&&!r(a):n(a,l)))var l=a,c=s}return c}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},3652:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e).getTime(),o=(0,r.A)(t.start).getTime(),s=(0,r.A)(t.end).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return n>=o&&n<=s}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(9935),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},3661:(e,t,n)=>{var r=n(3040),i=n(7670),o=n(289),s=n(4509),a=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},3662:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},3663:(e,t,n)=>{var r=n(1799),i=n(776),o=n(7197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3714:(e,t,n)=>{var r=n(3730);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},3730:(e,t,n)=>{var r=n(4394);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,s=r(e),a=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!u&&e<t||u&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}},3777:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3812:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3912:(e,t,n)=>{var r=n(1074),i=n(9698),o=n(2054);e.exports=function(e){return i(e)?o(e):r(e)}},3916:(e,t,n)=>{var r=n(3360),i=n(641),o=n(5389);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},3937:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3950:e=>{e.exports=function(){}},3954:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{A:()=>r})},4127:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(123),i=n(551),o=n(9411);function s(e){(0,i.A)(1,arguments);var t=(0,r.A)(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=(0,o.A)(s),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,o.A)(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},4128:(e,t,n)=>{var r=n(1800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},4146:(e,t,n)=>{"use strict";var r=n(3404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var b=s[g];if(!(o[b]||r&&r[b]||m&&m[b]||a&&a[b])){var y=h(n,b);try{c(t,b,y)}catch(e){}}}}return t}},4188:(e,t,n)=>{"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>r})},4210:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}Object.defineProperty(t,"__esModule",{value:!0});var o={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){o[e]=new i(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t,n,s=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],_n=!0,s=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);_n=!0);}catch(e){s=!0,i=e}finally{try{_n||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],l=s[1];o[a]=new i(a,1,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){o[e]=new i(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){o[e]=new i(e,2,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){o[e]=new i(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){o[e]=new i(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){o[e]=new i(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){o[e]=new i(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){o[e]=new i(e,5,!1,e.toLowerCase(),null,!1,!1)});var s=/[\-\:]([a-z])/g,a=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(s,a);o[t]=new i(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(s,a);o[t]=new i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(s,a);o[t]=new i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){o[e]=new i(e,1,!1,e.toLowerCase(),null,!1,!1)}),o.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){o[e]=new i(e,1,!1,e.toLowerCase(),null,!0,!0)});var l=n(6811),c=l.CAMELCASE,u=l.SAME,d=l.possibleStandardNames,h=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),p=Object.keys(d).reduce(function(e,t){var n=d[t];return n===u?e[t]=t:n===c?e[t.toLowerCase()]=t:e[t]=n,e},{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return o.hasOwnProperty(e)?o[e]:null},t.isCustomAttribute=h,t.possibleStandardNames=p},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(2118),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,r.A)(t);return(0,i.default)(e,-n)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4394:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9922);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4506:(e,t,n)=>{var r=n(3599),i=n(3335),o=n(3488);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},4517:(e,t,n)=>{var r=n(6545),i=n(3950),o=n(4247),s=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=s},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},4580:(e,t,n)=>{"use strict";e.exports=n(8867)},4664:(e,t,n)=>{var r=n(9770),i=n(3345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=a},4713:(e,t,n)=>{var r=n(2523),i=n(5389),o=n(1489),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),r(e,i(t,3),l)}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4797:(e,t,n)=>{"use strict";function r(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{A:()=>r})},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4901:(e,t,n)=>{var r=n(2552),i=n(294),o=n(346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},4936:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=N(n(5556)),s=n(2448),a=N(n(6648)),l=N(n(2394)),c=n(2301),u=N(n(6942)),d=N(n(2121)),h=n(3390),p=N(n(7440)),f=N(n(838)),m=N(n(9045)),g=N(n(2702)),b=N(n(2998)),y=N(n(9312)),v=N(n(543)),w=N(n(667)),_=N(n(1104)),x=N(n(8895)),E=N(n(9317)),k=N(n(1810)),A=N(n(6462)),S=N(n(7827)),P=N(n(6755)),C=N(n(3429)),T=N(n(4327)),O=N(n(2118)),M=N(n(6969)),D=N(n(1776)),I=n(6279);function N(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(M,e);var t,n,o,s,E=(o=M,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=q(o);if(s){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?U(e):t}(this,e)});function M(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,M),H(U(n=E.call(this,e,t)),"focusToDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.scroll.enabled){var i=(0,w.default)(e,t.minDate,n.dateOptions),o=n.list.getVisibleRange();r&&o.includes(i)||(n.isFirstRender=!0,n.list.scrollTo(i),n.setState({focusedDate:e}))}else{if(r&&t.preventSnapRefocus){var s=(0,w.default)(e,n.state.focusedDate),a="forwards"===t.calendarFocus&&s>=0,l="backwards"===t.calendarFocus&&s<=0;if((a||l)&&Math.abs(s)<t.months)return}n.setState({focusedDate:e})}}),H(U(n),"updateShownDate",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.scroll.enabled?B(B({},e),{},{months:n.list.getVisibleRange().length}):e,r=(0,c.calcFocusDate)(n.state.focusedDate,t);n.focusToDate(r,t)}),H(U(n),"updatePreview",function(e){if(e){var t={startDate:e,endDate:e,color:n.props.color};n.setState({preview:t})}else n.setState({preview:null})}),H(U(n),"changeShownDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",r=n.state.focusedDate,i=n.props,o=i.onShownDateChange,s=i.minDate,a=i.maxDate,l={monthOffset:function(){return(0,O.default)(r,e)},setMonth:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,_.default)(r,e)}),setYear:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,x.default)(r,e)}),set:function(){return e}},c=(0,f.default)([(0,p.default)([l[t](),s]),a]);n.focusToDate(c,n.props,!1),o&&o(c)}),H(U(n),"handleRangeFocusChange",function(e,t){n.props.onRangeFocusChange&&n.props.onRangeFocusChange([e,t])}),H(U(n),"handleScroll",function(){var e=n.props,t=e.onShownDateChange,r=e.minDate,i=n.state.focusedDate,o=U(n).isFirstRender,s=n.list.getVisibleRange();if(void 0!==s[0]){var a=(0,O.default)(r,s[0]||0);!(0,g.default)(a,i)&&!o&&(n.setState({focusedDate:a}),t&&t(a)),n.isFirstRender=!1}}),H(U(n),"renderMonthAndYear",function(e,t,r){var o=r.showMonthArrow,s=r.minDate,a=r.maxDate,l=r.showMonthAndYearPickers,c=r.ariaLabels,d=(a||M.defaultProps.maxDate).getFullYear(),h=(s||M.defaultProps.minDate).getFullYear(),p=n.styles;return i.default.createElement("div",{onMouseUp:function(e){return e.stopPropagation()},className:p.monthAndYearWrapper},o?i.default.createElement("button",{type:"button",className:(0,u.default)(p.nextPrevButton,p.prevButton),onClick:function(){return t(-1,"monthOffset")},"aria-label":c.prevButton},i.default.createElement("i",null)):null,l?i.default.createElement("span",{className:p.monthAndYearPickers},i.default.createElement("span",{className:p.monthPicker},i.default.createElement("select",{value:e.getMonth(),onChange:function(e){return t(e.target.value,"setMonth")},"aria-label":c.monthPicker},n.state.monthNames.map(function(e,t){return i.default.createElement("option",{key:t,value:t},e)}))),i.default.createElement("span",{className:p.monthAndYearDivider}),i.default.createElement("span",{className:p.yearPicker},i.default.createElement("select",{value:e.getFullYear(),onChange:function(e){return t(e.target.value,"setYear")},"aria-label":c.yearPicker},new Array(d-h+1).fill(d).map(function(e,t){var n=e-t;return i.default.createElement("option",{key:n,value:n},n)})))):i.default.createElement("span",{className:p.monthAndYearPickers},n.state.monthNames[e.getMonth()]," ",e.getFullYear()),o?i.default.createElement("button",{type:"button",className:(0,u.default)(p.nextPrevButton,p.nextButton),onClick:function(){return t(1,"monthOffset")},"aria-label":c.nextButton},i.default.createElement("i",null)):null)}),H(U(n),"renderDateDisplay",function(){var e=n.props,t=e.focusedRange,r=e.color,o=e.ranges,s=e.rangeColors,a=e.dateDisplayFormat,c=e.editableDateInputs,d=e.startDatePlaceholder,h=e.endDatePlaceholder,p=e.ariaLabels,f=s[t[0]]||r,m=n.styles;return i.default.createElement("div",{className:m.dateDisplayWrapper},o.map(function(e,r){return!1===e.showDateDisplay||e.disabled&&!e.showDateDisplay?null:i.default.createElement("div",{className:m.dateDisplay,key:r,style:{color:e.color||f}},i.default.createElement(l.default,{className:(0,u.default)(m.dateDisplayItem,H({},m.dateDisplayItemActive,t[0]===r&&0===t[1])),readOnly:!c,disabled:e.disabled,value:e.startDate,placeholder:d,dateOptions:n.dateOptions,dateDisplayFormat:a,ariaLabel:p.dateInput&&p.dateInput[e.key]&&p.dateInput[e.key].startDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,0)}}),i.default.createElement(l.default,{className:(0,u.default)(m.dateDisplayItem,H({},m.dateDisplayItemActive,t[0]===r&&1===t[1])),readOnly:!c,disabled:e.disabled,value:e.endDate,placeholder:h,dateOptions:n.dateOptions,dateDisplayFormat:a,ariaLabel:p.dateInput&&p.dateInput[e.key]&&p.dateInput[e.key].endDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,1)}}))}))}),H(U(n),"onDragSelectionStart",function(e){var t=n.props,r=t.onChange;t.dragSelectionEnabled?n.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):r&&r(e)}),H(U(n),"onDragSelectionEnd",function(e){var t=n.props,r=t.updateRange,i=t.displayMode,o=t.onChange;if(t.dragSelectionEnabled)if("date"!==i&&n.state.drag.status){var s={startDate:n.state.drag.range.startDate,endDate:e};"dateRange"!==i||(0,k.default)(s.startDate,e)?n.setState({drag:{status:!1,range:{}}},function(){return o&&o(e)}):n.setState({drag:{status:!1,range:{}}},function(){r&&r(s)})}else o&&o(e)}),H(U(n),"onDragSelectionMove",function(e){var t=n.state.drag;t.status&&n.props.dragSelectionEnabled&&n.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})}),H(U(n),"estimateMonthSize",function(e,t){var r=n.props,i=r.direction,o=r.minDate,s=n.state.scrollArea;if(t&&(n.listSizeCache=t,t[e]))return t[e];if("horizontal"===i)return s.monthWidth;var a=(0,O.default)(o,e),l=(0,c.getMonthDisplayRange)(a,n.dateOptions),u=l.start,d=l.end;return(0,m.default)(d,u,n.dateOptions)+1>35?s.longMonthHeight:s.monthHeight}),n.dateOptions={locale:e.locale},void 0!==e.weekStartsOn&&(n.dateOptions.weekStartsOn=e.weekStartsOn),n.styles=(0,c.generateStyles)([D.default,e.classNames]),n.listSizeCache={},n.isFirstRender=!0,n.state={monthNames:n.getMonthNames(),focusedDate:(0,c.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:n.calcScrollArea(e)},n}return t=M,(n=[{key:"getMonthNames",value:function(){var e,t=this;return(e=Array(12).keys(),function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return t.props.locale.localize.month(e)})}},{key:"calcScrollArea",value:function(e){var t=e.direction,n=e.months,r=e.scroll;if(!r.enabled)return{enabled:!1};var i=r.longMonthHeight||r.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:r.monthHeight||220,longMonthHeight:i||260,calendarWidth:"auto",calendarHeight:(r.calendarHeight||i||240)*n}:{enabled:!0,monthWidth:r.monthWidth||332,calendarWidth:(r.calendarWidth||r.monthWidth||332)*n,monthHeight:i||300,calendarHeight:i||300}}},{key:"componentDidMount",value:function(){var e=this;this.props.scroll.enabled&&setTimeout(function(){return e.focusToDate(e.state.focusedDate)})}},{key:"componentDidUpdate",value:function(e){var t={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[t]!==e[t]&&this.updateShownDate(this.props),e.locale===this.props.locale&&e.weekStartsOn===this.props.weekStartsOn||(this.dateOptions={locale:this.props.locale},void 0!==this.props.weekStartsOn&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,h.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}},{key:"renderWeekdays",value:function(){var e=this,t=new Date;return i.default.createElement("div",{className:this.styles.weekDays},(0,P.default)({start:(0,S.default)(t,this.dateOptions),end:(0,A.default)(t,this.dateOptions)}).map(function(t,n){return i.default.createElement("span",{className:e.styles.weekDay,key:n},(0,C.default)(t,e.props.weekdayDisplayFormat,e.dateOptions))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showDateDisplay,r=t.onPreviewChange,o=t.scroll,s=t.direction,l=t.disabledDates,c=t.disabledDay,h=t.maxDate,p=t.minDate,f=t.rangeColors,m=t.color,g=t.navigatorRenderer,_=t.className,x=t.preview,E=this.state,k=E.scrollArea,A=E.focusedDate,S="vertical"===s,P=g||this.renderMonthAndYear,C=this.props.ranges.map(function(e,t){return B(B({},e),{},{color:e.color||f[t]||m})});return i.default.createElement("div",{className:(0,u.default)(this.styles.calendarWrapper,_),onMouseUp:function(){return e.setState({drag:{status:!1,range:{}}})},onMouseLeave:function(){e.setState({drag:{status:!1,range:{}}})}},n&&this.renderDateDisplay(),P(A,this.changeShownDate,this.props),o.enabled?i.default.createElement("div",null,S&&this.renderWeekdays(this.dateOptions),i.default.createElement("div",{className:(0,u.default)(this.styles.infiniteMonths,S?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:function(){return r&&r()},style:{width:k.calendarWidth+11,height:k.calendarHeight+11},onScroll:this.handleScroll},i.default.createElement(d.default,{length:(0,w.default)((0,y.default)(h),(0,b.default)((0,v.default)(p),-1),this.dateOptions),treshold:500,type:"variable",ref:function(t){return e.list=t},itemSizeEstimator:this.estimateMonthSize,axis:S?"y":"x",itemRenderer:function(t,n){var o=(0,O.default)(p,t);return i.default.createElement(a.default,R({},e.props,{onPreviewChange:r||e.updatePreview,preview:x||e.state.preview,ranges:C,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:c,month:o,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,style:S?{height:e.estimateMonthSize(t)}:{height:k.monthHeight,width:e.estimateMonthSize(t)},showMonthName:!0,showWeekDays:!S}))}}))):i.default.createElement("div",{className:(0,u.default)(this.styles.months,S?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map(function(t,n){var o=(0,O.default)(e.state.focusedDate,n);return"backwards"===e.props.calendarFocus&&(o=(0,T.default)(e.state.focusedDate,e.props.months-1-n)),i.default.createElement(a.default,R({},e.props,{onPreviewChange:r||e.updatePreview,preview:x||e.state.preview,ranges:C,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:c,month:o,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,showWeekDays:!S||0===n,showMonthName:!S||n>0}))})))}}])&&V(t.prototype,n),M}(i.PureComponent);$.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:function(){},classNames:{},locale:M.default,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,E.default)(new Date,20),minDate:(0,E.default)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}},$.propTypes={showMonthArrow:o.default.bool,showMonthAndYearPickers:o.default.bool,disabledDates:o.default.array,disabledDay:o.default.func,minDate:o.default.object,maxDate:o.default.object,date:o.default.object,onChange:o.default.func,onPreviewChange:o.default.func,onRangeFocusChange:o.default.func,classNames:o.default.object,locale:o.default.object,shownDate:o.default.object,onShownDateChange:o.default.func,ranges:o.default.arrayOf(s.rangeShape),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string}),dateDisplayFormat:o.default.string,monthDisplayFormat:o.default.string,weekdayDisplayFormat:o.default.string,weekStartsOn:o.default.number,dayDisplayFormat:o.default.string,focusedRange:o.default.arrayOf(o.default.number),initialFocusedRange:o.default.arrayOf(o.default.number),months:o.default.number,className:o.default.string,showDateDisplay:o.default.bool,showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),color:o.default.string,updateRange:o.default.func,scroll:o.default.shape({enabled:o.default.bool,monthHeight:o.default.number,longMonthHeight:o.default.number,monthWidth:o.default.number,calendarWidth:o.default.number,calendarHeight:o.default.number}),direction:o.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:o.default.string,endDatePlaceholder:o.default.string,navigatorRenderer:o.default.func,rangeColors:o.default.arrayOf(o.default.string),editableDateInputs:o.default.bool,dragSelectionEnabled:o.default.bool,fixedHeight:o.default.bool,calendarFocus:o.default.string,preventSnapRefocus:o.default.bool,ariaLabels:I.ariaLabelsShape};var W=$;t.default=W},4958:(e,t,n)=>{var r=n(1609),i=n(5229).default,o={reactCompat:!0},s=r.version.split(".")[0]>=16,a=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:s,invertObject:function(e,t){if(!e||"object"!=typeof e)throw new TypeError("First argument must be an object");var n,r,i="function"==typeof t,o={},s={};for(n in e)r=e[n],i&&(o=t(n,r))&&2===o.length?s[o[0]]=o[1]:"string"==typeof r&&(s[r]=n);return s},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!=e)try{t.style=i(e,o)}catch(e){t.style={}}},canTextBeChildOfNode:function(e){return!a.has(e.name)},elementsWithNoTextChildren:a}},5001:(e,t,n)=>{"use strict";var r=n(4848).jsx,i=/(\r\n|\r|\n)/g;e.exports=function(e){return"string"!=typeof e?e:e.split(i).map(function(e,t){return e.match(i)?r("br",{key:t}):e})}},5010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e),o=(0,r.A)(t);return n.getTime()===o.getTime()}},5015:(e,t,n)=>{var r=n(2552),i=n(6449),o=n(346);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},5047:(e,t,n)=>{"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}n.d(t,{A:()=>r})},5083:(e,t,n)=>{var r=n(1882),i=n(7296),o=n(3805),s=n(7473),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},5117:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(123),i=n(551),o=864e5;function s(e){(0,i.A)(1,arguments);var t=(0,r.A)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=n-t.getTime();return Math.floor(s/o)+1}},5128:(e,t,n)=>{var r=n(909),i=n(4894);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},5160:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},5229:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(9108)),o=n(8917);t.default=function(e,t){var n={};return e&&"string"==typeof e?((0,i.default)(e,function(e,r){e&&r&&(n[(0,o.camelCase)(e,t)]=r)}),n):n}},5270:(e,t)=>{t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5290:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284),i=n(551);function o(e){return(0,i.A)(1,arguments),e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},5325:(e,t,n)=>{var r=n(6131);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},5378:(e,t,n)=>{var r=n(4932),i=n(5389),o=n(5128),s=n(6449);e.exports=function(e,t){return(s(e)?r:o)(e,i(t,3))}},5389:(e,t,n)=>{var r=n(3663),i=n(7978),o=n(3488),s=n(6449),a=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},5409:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),s=(i=n(5556))&&i.__esModule?i:{default:i};function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,i,s,a=(i=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(s){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}(this,e)});function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(u(n=a.call(this,e,t)),"onChange",function(e){var t=n.props.onChange,r=parseInt(e.target.value,10);t(r=isNaN(r)?0:Math.max(Math.min(99999,r),0))}),n}return t=h,(n=[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.value,r=t.label,i=t.placeholder;return n!==e.value||r!==e.label||i!==e.placeholder}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.placeholder,r=e.value,i=e.styles,s=e.onBlur,a=e.onFocus;return o.default.createElement("div",{className:i.inputRange},o.default.createElement("input",{className:i.inputRangeInput,placeholder:n,value:r,min:0,max:99999,onChange:this.onChange,onFocus:a,onBlur:s}),o.default.createElement("span",{className:i.inputRangeLabel},t))}}])&&l(t.prototype,n),h}(o.Component);h.propTypes={value:s.default.oneOfType([s.default.string,s.default.number]),label:s.default.oneOfType([s.default.element,s.default.node]).isRequired,placeholder:s.default.string,styles:s.default.shape({inputRange:s.default.string,inputRangeInput:s.default.string,inputRangeLabel:s.default.string}).isRequired,onBlur:s.default.func.isRequired,onFocus:s.default.func.isRequired,onChange:s.default.func.isRequired},h.defaultProps={value:"",placeholder:"-"};var p=h;t.default=p},5413:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},5463:e=>{e.exports=function(e){return e!=e}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},5496:e=>{var t="html",n="head",r="body",i=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,s=/<body[^]*>/i,a=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},c="object"==typeof window&&window.DOMParser;if("function"==typeof c){var u=new c;a=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),u.parseFromString(e,"text/html")}}if("object"==typeof document&&document.implementation){var d=document.implementation.createHTMLDocument();a=function(e,t){return t?(d.documentElement.querySelector(t).innerHTML=e,d):(d.documentElement.innerHTML=e,d)}}var h,p="object"==typeof document?document.createElement("template"):{};p.content&&(h=function(e){return p.innerHTML=e,p.content.childNodes}),e.exports=function(e){var c,u,d,p,f=e.match(i);switch(f&&f[1]&&(c=f[1].toLowerCase()),c){case t:return u=l(e),o.test(e)||(d=u.querySelector(n))&&d.parentNode.removeChild(d),s.test(e)||(d=u.querySelector(r))&&d.parentNode.removeChild(d),u.querySelectorAll(t);case n:case r:return p=(u=a(e)).querySelectorAll(c),s.test(e)&&o.test(e)?p[0].parentNode.childNodes:p;default:return h?h(e):(d=a(e,r).querySelector(r)).childNodes}}},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3662);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.A)(e,t)}},5508:(e,t,n)=>{var r=n(6151),i=n(6800),o=n(7400);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&i(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),r(t,n,s,e)}}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5556:(e,t,n)=>{e.exports=n(2694)()},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},5654:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7767),i=n(551),o=n(4188);function s(e,t){(0,i.A)(2,arguments);var n=(0,o.A)(t);return(0,r.A)(e,-n)}},5659:(e,t,n)=>{const r=n(8156),i={};for(const e of Object.keys(r))i[r[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:t}),Object.defineProperty(o[e],"labels",{value:n})}function s(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=o-i;let a,l;o===i?a=0:t===o?a=(n-r)/s:n===o?a=2+(r-t)/s:r===o&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(i+o)/2;return l=o===i?0:c<=.5?s/(o+i):s/(2-o-i),[a,100*l,100*c]},o.rgb.hsv=function(e){let t,n,r,i,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(e){return(c-e)/6/u+.5};return 0===u?(i=0,o=0):(o=u/c,t=d(s),n=d(a),r=d(l),s===c?i=r-n:a===c?i=1/3+t-r:l===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=o.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*s,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const t=i[e];if(t)return t;let n,o=1/0;for(const t of Object.keys(r)){const i=s(e,r[t]);i<o&&(o=i,n=t)}return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];return n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,s;if(0===n)return s=255*r,[s,s,s];i=r<.5?r*(1+n):r+n-r*n;const a=2*r-i,l=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,l[e]=255*s;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),(r+n)/2*100]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*t),a=1-r;o=6*t-s,1&s&&(o=1-o);const l=n+o*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,s;return i=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,s=.0557*t+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,o=t**3,s=r**3;return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;return i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360),[t,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let s=null===t?o.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),s=i-o;let a,l;return a=s<1?o/(1-s):0,l=s<=0?0:i===t?(n-r)/s%6:i===n?2+(r-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5765:(e,t,n)=>{var r=n(1240),i=n(5325),o=n(9905),s=n(9219),a=n(4517),l=n(4247);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=o;else if(d>=200){var m=t?null:a(e);if(m)return l(m);h=!1,u=s,f=new r}else f=t?[]:p;e:for(;++c<d;){var g=e[c],b=t?t(g):g;if(g=n||0!==g?g:0,h&&b==b){for(var y=f.length;y--;)if(f[y]===b)continue e;t&&f.push(b),p.push(g)}else u(f,b,n)||(f!==p&&f.push(b),p.push(g))}return p}},5775:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5785:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(123),i=n(9742),o=n(9003),s=n(551),a=6048e5;function l(e,t){(0,s.A)(1,arguments);var n=(0,r.A)(e),l=(0,i.A)(n,t).getTime()-(0,o.A)(n,t).getTime();return Math.round(l/a)+1}},5808:(e,t,n)=>{var r=n(2507)("toUpperCase");e.exports=r},5861:(e,t,n)=>{var r=n(5580),i=n(8223),o=n(2804),s=n(6545),a=n(8303),l=n(2552),c=n(7473),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),b=c(o),y=c(s),v=c(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=u||o&&w(o.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case b:return d;case y:return h;case v:return p}return t}),e.exports=w},5891:(e,t,n)=>{var r=n(1873),i=n(2428),o=n(6449),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(s&&e&&e[s])}},5911:(e,t,n)=>{var r=n(1240),i=n(4248),o=n(9219);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var b=e[f],y=t[f];if(s)var v=c?s(y,b,f,t,e,l):s(b,y,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(b===e||a(b,e,n,s,l)))return g.push(t)})){m=!1;break}}else if(b!==y&&!a(b,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},5950:(e,t,n)=>{var r=n(695),i=n(8984),o=n(4894);e.exports=function(e){return o(e)?r(e):i(e)}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},6014:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6969).default},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6087:e=>{"use strict";e.exports=window.lodash},6096:(e,t,n)=>{"use strict";e.exports=n(9048)},6110:(e,t,n)=>{var r=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},6131:(e,t,n)=>{var r=n(2523),i=n(5463),o=n(6959);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},6151:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var s=-1,a=n(t((r-e)/(i||1)),0),l=Array(a);a--;)l[o?a:++s]=e,e+=i;return l}},6155:(e,t,n)=>{var r=n(4932),i=n(7422),o=n(5389),s=n(5128),a=n(3937),l=n(7301),c=n(3714),u=n(3488),d=n(6449);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(o));var p=s(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return a(p,function(e,t){return c(e,t,n)})}},6171:(e,t,n)=>{"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(i.length)}}}n.d(t,{A:()=>r})},6176:e=>{e.exports=function(e,t){return e<t}},6212:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e);return t.setHours(23,59,59,999),t}},6279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ariaLabelsShape=void 0;var r,i=(r=n(5556))&&r.__esModule?r:{default:r},o=i.default.shape({dateInput:i.default.objectOf(i.default.shape({startDate:i.default.string,endDate:i.default.string})),monthPicker:i.default.string,yearPicker:i.default.string,prevButton:i.default.string,nextButton:i.default.string});t.ariaLabelsShape=o},6449:e=>{var t=Array.isArray;e.exports=t},6462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1858),i=n(123),o=n(4188),s=n(551);function a(e,t){var n,a,l,c,u,d,h,p;(0,s.A)(1,arguments);var f=(0,r.q)(),m=(0,o.A)(null!==(n=null!==(a=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,i.A)(e),b=g.getDay(),y=6+(b<m?-7:0)-(b-m);return g.setDate(g.getDate()+y),g.setHours(23,59,59,999),g}},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},6614:(e,t,n)=>{var r=n(1141),i=n(2471),o=n(840),s=n(308);i="function"==typeof i.default?i.default:i;var a={lowerCaseAttributeNames:!1};function l(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return""===e?[]:s(i(e,(t=t||{}).htmlparser2||a),t)}l.domToReact=s,l.htmlToDOM=i,l.attributesToProps=o,l.Comment=r.Comment,l.Element=r.Element,l.ProcessingInstruction=r.ProcessingInstruction,l.Text=r.Text,e.exports=l,l.default=l},6631:(e,t,n)=>{"use strict";function r(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}n.d(t,{A:()=>r})},6648:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=_(n(1609)),o=v(n(5556)),s=_(n(2448)),a=v(n(6755)),l=v(n(3652)),c=v(n(3479)),u=v(n(9672)),d=v(n(1810)),h=v(n(7813)),p=v(n(6462)),f=v(n(7827)),m=v(n(6212)),g=v(n(1127)),b=v(n(3429)),y=n(2301);function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(_,e);var t,n,o,v,w=(o=_,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=C(o);if(v){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),w.apply(this,arguments)}return t=_,(n=[{key:"render",value:function(){var e=this,t=new Date,n=this.props,r=n.displayMode,o=n.focusedRange,v=n.drag,w=n.styles,_=n.disabledDates,E=n.disabledDay,A=this.props.minDate&&(0,g.default)(this.props.minDate),S=this.props.maxDate&&(0,m.default)(this.props.maxDate),P=(0,y.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight),C=this.props.ranges;if("dateRange"===r&&v.status){var T=v.range,O=T.startDate,M=T.endDate;C=C.map(function(e,t){return t!==o[0]?e:k(k({},e),{},{startDate:O,endDate:M})})}var D=this.props.showPreview&&!v.disablePreview;return i.default.createElement("div",{className:w.month,style:this.props.style},this.props.showMonthName?i.default.createElement("div",{className:w.monthName},(0,b.default)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&function(e,t,n){var r=new Date;return i.default.createElement("div",{className:e.weekDays},(0,a.default)({start:(0,f.default)(r,t),end:(0,p.default)(r,t)}).map(function(r,o){return i.default.createElement("span",{className:e.weekDay,key:o},(0,b.default)(r,n,t))}))}(w,this.props.dateOptions,this.props.weekdayDisplayFormat),i.default.createElement("div",{className:w.days,onMouseLeave:this.props.onMouseLeave},(0,a.default)({start:P.start,end:P.end}).map(function(n,r){var o=(0,d.default)(n,P.startDateOfMonth),a=(0,d.default)(n,P.endDateOfMonth),m=A&&(0,h.default)(n,A)||S&&(0,u.default)(n,S),g=_.some(function(e){return(0,d.default)(e,n)}),b=E(n);return i.default.createElement(s.default,x({},e.props,{ranges:C,day:n,preview:D?e.props.preview:null,isWeekend:(0,c.default)(n,e.props.dateOptions),isToday:(0,d.default)(n,t),isStartOfWeek:(0,d.default)(n,(0,f.default)(n,e.props.dateOptions)),isEndOfWeek:(0,d.default)(n,(0,p.default)(n,e.props.dateOptions)),isStartOfMonth:o,isEndOfMonth:a,key:r,disabled:m||g||b,isPassive:!(0,l.default)(n,{start:P.startDateOfMonth,end:P.endDateOfMonth}),styles:w,onMouseDown:e.props.onDragSelectionStart,onMouseUp:e.props.onDragSelectionEnd,onMouseEnter:e.props.onDragSelectionMove,dragRange:v.range,drag:v.status}))})))}}])&&S(t.prototype,n),_}(i.PureComponent);T.defaultProps={},T.propTypes={style:o.default.object,styles:o.default.object,month:o.default.object,drag:o.default.object,dateOptions:o.default.object,disabledDates:o.default.array,disabledDay:o.default.func,preview:o.default.shape({startDate:o.default.object,endDate:o.default.object}),showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),minDate:o.default.object,maxDate:o.default.object,ranges:o.default.arrayOf(s.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onDragSelectionStart:o.default.func,onDragSelectionEnd:o.default.func,onDragSelectionMove:o.default.func,onMouseLeave:o.default.func,monthDisplayFormat:o.default.string,weekdayDisplayFormat:o.default.string,dayDisplayFormat:o.default.string,showWeekDays:o.default.bool,showMonthName:o.default.bool,fixedHeight:o.default.bool};var O=T;t.default=O},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},6671:()=>{},6721:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},6755:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){var n;(0,i.A)(1,arguments);var o=e||{},s=(0,r.A)(o.start),a=(0,r.A)(o.end).getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var u=Number(null!==(n=null==t?void 0:t.step)&&void 0!==n?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push((0,r.A)(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}},6757:(e,t,n)=>{var r=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),r(e,this,c)}}},6800:(e,t,n)=>{var r=n(5288),i=n(4894),o=n(361),s=n(3805);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},6811:(e,t)=>{t.SAME=0,t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},6822:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284),i=n(9417);function o(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.A)(e)}},6828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(5290),i=n(123),o=n(551);function s(e){if((0,o.A)(1,arguments),!(0,r.A)(e)&&"number"!=typeof e)return!1;var t=(0,i.A)(e);return!isNaN(Number(t))}},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},6957:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(5413),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),x(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=u;var d=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=s.ElementType.Directive,r}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=d;var h=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(h);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(h);t.Document=f;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,r)||this;return o.name=t,o.attribs=n,o.type=i,o}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}})},enumerable:!1,configurable:!0}),t}(h);function g(e){return(0,s.isTag)(e)}function b(e){return e.type===s.ElementType.CDATA}function y(e){return e.type===s.ElementType.Text}function v(e){return e.type===s.ElementType.Comment}function w(e){return e.type===s.ElementType.Directive}function _(e){return e.type===s.ElementType.Root}function x(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(v(e))n=new u(e.data);else if(g(e)){var r=t?E(e.children):[],i=new m(e.name,o({},e.attribs),r);r.forEach(function(e){return e.parent=i}),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),n=i}else if(b(e)){r=t?E(e.children):[];var s=new p(r);r.forEach(function(e){return e.parent=s}),n=s}else if(_(e)){r=t?E(e.children):[];var a=new f(r);r.forEach(function(e){return e.parent=a}),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new d(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function E(e){for(var t=e.map(function(e){return x(e,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=b,t.isText=y,t.isComment=v,t.isDirective=w,t.isDocument=_,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=x},6959:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},6969:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(9475),i=n(8878),o=n(8860),s=n(1412),a=n(9028);const l={code:"en-US",formatDistance:r.A,formatLong:i.A,formatRelative:o.A,localize:s.A,match:a.A,options:{weekStartsOn:0,firstWeekContainsDate:1}}},7044:(e,t,n)=>{"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{A:()=>r})},7068:(e,t,n)=>{var r=n(7217),i=n(5911),o=n(1986),s=n(689),a=n(5861),l=n(6449),c=n(3656),u=n(7167),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var y=l(e),v=l(t),w=y?h:a(e),_=v?h:a(t),x=(w=w==d?p:w)==p,E=(_=_==d?p:_)==p,k=w==_;if(k&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(k&&!x)return b||(b=new r),y||u(e)?i(e,t,n,m,g,b):o(e,t,w,n,m,g,b);if(!(1&n)){var A=x&&f.call(e,"__wrapped__"),S=E&&f.call(t,"__wrapped__");if(A||S){var P=A?e.value():e,C=S?t.value():t;return b||(b=new r),g(P,C,n,m,b)}}return!!k&&(b||(b=new r),s(e,t,n,m,g,b))}},7167:(e,t,n)=>{var r=n(4901),i=n(7301),o=n(6009),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},7182:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4127),i=n(9411),o=n(551);function s(e){(0,o.A)(1,arguments);var t=(0,r.A)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,i.A)(n)}},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},7217:(e,t,n)=>{var r=n(79),i=n(1420),o=n(938),s=n(3605),a=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},7277:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7296:(e,t,n)=>{var r,i=n(5481),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7307:(e,t,n)=>{var r=n(3120),i=n(5378);e.exports=function(e,t){return r(i(e,t),1)}},7309:(e,t,n)=>{var r=n(2006)(n(4713));e.exports=r},7334:e=>{e.exports=function(e){return function(){return e}}},7350:(e,t,n)=>{var r=n(8221),i=n(3805);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},7400:(e,t,n)=>{var r=n(9374),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,n)=>{var r=n(1769),i=n(7797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},7440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2284),i=n(123),o=n(551);function s(e){var t,n;if((0,o.A)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,i.A)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7492:()=>{},7534:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7556:(e,t,n)=>{var r=n(1873),i=n(4932),o=n(6449),s=n(4394),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7640:()=>{},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7731:(e,t,n)=>{for(var r,i=n(1141),o=n(5270).CASE_SENSITIVE_TAG_NAMES,s=i.Comment,a=i.Element,l=i.ProcessingInstruction,c=i.Text,u={},d=0,h=o.length;d<h;d++)r=o[d],u[r.toLowerCase()]=r;function p(e){for(var t,n={},r=0,i=e.length;r<i;r++)n[(t=e[r]).name]=t.value;return n}function f(e){return function(e){return u[e]}(e=e.toLowerCase())||e}t.formatAttributes=p,t.formatDOM=function e(t,n,r){n=n||null;for(var i,o=[],u=0,d=t.length;u<d;u++){var h,m=t[u];switch(m.nodeType){case 1:i=f(m.nodeName),(h=new a(i,p(m.attributes))).children=e("template"===i?m.content.childNodes:m.childNodes,h);break;case 3:h=new c(m.nodeValue);break;case 8:h=new s(m.nodeValue);break;default:continue}var g=o[u-1]||null;g&&(g.next=h),h.parent=n,h.prev=g,h.next=null,o.push(h)}return r&&((h=new l(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=o[0]||null,h.parent=n,o.unshift(h),o[1]&&(o[1].prev=o[0])),o}},7767:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4188),i=n(123),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(e).getTime(),s=(0,r.A)(t);return new Date(n+s)}},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7800:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3145);function i(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},7813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e),o=(0,r.A)(t);return n.getTime()<o.getTime()}},7827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(123),i=n(4188),o=n(551),s=n(1858);function a(e,t){var n,a,l,c,u,d,h,p;(0,o.A)(1,arguments);var f=(0,s.q)(),m=(0,i.A)(null!==(n=null!==(a=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.A)(e),b=g.getDay(),y=(b<m?7:0)+b-m;return g.setDate(g.getDate()-y),g.setHours(0,0,0,0),g}},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},7978:(e,t,n)=>{var r=n(270),i=n(5775),o=n(631),s=n(8586),a=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,3)}}},8023:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8156:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8221:(e,t,n)=>{var r=n(3805),i=n(124),o=n(9374),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,p,f=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function w(){var e=i();if(v(e))return _(e);h=setTimeout(w,function(e){var n=t-(e-p);return g?a(n,u-(e-f)):n}(e))}function _(e){return h=void 0,b&&l?y(e):(l=c=void 0,d)}function x(){var e=i(),n=v(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(w,t),m?y(e):d}(p);if(g)return clearTimeout(h),h=setTimeout(w,t),y(p)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),x.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},x.flush=function(){return void 0===h?d:_(i())},x}},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},8351:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=d(1286742750677284.5),g={};function b(e,t){var n,r,i,o,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),a?P(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),o=s-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=s,l=c.length),o>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/f|0,c[o]%=f;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,a?P(t,h):t}function y(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function v(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=k(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return P(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return x(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,o=r.precision,s=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(a=!1,t=w(A(n,s),A(e,s),s),a=!0,P(t,o))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):b(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(a=!1,t=w(n,e,0,1).times(e),a=!0,n.minus(t)):P(new r(n),i)},g.naturalExponential=g.exp=function(){return _(this)},g.naturalLogarithm=g.ln=function(){return A(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):C(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=x(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,i,o,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=x(c),a=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,s+2)).times(.5),v(o.d).slice(0,s)===(t=v(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(P(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;s+=4}return a=!0,P(r,n)},g.times=g.mul=function(e){var t,n,r,i,o,s,l,c,u,d=this,h=d.constructor,p=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(u=m.length)&&(o=p,p=m,m=o,s=c,c=u,u=s),o=[],r=s=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*p[i-r-1]+t,o[i--]=l%f|0,t=l/f|0;o[i]=(o[i]+t)%f|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,a?P(e,h.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(y(e,0,o),void 0===t?t=r.rounding:y(t,0,8),P(n,e+x(n)+1,t))},g.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(y(e,0,o),void 0===t?t=i.rounding:y(t,0,8),n=T(r=P(new i(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?T(i):(y(e,0,o),void 0===t?t=s.rounding:y(t,0,8),n=T((r=P(new s(i),e+x(i)+1,t)).abs(),!1,e+x(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return P(new t(e),x(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,o,s,c,u=this,h=u.constructor,p=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return P(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=p<0?-p:p)<=9007199254740991){for(o=new h(i),t=Math.ceil(r/7+4),a=!1;n%2&&O((o=o.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return a=!0,e.s<0?new h(i).div(o):P(o,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,a=!1,o=e.times(A(u,r+12)),a=!0,(o=_(o)).s=s,o},g.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?r=T(i,(n=x(i))<=s.toExpNeg||n>=s.toExpPos):(y(e,1,o),void 0===t?t=s.rounding:y(t,0,8),r=T(i=P(new s(i),e,t),e<=(n=x(i))||n<=s.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(y(e,1,o),void 0===t?t=n.rounding:y(t,0,8)),P(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=x(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s){var a,c,u,d,h,p,m,g,b,y,v,w,_,E,k,A,S,C,T=r.constructor,O=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,S=D.length,k=M.length,g=(m=new T(O)).d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--c,(w=null==o?o=T.precision:s?o+(x(r)-x(i))+1:o)<0)return new T(0);if(w=w/7+2|0,u=0,1==S)for(d=0,D=D[0],w++;(u<k||d)&&w--;u++)_=d*f+(M[u]||0),g[u]=_/D|0,d=_%D|0;else{for((d=f/(D[0]+1)|0)>1&&(D=e(D,d),M=e(M,d),S=D.length,k=M.length),E=S,y=(b=M.slice(0,S)).length;y<S;)b[y++]=0;(C=D.slice()).unshift(0),A=D[0],D[1]>=f/2&&++A;do{d=0,(a=t(D,b,S,y))<0?(v=b[0],S!=y&&(v=v*f+(b[1]||0)),(d=v/A|0)>1?(d>=f&&(d=f-1),1==(a=t(h=e(D,d),b,p=h.length,y=b.length))&&(d--,n(h,S<p?C:D,p))):(0==d&&(a=d=1),h=D.slice()),(p=h.length)<y&&h.unshift(0),n(b,h,y),-1==a&&(a=t(D,b,S,y=b.length))<1&&(d++,n(b,S<y?C:D,y)),y=b.length):0===a&&(d++,b=[0]),g[u++]=d,a&&b[0]?b[y++]=M[E]||0:(b=[M[E]],y=1)}while((E++<k||void 0!==b[0])&&w--)}return g[0]||g.shift(),m.e=c,P(m,s?o+x(m)+1:o)}}();function _(e,t){var n,r,o,s,l,c=0,d=0,p=e.constructor,f=p.precision;if(x(e)>16)throw Error(u+x(e));if(!e.s)return new p(i);for(null==t?(a=!1,l=f):l=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new p(i),p.precision=l;;){if(r=P(r.times(e),l),n=n.times(++c),v((s=o.plus(w(r,n,l))).d).slice(0,l)===v(o.d).slice(0,l)){for(;d--;)o=P(o.times(o),l);return p.precision=f,null==t?(a=!0,P(o,f)):o}o=s}}function x(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw a=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function A(e,t){var n,r,o,s,c,u,d,h,p,f=1,m=e,g=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new b(0);if(null==t?(a=!1,h=y):h=t,m.eq(10))return null==t&&(a=!0),E(b,h);if(h+=10,b.precision=h,r=(n=v(g)).charAt(0),s=x(m),!(Math.abs(s)<15e14))return d=E(b,h+2,y).times(s+""),m=A(new b(r+"."+n.slice(1)),h-10).plus(d),b.precision=y,null==t?(a=!0,P(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=v((m=m.times(e)).d)).charAt(0),f++;for(s=x(m),r>1?(m=new b("0."+n),s++):m=new b(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),p=P(m.times(m),h),o=3;;){if(c=P(c.times(p),h),v((d=u.plus(w(c,new b(o),h))).d).slice(0,h)===v(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(E(b,h+2,y).times(s+""))),u=w(u,new b(f),h),b.precision=y,null==t?(a=!0,P(u,y)):u;u=d,o+=2}}function S(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),a&&(e.e>m||e.e<-m))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,n){var r,i,o,s,l,c,p,g,b=e.d;for(s=1,o=b[0];o>=10;o/=10)s++;if((r=t-s)<0)r+=7,i=t,p=b[g=0];else{if((g=Math.ceil((r+1)/7))>=(o=b.length))return e;for(p=o=b[g],s=1;o>=10;o/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(l=p/(o=h(10,s-i-1))%10|0,c=t<0||void 0!==b[g+1]||p%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?p/h(10,s-i):0:b[g-1])%10&1||n==(e.s<0?8:7))),t<1||!b[0])return c?(o=x(e),b.length=1,t=t-o-1,b[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(0==r?(b.length=g,o=1,g--):(b.length=g+1,o=h(10,7-r),b[g]=i>0?(p/h(10,s-i)%h(10,i)|0)*o:0),c)for(;;){if(0==g){(b[0]+=o)==f&&(b[0]=1,++e.e);break}if(b[g]+=o,b[g]!=f)break;b[g--]=0,o=1}for(r=b.length;0===b[--r];)b.pop();if(a&&(e.e>m||e.e<-m))throw Error(u+x(e));return e}function C(e,t){var n,r,i,o,s,l,c,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),a?P(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(i=Math.max(Math.ceil(m/7),l)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=f-1;--c[o],c[i]+=f}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,a?P(t,m):t):new p(0)}function T(e,t,n){var r,i=x(e),o=v(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-s)>0&&(o+=k(r))):i>=s?(o+=k(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function O(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!=typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}(s=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):S(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);S(t,e)}if(o.prototype=g,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=M,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(s)).default=s.Decimal=s,i=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8465:function(e){e.exports=function(){"use strict";const e="SweetAlert2:",t=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>Array.prototype.slice.call(e),r=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},i=t=>{console.error("".concat(e," ").concat(t))},o=[],s=(e,t)=>{var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),o.includes(n)||(o.push(n),r(n))},a=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,c=e=>l(e)?e.toPromise():Promise.resolve(e),u=e=>e&&Promise.resolve(e)===e,d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},h=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],p={},f=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],m=e=>Object.prototype.hasOwnProperty.call(d,e),g=e=>-1!==h.indexOf(e),b=e=>p[e],y=e=>{m(e)||r('Unknown parameter "'.concat(e,'"'))},v=e=>{f.includes(e)&&r('The parameter "'.concat(e,'" is incompatible with toasts'))},w=e=>{b(e)&&s(e,b(e))},_=e=>{const t={};for(const n in e)t[e[n]]="swal2-"+e[n];return t},x=_(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),E=_(["success","warning","info","question","error"]),k=()=>document.body.querySelector(".".concat(x.container)),A=e=>{const t=k();return t?t.querySelector(e):null},S=e=>A(".".concat(e)),P=()=>S(x.popup),C=()=>S(x.icon),T=()=>S(x.title),O=()=>S(x["html-container"]),M=()=>S(x.image),D=()=>S(x["progress-steps"]),I=()=>S(x["validation-message"]),N=()=>A(".".concat(x.actions," .").concat(x.confirm)),j=()=>A(".".concat(x.actions," .").concat(x.deny)),R=()=>A(".".concat(x.loader)),L=()=>A(".".concat(x.actions," .").concat(x.cancel)),F=()=>S(x.actions),B=()=>S(x.footer),V=()=>S(x["timer-progress-bar"]),z=()=>S(x.close),U=()=>{const e=n(P().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0}),t=n(P().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(e=>"-1"!==e.getAttribute("tabindex"));return(e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t})(e.concat(t)).filter(e=>se(e))},q=()=>G(document.body,x.shown)&&!G(document.body,x["toast-shown"])&&!G(document.body,x["no-backdrop"]),H=()=>P()&&G(P(),x.toast),$={previousBodyPadding:null},W=(e,t)=>{if(e.textContent="",t){const r=(new DOMParser).parseFromString(t,"text/html");n(r.querySelector("head").childNodes).forEach(t=>{e.appendChild(t)}),n(r.querySelector("body").childNodes).forEach(t=>{e.appendChild(t)})}},G=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},J=(e,t,i)=>{if(((e,t)=>{n(e.classList).forEach(n=>{Object.values(x).includes(n)||Object.values(E).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)})})(e,t),t.customClass&&t.customClass[i]){if("string"!=typeof t.customClass[i]&&!t.customClass[i].forEach)return r("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof t.customClass[i],'"'));X(e,t.customClass[i])}},Y=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(x.popup," > .").concat(x[t]));case"checkbox":return e.querySelector(".".concat(x.popup," > .").concat(x.checkbox," input"));case"radio":return e.querySelector(".".concat(x.popup," > .").concat(x.radio," input:checked"))||e.querySelector(".".concat(x.popup," > .").concat(x.radio," input:first-child"));case"range":return e.querySelector(".".concat(x.popup," > .").concat(x.range," input"));default:return e.querySelector(".".concat(x.popup," > .").concat(x.input))}},K=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},Q=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},X=(e,t)=>{Q(e,t,!0)},Z=(e,t)=>{Q(e,t,!1)},ee=(e,t)=>{const r=n(e.childNodes);for(let e=0;e<r.length;e++)if(G(r[e],t))return r[e]},te=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},re=e=>{e.style.display="none"},ie=(e,t,n,r)=>{const i=e.querySelector(t);i&&(i.style[n]=r)},oe=(e,t,n)=>{t?ne(e,n):re(e)},se=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ae=e=>!!(e.scrollHeight>e.clientHeight),le=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=V();se(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},ue=()=>"undefined"==typeof window||"undefined"==typeof document,de={},he=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;de.restoreFocusTimeout=setTimeout(()=>{de.previousActiveElement&&de.previousActiveElement.focus?(de.previousActiveElement.focus(),de.previousActiveElement=null):document.body&&document.body.focus(),t()},100),window.scrollTo(n,r)}),pe='\n <div aria-labelledby="'.concat(x.title,'" aria-describedby="').concat(x["html-container"],'" class="').concat(x.popup,'" tabindex="-1">\n   <button type="button" class="').concat(x.close,'"></button>\n   <ul class="').concat(x["progress-steps"],'"></ul>\n   <div class="').concat(x.icon,'"></div>\n   <img class="').concat(x.image,'" />\n   <h2 class="').concat(x.title,'" id="').concat(x.title,'"></h2>\n   <div class="').concat(x["html-container"],'" id="').concat(x["html-container"],'"></div>\n   <input class="').concat(x.input,'" />\n   <input type="file" class="').concat(x.file,'" />\n   <div class="').concat(x.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(x.select,'"></select>\n   <div class="').concat(x.radio,'"></div>\n   <label for="').concat(x.checkbox,'" class="').concat(x.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(x.label,'"></span>\n   </label>\n   <textarea class="').concat(x.textarea,'"></textarea>\n   <div class="').concat(x["validation-message"],'" id="').concat(x["validation-message"],'"></div>\n   <div class="').concat(x.actions,'">\n     <div class="').concat(x.loader,'"></div>\n     <button type="button" class="').concat(x.confirm,'"></button>\n     <button type="button" class="').concat(x.deny,'"></button>\n     <button type="button" class="').concat(x.cancel,'"></button>\n   </div>\n   <div class="').concat(x.footer,'"></div>\n   <div class="').concat(x["timer-progress-bar-container"],'">\n     <div class="').concat(x["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),fe=()=>{de.currentInstance.resetValidationMessage()},me=e=>{const t=(()=>{const e=k();return!!e&&(e.remove(),Z([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(ue())return void i("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=x.container,t&&X(n,x["no-transition"]),W(n,pe);const r="string"==typeof(o=e.target)?document.querySelector(o):o;var o;r.appendChild(n),(e=>{const t=P();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&X(k(),x.rtl)})(r),(()=>{const e=P(),t=ee(e,x.input),n=ee(e,x.file),r=e.querySelector(".".concat(x.range," input")),i=e.querySelector(".".concat(x.range," output")),o=ee(e,x.select),s=e.querySelector(".".concat(x.checkbox," input")),a=ee(e,x.textarea);t.oninput=fe,n.onchange=fe,o.onchange=fe,s.onchange=fe,a.oninput=fe,r.oninput=()=>{fe(),i.value=r.value},r.onchange=()=>{fe(),r.nextSibling.value=r.value}})()},ge=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?be(e,t):e&&W(t,e)},be=(e,t)=>{e.jquery?ye(t,e):W(t,e.toString())},ye=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ve=(()=>{if(ue())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),we=(e,t)=>{const n=F(),r=R();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ne(n):re(n),J(n,t,"actions"),function(e,t,n){const r=N(),i=j(),o=L();_e(r,"confirm",n),_e(i,"deny",n),_e(o,"cancel",n),function(e,t,n,r){if(!r.buttonsStyling)return Z([e,t,n],x.styled);X([e,t,n],x.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,X(e,x["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,X(t,x["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,X(n,x["default-outline"]))}(r,i,o,n),n.reverseButtons&&(n.toast?(e.insertBefore(o,r),e.insertBefore(i,r)):(e.insertBefore(o,t),e.insertBefore(i,t),e.insertBefore(r,t)))}(n,r,t),W(r,t.loaderHtml),J(r,t,"loader")};function _e(e,n,r){oe(e,r["show".concat(t(n),"Button")],"inline-block"),W(e,r["".concat(n,"ButtonText")]),e.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),e.className=x[n],J(e,r,"".concat(n,"Button")),X(e,r["".concat(n,"ButtonClass")])}const xe=(e,t)=>{const n=k();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||X([document.documentElement,document.body],x["no-backdrop"])}(n,t.backdrop),function(e,t){t in x?X(e,x[t]):(r('The "position" parameter is not valid, defaulting to "center"'),X(e,x.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in x&&X(e,x[n])}}(n,t.grow),J(n,t,"container"))};var Ee={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ke=["input","file","range","select","radio","checkbox","textarea"],Ae=e=>{if(!Me[e.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Oe(e.input),n=Me[e.input](t,e);ne(n),setTimeout(()=>{K(n)})},Se=(e,t)=>{const n=Y(P(),e);if(n){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}})(n);for(const e in t)n.setAttribute(e,t[e])}},Pe=e=>{const t=Oe(e.input);e.customClass&&X(t,e.customClass.input)},Ce=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Te=(e,t,n)=>{if(n.inputLabel){e.id=x.input;const r=document.createElement("label"),i=x["input-label"];r.setAttribute("for",e.id),r.className=i,X(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Oe=e=>{const t=x[e]?x[e]:x.input;return ee(P(),t)},Me={};Me.text=Me.email=Me.password=Me.number=Me.tel=Me.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:u(t.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Te(e,e,t),Ce(e,t),e.type=t.input,e),Me.file=(e,t)=>(Te(e,e,t),Ce(e,t),e),Me.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,Te(n,e,t),e},Me.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");W(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Te(e,e,t),e},Me.radio=e=>(e.textContent="",e),Me.checkbox=(e,t)=>{const n=Y(P(),"checkbox");n.value="1",n.id=x.checkbox,n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return W(r,t.inputPlaceholder),e},Me.textarea=(e,t)=>{e.value=t.inputValue,Ce(e,t),Te(e,e,t);return setTimeout(()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(P()).width);new MutationObserver(()=>{const n=e.offsetWidth+(r=e,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;P().style.width=n>t?"".concat(n,"px"):null}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const De=(e,t)=>{const n=O();J(n,t,"htmlContainer"),t.html?(ge(t.html,n),ne(n,"block")):t.text?(n.textContent=t.text,ne(n,"block")):re(n),((e,t)=>{const n=P(),r=Ee.innerParams.get(e),i=!r||t.input!==r.input;ke.forEach(e=>{const r=x[e],o=ee(n,r);Se(e,t.inputAttributes),o.className=r,i&&re(o)}),t.input&&(i&&Ae(t),Pe(t))})(e,t)},Ie=(e,t)=>{for(const n in E)t.icon!==n&&Z(e,E[n]);X(e,E[t.icon]),Re(e,t),Ne(),J(e,t,"icon")},Ne=()=>{const e=P(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},je=(e,t)=>{e.textContent="",t.iconHtml?W(e,Le(t.iconHtml)):"success"===t.icon?W(e,'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n'):"error"===t.icon?W(e,'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n'):W(e,Le({question:"?",warning:"!",info:"i"}[t.icon]))},Re=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ie(e,n,"backgroundColor",t.iconColor);ie(e,".swal2-success-ring","borderColor",t.iconColor)}},Le=e=>'<div class="'.concat(x["icon-content"],'">').concat(e,"</div>"),Fe=(e,t)=>{const n=D();if(!t.progressSteps||0===t.progressSteps.length)return re(n);ne(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((e,r)=>{const i=(e=>{const t=document.createElement("li");return X(t,x["progress-step"]),W(t,e),t})(e);if(n.appendChild(i),r===t.currentProgressStep&&X(i,x["active-progress-step"]),r!==t.progressSteps.length-1){const e=(e=>{const t=document.createElement("li");return X(t,x["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);n.appendChild(e)}})},Be=(e,t)=>{e.className="".concat(x.popup," ").concat(se(e)?t.showClass.popup:""),t.toast?(X([document.documentElement,document.body],x["toast-shown"]),X(e,x.toast)):X(e,x.modal),J(e,t,"popup"),"string"==typeof t.customClass&&X(e,t.customClass),t.icon&&X(e,x["icon-".concat(t.icon)])},Ve=(e,t)=>{((e,t)=>{const n=k(),r=P();t.toast?(te(n,"width",t.width),r.style.width="100%",r.insertBefore(R(),C())):te(r,"width",t.width),te(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),re(I()),Be(r,t)})(0,t),xe(0,t),Fe(0,t),((e,t)=>{const n=Ee.innerParams.get(e),r=C();n&&t.icon===n.icon?(je(r,t),Ie(r,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(E).indexOf(t.icon)?(i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),re(r)):(ne(r),je(r,t),Ie(r,t),X(r,t.showClass.icon)):re(r)})(e,t),((e,t)=>{const n=M();if(!t.imageUrl)return re(n);ne(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),te(n,"width",t.imageWidth),te(n,"height",t.imageHeight),n.className=x.image,J(n,t,"image")})(0,t),((e,t)=>{const n=T();oe(n,t.title||t.titleText,"block"),t.title&&ge(t.title,n),t.titleText&&(n.innerText=t.titleText),J(n,t,"title")})(0,t),((e,t)=>{const n=z();W(n,t.closeButtonHtml),J(n,t,"closeButton"),oe(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),De(e,t),we(0,t),((e,t)=>{const n=B();oe(n,t.footer),t.footer&&ge(t.footer,n),J(n,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(P())},ze=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ue=()=>{n(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qe=["swal-title","swal-html","swal-footer"],He=e=>{const t={};return n(e.querySelectorAll("swal-param")).forEach(e=>{Qe(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof d[n]&&"false"===r&&(t[n]=!1),"object"==typeof d[n]&&(t[n]=JSON.parse(r))}),t},$e=e=>{const r={};return n(e.querySelectorAll("swal-button")).forEach(e=>{Qe(e,["type","color","aria-label"]);const n=e.getAttribute("type");r["".concat(n,"ButtonText")]=e.innerHTML,r["show".concat(t(n),"Button")]=!0,e.hasAttribute("color")&&(r["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(r["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))}),r},We=e=>{const t={},n=e.querySelector("swal-image");return n&&(Qe(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ge=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Qe(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Je=e=>{const t={},r=e.querySelector("swal-input");r&&(Qe(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const i=e.querySelectorAll("swal-input-option");return i.length&&(t.inputOptions={},n(i).forEach(e=>{Qe(e,["value"]);const n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r})),t},Ye=(e,t)=>{const n={};for(const r in t){const i=t[r],o=e.querySelector(i);o&&(Qe(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},Ke=e=>{const t=qe.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(e.children).forEach(e=>{const n=e.tagName.toLowerCase();-1===t.indexOf(n)&&r("Unrecognized element <".concat(n,">"))})},Qe=(e,t)=>{n(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})};var Xe={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Ze(e){(function(e){e.inputValidator||Object.keys(Xe).forEach(t=>{e.input===t&&(e.inputValidator=Xe[t])})})(e),e.showLoaderOnConfirm&&!e.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),me(e)}class et{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tt=()=>{null===$.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&($.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat($.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=x["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))},nt=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;P().scrollHeight>window.innerHeight-e&&(k().style.paddingBottom="".concat(e,"px"))}},rt=()=>{const e=k();let t;e.ontouchstart=e=>{t=it(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},it=e=>{const t=e.target,n=k();return!(ot(e)||st(e)||t!==n&&(ae(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ae(O())&&O().contains(t)))},ot=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,st=e=>e.touches&&e.touches.length>1,at=e=>{const t=k(),r=P();"function"==typeof e.willOpen&&e.willOpen(r);const i=window.getComputedStyle(document.body).overflowY;dt(t,r,e),setTimeout(()=>{ct(t,r)},10),q()&&(ut(t,e.scrollbarPadding,i),n(document.body.children).forEach(e=>{e===k()||e.contains(k())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),H()||de.previousActiveElement||(de.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(r)),Z(t,x["no-transition"])},lt=e=>{const t=P();if(e.target!==t)return;const n=k();t.removeEventListener(ve,lt),n.style.overflowY="auto"},ct=(e,t)=>{ve&&le(t)?(e.style.overflowY="hidden",t.addEventListener(ve,lt)):e.style.overflowY="auto"},ut=(e,t,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!G(document.body,x.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),X(document.body,x.iosfix),rt(),nt()}})(),t&&"hidden"!==n&&tt(),setTimeout(()=>{e.scrollTop=0})},dt=(e,t,n)=>{X(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ne(t,"grid"),setTimeout(()=>{X(t,n.showClass.popup),t.style.removeProperty("opacity")},10),X([document.documentElement,document.body],x.shown),n.heightAuto&&n.backdrop&&!n.toast&&X([document.documentElement,document.body],x["height-auto"])},ht=e=>{let t=P();t||new Sn,t=P();const n=R();H()?re(C()):pt(t,e),ne(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},pt=(e,t)=>{const n=F(),r=R();!t&&se(N())&&(t=N()),ne(n),t&&(re(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),X([e,n],x.loading)},ft=e=>e.checked?1:0,mt=e=>e.checked?e.value:null,gt=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bt=(e,t)=>{const n=P(),r=e=>vt[t.input](n,wt(e),t);l(t.inputOptions)||u(t.inputOptions)?(ht(N()),c(t.inputOptions).then(t=>{e.hideLoading(),r(t)})):"object"==typeof t.inputOptions?r(t.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},yt=(e,t)=>{const n=e.getInput();re(n),c(t.inputValue).then(r=>{n.value="number"===t.input?parseFloat(r)||0:"".concat(r),ne(n),n.focus(),e.hideLoading()}).catch(t=>{i("Error in inputValue promise: ".concat(t)),n.value="",ne(n),n.focus(),e.hideLoading()})},vt={select:(e,t,n)=>{const r=ee(e,x.select),i=(e,t,r)=>{const i=document.createElement("option");i.value=r,W(i,t),i.selected=_t(r,n.inputValue),e.appendChild(i)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach(t=>i(e,t[1],t[0]))}else i(r,n,t)}),r.focus()},radio:(e,t,n)=>{const r=ee(e,x.radio);t.forEach(e=>{const t=e[0],i=e[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=x.radio,o.value=t,_t(t,n.inputValue)&&(o.checked=!0);const a=document.createElement("span");W(a,i),a.className=x.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},wt=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((e,n)=>{let r=e;"object"==typeof r&&(r=wt(r)),t.push([n,r])}):Object.keys(e).forEach(n=>{let r=e[n];"object"==typeof r&&(r=wt(r)),t.push([n,r])}),t},_t=(e,t)=>t&&t.toString()===e.toString();function xt(){const e=Ee.innerParams.get(this);if(!e)return;const t=Ee.domCache.get(this);re(t.loader),H()?e.icon&&ne(C()):Et(t),Z([t.popup,t.actions],x.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Et=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ne(t[0],"inline-block"):!se(N())&&!se(j())&&!se(L())&&re(e.actions)};var kt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const At=()=>N()&&N().click(),St=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Pt=(e,t,n)=>{const r=U();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();P().focus()},Ct=["ArrowRight","ArrowDown"],Tt=["ArrowLeft","ArrowUp"],Ot=(e,t,n)=>{const r=Ee.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Mt(e,t,r):"Tab"===t.key?Dt(t,r):[...Ct,...Tt].includes(t.key)?It(t.key):"Escape"===t.key&&Nt(t,r,n)))},Mt=(e,t,n)=>{if(a(n.allowEnterKey)&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;At(),t.preventDefault()}},Dt=(e,t)=>{const n=e.target,r=U();let i=-1;for(let e=0;e<r.length;e++)if(n===r[e]){i=e;break}e.shiftKey?Pt(0,i,-1):Pt(0,i,1),e.stopPropagation(),e.preventDefault()},It=e=>{if(![N(),j(),L()].includes(document.activeElement))return;const t=Ct.includes(e)?"nextElementSibling":"previousElementSibling";let n=document.activeElement;for(let e=0;e<F().children.length;e++){if(n=n[t],!n)return;if(se(n)&&n instanceof HTMLButtonElement)break}n instanceof HTMLButtonElement&&n.focus()},Nt=(e,t,n)=>{a(t.allowEscapeKey)&&(e.preventDefault(),n(ze.esc))};function jt(e,t,n,r){H()?Ut(e,r):(he(n).then(()=>Ut(e,r)),St(de)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),q()&&(null!==$.previousBodyPadding&&(document.body.style.paddingRight="".concat($.previousBodyPadding,"px"),$.previousBodyPadding=null),(()=>{if(G(document.body,x.iosfix)){const e=parseInt(document.body.style.top,10);Z(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),Ue()),Z([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}function Rt(e){e=Bt(e);const t=kt.swalPromiseResolve.get(this),n=Lt(this);this.isAwaitingPromise()?e.isDismissed||(Ft(this),t(e)):n&&t(e)}const Lt=e=>{const t=P();if(!t)return!1;const n=Ee.innerParams.get(e);if(!n||G(t,n.hideClass.popup))return!1;Z(t,n.showClass.popup),X(t,n.hideClass.popup);const r=k();return Z(r,n.showClass.backdrop),X(r,n.hideClass.backdrop),Vt(e,t,n),!0};const Ft=e=>{e.isAwaitingPromise()&&(Ee.awaitingPromise.delete(e),Ee.innerParams.get(e)||e._destroy())},Bt=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Vt=(e,t,n)=>{const r=k(),i=ve&&le(t);"function"==typeof n.willClose&&n.willClose(t),i?zt(e,t,r,n.returnFocus,n.didClose):jt(e,r,n.returnFocus,n.didClose)},zt=(e,t,n,r,i)=>{de.swalCloseEventFinishedCallback=jt.bind(null,e,n,r,i),t.addEventListener(ve,function(e){e.target===t&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback)})},Ut=(e,t)=>{setTimeout(()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()})};function qt(e,t,n){const r=Ee.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function Ht(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}const $t=e=>{const t={};return Object.keys(e).forEach(n=>{g(n)?t[n]=e[n]:r('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),t};const Wt=e=>{Gt(e),delete e.params,delete de.keydownHandler,delete de.keydownTarget,delete de.currentInstance},Gt=e=>{e.isAwaitingPromise()?(Jt(Ee,e),Ee.awaitingPromise.set(e,!0)):(Jt(kt,e),Jt(Ee,e))},Jt=(e,t)=>{for(const n in e)e[n].delete(t)};var Yt=Object.freeze({hideLoading:xt,disableLoading:xt,getInput:function(e){const t=Ee.innerParams.get(e||this),n=Ee.domCache.get(e||this);return n?Y(n.popup,t.input):null},close:Rt,isAwaitingPromise:function(){return!!Ee.awaitingPromise.get(this)},rejectPromise:function(e){const t=kt.swalPromiseReject.get(this);Ft(this),t&&t(e)},handleAwaitingPromise:Ft,closePopup:Rt,closeModal:Rt,closeToast:Rt,enableButtons:function(){qt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){qt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Ht(this.getInput(),!1)},disableInput:function(){return Ht(this.getInput(),!0)},showValidationMessage:function(e){const t=Ee.domCache.get(this),n=Ee.innerParams.get(this);W(t.validationMessage,e),t.validationMessage.className=x["validation-message"],n.customClass&&n.customClass.validationMessage&&X(t.validationMessage,n.customClass.validationMessage),ne(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",x["validation-message"]),K(r),X(r,x.inputerror))},resetValidationMessage:function(){const e=Ee.domCache.get(this);e.validationMessage&&re(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Z(t,x.inputerror))},getProgressSteps:function(){return Ee.domCache.get(this).progressSteps},update:function(e){const t=P(),n=Ee.innerParams.get(this);if(!t||G(t,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=$t(e),o=Object.assign({},n,i);Ve(this,o),Ee.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=Ee.domCache.get(this),t=Ee.innerParams.get(this);t?(e.popup&&de.swalCloseEventFinishedCallback&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback),de.deferDisposalTimer&&(clearTimeout(de.deferDisposalTimer),delete de.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),Wt(this)):Gt(this)}});const Kt=(e,n)=>{const r=Ee.innerParams.get(e);if(!r.input)return i('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(n)));const o=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return ft(n);case"radio":return mt(n);case"file":return gt(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,r);r.inputValidator?Qt(e,o,n):e.getInput().checkValidity()?"deny"===n?Xt(e,o):tn(e,o):(e.enableButtons(),e.showValidationMessage(r.validationMessage))},Qt=(e,t,n)=>{const r=Ee.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>c(r.inputValidator(t,r.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?Xt(e,t):tn(e,t)})},Xt=(e,t)=>{const n=Ee.innerParams.get(e||void 0);n.showLoaderOnDeny&&ht(j()),n.preDeny?(Ee.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>c(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),Ft(e)):e.closePopup({isDenied:!0,value:void 0===n?t:n})}).catch(t=>en(e||void 0,t))):e.closePopup({isDenied:!0,value:t})},Zt=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},en=(e,t)=>{e.rejectPromise(t)},tn=(e,t)=>{const n=Ee.innerParams.get(e||void 0);n.showLoaderOnConfirm&&ht(),n.preConfirm?(e.resetValidationMessage(),Ee.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>c(n.preConfirm(t,n.validationMessage))).then(n=>{se(I())||!1===n?(e.hideLoading(),Ft(e)):Zt(e,void 0===n?t:n)}).catch(t=>en(e||void 0,t))):Zt(e,t)},nn=(e,t,n)=>{t.popup.onclick=()=>{const t=Ee.innerParams.get(e);t&&(rn(t)||t.timer||t.input)||n(ze.close)}},rn=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let on=!1;const sn=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(on=!0)}}},an=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(on=!0)}}},ln=(e,t,n)=>{t.container.onclick=r=>{const i=Ee.innerParams.get(e);on?on=!1:r.target===t.container&&a(i.allowOutsideClick)&&n(ze.backdrop)}},cn=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const un=()=>{if(de.timeout)return(()=>{const e=V(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")})(),de.timeout.stop()},dn=()=>{if(de.timeout){const e=de.timeout.start();return ce(e),e}};let hn=!1;const pn={};const fn=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in pn){const n=t.getAttribute(e);if(n)return void pn[e].fire({template:n})}};var mn=Object.freeze({isValidParameter:m,isUpdatableParameter:g,isDeprecatedParameter:b,argsToParams:e=>{const t={};return"object"!=typeof e[0]||cn(e[0])?["title","html","icon"].forEach((n,r)=>{const o=e[r];"string"==typeof o||cn(o)?t[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))}):Object.assign(t,e[0]),t},isVisible:()=>se(P()),clickConfirm:At,clickDeny:()=>j()&&j().click(),clickCancel:()=>L()&&L().click(),getContainer:k,getPopup:P,getTitle:T,getHtmlContainer:O,getImage:M,getIcon:C,getInputLabel:()=>S(x["input-label"]),getCloseButton:z,getActions:F,getConfirmButton:N,getDenyButton:j,getCancelButton:L,getLoader:R,getFooter:B,getTimerProgressBar:V,getFocusableElements:U,getValidationMessage:I,isLoading:()=>P().hasAttribute("data-loading"),fire:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)},mixin:function(e){return class extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}},showLoading:ht,enableLoading:ht,getTimerLeft:()=>de.timeout&&de.timeout.getTimerLeft(),stopTimer:un,resumeTimer:dn,toggleTimer:()=>{const e=de.timeout;return e&&(e.running?un():dn())},increaseTimer:e=>{if(de.timeout){const t=de.timeout.increase(e);return ce(t,!0),t}},isTimerRunning:()=>de.timeout&&de.timeout.isRunning(),bindClickHandler:function(){pn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,hn||(document.body.addEventListener("click",fn),hn=!0)}});let gn;class bn{constructor(){if("undefined"==typeof window)return;gn=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const i=this._main(this.params);Ee.promise.set(this,i)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{!e.backdrop&&e.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)y(t),e.toast&&v(t),w(t)})(Object.assign({},t,e)),de.currentInstance&&(de.currentInstance._destroy(),q()&&Ue()),de.currentInstance=this;const n=vn(e,t);Ze(n),Object.freeze(n),de.timeout&&(de.timeout.stop(),delete de.timeout),clearTimeout(de.restoreFocusTimeout);const i=wn(this);return Ve(this,n),Ee.innerParams.set(this,n),yn(this,i,n)}then(e){return Ee.promise.get(this).then(e)}finally(e){return Ee.promise.get(this).finally(e)}}const yn=(e,t,n)=>new Promise((r,i)=>{const o=t=>{e.closePopup({isDismissed:!0,dismiss:t})};kt.swalPromiseResolve.set(e,r),kt.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>(e=>{const t=Ee.innerParams.get(e);e.disableButtons(),t.input?Kt(e,"confirm"):tn(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=Ee.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Kt(e,"deny"):Xt(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(ze.cancel)})(e,o),t.closeButton.onclick=()=>o(ze.close),((e,t,n)=>{Ee.innerParams.get(e).toast?nn(e,t,n):(sn(t),an(t),ln(e,t,n))})(e,t,o),((e,t,n,r)=>{St(t),n.toast||(t.keydownHandler=t=>Ot(e,t,r),t.keydownTarget=n.keydownListenerCapture?window:P(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,de,n,o),((e,t)=>{"select"===t.input||"radio"===t.input?bt(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||u(t.inputValue))&&(ht(N()),yt(e,t))})(e,n),at(n),xn(de,n,o),En(t,n),setTimeout(()=>{t.container.scrollTop=0})}),vn=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Ke(n),Object.assign(He(n),$e(n),We(n),Ge(n),Je(n),Ye(n,qe))})(e),r=Object.assign({},d,t,n,e);return r.showClass=Object.assign({},d.showClass,r.showClass),r.hideClass=Object.assign({},d.hideClass,r.hideClass),r},wn=e=>{const t={popup:P(),container:k(),actions:F(),confirmButton:N(),denyButton:j(),cancelButton:L(),loader:R(),closeButton:z(),validationMessage:I(),progressSteps:D()};return Ee.domCache.set(e,t),t},xn=(e,t,n)=>{const r=V();re(r),t.timer&&(e.timeout=new et(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ne(r),J(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&ce(t.timer)})))},En=(e,t)=>{if(!t.toast)return a(t.allowEnterKey)?void(kn(e,t)||Pt(0,-1,1)):An()},kn=(e,t)=>t.focusDeny&&se(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&se(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!se(e.confirmButton)||(e.confirmButton.focus(),0)),An=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(bn.prototype,Yt),Object.assign(bn,mn),Object.keys(Yt).forEach(e=>{bn[e]=function(){if(gn)return gn[e](...arguments)}}),bn.DismissReason=ze,bn.version="11.4.8";const Sn=bn;return Sn.default=Sn,Sn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8507:(e,t,n)=>{const r=n(5659);function i(e,t){return function(n){return t(e(n))}}function o(e,t){const n=[t[e].parent,e];let o=r[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),o=i(r[t[s].parent][s],o),s=t[s].parent;return o.conversion=n,o}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),i=Object.keys(r[e]);for(let r=i.length,o=0;o<r;o++){const r=i[o],s=t[r];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(r))}}return t}(e),n={},i=Object.keys(t);for(let e=i.length,r=0;r<e;r++){const e=i[r];null!==t[e].parent&&(n[e]=o(e,t))}return n}},8586:(e,t,n)=>{var r=n(6449),i=n(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},8754:(e,t,n)=>{var r=n(5160);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticRanges=v,t.defaultInputRanges=t.defaultStaticRanges=void 0;var r=p(n(63)),i=p(n(1810)),o=p(n(6462)),s=p(n(7827)),a=p(n(2118)),l=p(n(9312)),c=p(n(543)),u=p(n(1127)),d=p(n(6212)),h=p(n(2998));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={startOfWeek:(0,s.default)(new Date),endOfWeek:(0,o.default)(new Date),startOfLastWeek:(0,s.default)((0,h.default)(new Date,-7)),endOfLastWeek:(0,o.default)((0,h.default)(new Date,-7)),startOfToday:(0,u.default)(new Date),endOfToday:(0,d.default)(new Date),startOfYesterday:(0,u.default)((0,h.default)(new Date,-1)),endOfYesterday:(0,d.default)((0,h.default)(new Date,-1)),startOfMonth:(0,c.default)(new Date),endOfMonth:(0,l.default)(new Date),startOfLastMonth:(0,c.default)((0,a.default)(new Date,-1)),endOfLastMonth:(0,l.default)((0,a.default)(new Date,-1))},y={range:{},isSelected:function(e){var t=this.range();return(0,i.default)(e.startDate,t.startDate)&&(0,i.default)(e.endDate,t.endDate)}};function v(e){return e.map(function(e){return m(m({},y),e)})}var w=v([{label:"Today",range:function(){return{startDate:b.startOfToday,endDate:b.endOfToday}}},{label:"Yesterday",range:function(){return{startDate:b.startOfYesterday,endDate:b.endOfYesterday}}},{label:"This Week",range:function(){return{startDate:b.startOfWeek,endDate:b.endOfWeek}}},{label:"Last Week",range:function(){return{startDate:b.startOfLastWeek,endDate:b.endOfLastWeek}}},{label:"This Month",range:function(){return{startDate:b.startOfMonth,endDate:b.endOfMonth}}},{label:"Last Month",range:function(){return{startDate:b.startOfLastMonth,endDate:b.endOfLastMonth}}}]);t.defaultStaticRanges=w;var _=[{label:"days up to today",range:function(e){return{startDate:(0,h.default)(b.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:b.endOfToday}},getCurrentValue:function(e){return(0,i.default)(e.endDate,b.endOfToday)?e.startDate?(0,r.default)(b.endOfToday,e.startDate)+1:"":"-"}},{label:"days starting today",range:function(e){var t=new Date;return{startDate:t,endDate:(0,h.default)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return(0,i.default)(e.startDate,b.startOfToday)?e.endDate?(0,r.default)(e.endDate,b.startOfToday)+1:"":"-"}}];t.defaultInputRanges=_},8860:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const i=function(e,t,n,i){return r[e]}},8867:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.isFragment=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case f:case p:case a:return e;default:return t}}case r:return t}}}(e)===i}},8878:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5047);const i={date:(0,r.A)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.A)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.A)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},8895:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(123),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,i.A)(e),s=(0,r.A)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(s),n)}},8917:(e,t)=>{"use strict";t.__esModule=!0,t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(o,l)).replace(r,a))}},8984:(e,t,n)=>{var r=n(5527),i=n(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9003:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(464),i=n(551),o=n(9742),s=n(4188),a=n(1858);function l(e,t){var n,l,c,u,d,h,p,f;(0,i.A)(1,arguments);var m=(0,a.q)(),g=(0,s.A)(null!==(n=null!==(l=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:m.firstWeekContainsDate)&&void 0!==l?l:null===(p=m.locale)||void 0===p||null===(f=p.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),b=(0,r.A)(e,t),y=new Date(0);return y.setUTCFullYear(b,0,g),y.setUTCHours(0,0,0,0),(0,o.A)(y,t)}},9028:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3091);const i={ordinalNumber:(0,n(6171).A)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.A)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.A)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.A)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.A)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},9045:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(123),i=n(63),o=n(551);function s(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function a(e,t){(0,o.A)(2,arguments);var n=(0,r.A)(e),a=(0,r.A)(t),l=s(n,a),c=Math.abs((0,i.default)(n,a));n.setDate(n.getDate()-l*c);var u=l*(c-Number(s(n,a)===-l));return 0===u?0:u}},9048:(e,t,n)=>{"use strict";var r=n(1609),i=n(748);function o(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var s,a=o(r),l=o(i);t.UJ=void 0,(s=t.UJ||(t.UJ={}))[s.Text=1]="Text",s[s.Link=2]="Link",s[s.FreeText=3]="FreeText",s[s.Line=4]="Line",s[s.Square=5]="Square",s[s.Circle=6]="Circle",s[s.Polygon=7]="Polygon",s[s.Polyline=8]="Polyline",s[s.Highlight=9]="Highlight",s[s.Underline=10]="Underline",s[s.Squiggly=11]="Squiggly",s[s.StrikeOut=12]="StrikeOut",s[s.Stamp=13]="Stamp",s[s.Caret=14]="Caret",s[s.Ink=15]="Ink",s[s.Popup=16]="Popup",s[s.FileAttachment=17]="FileAttachment";var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d,h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)};t.z4=void 0,(d=t.z4||(t.z4={})).RightToLeft="RTL",d.LeftToRight="LTR";var p,f=a.createContext({currentTheme:"light",direction:t.z4.LeftToRight,setCurrentTheme:function(){}}),m=function(e){var t=[];return Object.keys(e).forEach(function(n){n&&e[n]&&t.push(n)}),t.join(" ")},g="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,b=function(e){var t=a.useRef(null),n=e.once,r=e.threshold,i=e.onVisibilityChanged;return g(function(){var e=t.current;if(e){var o=new IntersectionObserver(function(t){t.forEach(function(t){var r=t.isIntersecting,s=t.intersectionRatio;i({isVisible:r,ratio:s}),r&&n&&(o.unobserve(e),o.disconnect())})},{threshold:r||0});return o.observe(e),function(){o.unobserve(e),o.disconnect()}}},[]),t},y=function(e){var n=e.children,r=e.ignoreDirection,i=void 0!==r&&r,o=e.size,s=void 0===o?24:o,l=a.useContext(f).direction,c=!i&&l===t.z4.RightToLeft,u="".concat(s||24,"px");return a.createElement("svg",{"aria-hidden":"true",className:m({"rpv-core__icon":!0,"rpv-core__icon--rtl":c}),focusable:"false",height:u,viewBox:"0 0 24 24",width:u},n)},v=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},w=function(e){var n=e.children,r=e.testId,i=e.onClick,o=a.useContext(f).direction===t.z4.RightToLeft,s=r?{"data-testid":r}:{};return a.createElement("button",h({className:m({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":o}),type:"button",onClick:i},s),n)},_=function(e){var t=e.size,n=void 0===t?"4rem":t,r=e.testId,i=a.useState(!1),o=i[0],s=i[1],l=r?{"data-testid":r}:{},c=b({onVisibilityChanged:function(e){s(e.isVisible)}});return a.createElement("div",h({},l,{className:m({"rpv-core__spinner":!0,"rpv-core__spinner--animating":o}),ref:c,style:{height:n,width:n}}))},x=function(e){var n=e.ariaLabel,r=void 0===n?"":n,i=e.autoFocus,o=void 0!==i&&i,s=e.placeholder,l=void 0===s?"":s,c=e.testId,u=e.type,d=void 0===u?"text":u,p=e.value,b=void 0===p?"":p,y=e.onChange,v=e.onKeyDown,w=void 0===v?function(){}:v,_=a.useContext(f).direction,x=a.useRef(),E=_===t.z4.RightToLeft,k={ref:x,"data-testid":"","aria-label":r,className:m({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":E}),placeholder:l,value:b,onChange:function(e){return y(e.target.value)},onKeyDown:w};return c&&(k["data-testid"]=c),g(function(){if(o){var e=x.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}},[]),"text"===d?a.createElement("input",h({type:"text"},k)):a.createElement("input",h({type:"password"},k))};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(p||(p={}));var E,k={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},A={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},S={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},P="undefined"!=typeof window,C=P&&(p.FullScreenEnabled in document&&k||A.FullScreenEnabled in document&&A||S.FullScreenEnabled in document&&S)||k,T=function(e){return P?e[C.ExitFullScreen]():Promise.resolve({})},O=function(){return P?document[C.FullScreenElement]:null},M=function(e,t){var n=a.useRef(),r=function(){n.current&&clearTimeout(n.current)};return a.useEffect(function(){return function(){return r()}},[]),a.useCallback(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r(),n.current=setTimeout(function(){e.apply(void 0,i)},t)},[e,t])},D=function(){var e=a.useRef(!1);return a.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},I=function(e){var t=a.useRef(e);return a.useEffect(function(){t.current=e},[e]),t.current};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(E||(E={}));var N,j=-9999,R=function(e){var t=e.doc,n=t.numPages,r=t.loadingTask.docId,i=a.useMemo(function(){return Array(n).fill(null).map(function(e,t){return{pageIndex:t,renderStatus:E.NotRenderedYet,visibility:j}})},[r]),o=a.useRef({currentRenderingPage:-1,startRange:0,endRange:n-1,visibilities:i}),s=function(e,t){o.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=o.current.visibilities.slice(o.current.startRange,o.current.endRange+1).filter(function(e){return e.visibility>j});if(!e.length)return-1;for(var t=e[0].pageIndex,r=e[e.length-1].pageIndex,i=e.length,s=0;s<i;s++){if(e[s].renderStatus===E.Rendering)return-1;if(e[s].renderStatus===E.NotRenderedYet)return e[s].pageIndex}return r+1<n&&o.current.visibilities[r+1].renderStatus!==E.Rendered?r+1:t-1>=0&&o.current.visibilities[t-1].renderStatus!==E.Rendered?t-1:-1},isInRange:function(e){return e>=o.current.startRange&&e<=o.current.endRange},markNotRendered:function(){for(var e=0;e<n;e++)o.current.visibilities[e].renderStatus=E.NotRenderedYet},markRendered:function(e){o.current.visibilities[e].renderStatus=E.Rendered},markRendering:function(e){-1!==o.current.currentRenderingPage&&o.current.currentRenderingPage!==e&&o.current.visibilities[o.current.currentRenderingPage].renderStatus===E.Rendering&&(o.current.visibilities[o.current.currentRenderingPage].renderStatus=E.NotRenderedYet),o.current.visibilities[e].renderStatus=E.Rendering,o.current.currentRenderingPage=e},setOutOfRange:function(e){s(e,j)},setRange:function(e,t){o.current.startRange=e,o.current.endRange=t;for(var r=0;r<n;r++)(r<e||r>t)&&(o.current.visibilities[r].visibility=j,o.current.visibilities[r].renderStatus=E.NotRenderedYet)},setVisibility:s}},L={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},F=a.createContext({l10n:L,setL10n:function(){}});t.$K=void 0,(N=t.$K||(t.$K={})).Close="Close",N.Open="Open",N.Toggle="Toggle";var B,V=function(e){var n=a.useState(e),r=n[0],i=n[1];return{opened:r,toggle:function(e){switch(e){case t.$K.Close:i(!1);break;case t.$K.Open:i(!0);break;case t.$K.Toggle:default:i(function(e){return!e})}}}};t.yX=void 0,(B=t.yX||(t.yX={})).TopLeft="TOP_LEFT",B.TopCenter="TOP_CENTER",B.TopRight="TOP_RIGHT",B.RightTop="RIGHT_TOP",B.RightCenter="RIGHT_CENTER",B.RightBottom="RIGHT_BOTTOM",B.BottomLeft="BOTTOM_LEFT",B.BottomCenter="BOTTOM_CENTER",B.BottomRight="BOTTOM_RIGHT",B.LeftTop="LEFT_TOP",B.LeftCenter="LEFT_CENTER",B.LeftBottom="LEFT_BOTTOM";var z,U,q,H,$,W,G,J;t.HG=void 0,(z=t.HG||(t.HG={})).Normal="Normal",z.Entering="Entering",z.Entered="Entered",z.EnteredCompletely="EnteredCompletely",z.Exitting="Exitting",z.Exited="Exited",t._8=void 0,(U=t._8||(t._8={}))[U.PreRender=0]="PreRender",U[U.DidRender=1]="DidRender",t.bH=void 0,(q=t.bH||(t.bH={})).Attachments="UseAttachments",q.Bookmarks="UseOutlines",q.ContentGroup="UseOC",q.Default="UserNone",q.FullScreen="FullScreen",q.Thumbnails="UseThumbs",t.a9=void 0,(H=t.a9||(t.a9={})).RequiredPassword="RequiredPassword",H.WrongPassword="WrongPassword",t.pT=void 0,($=t.pT||(t.pT={})).Backward="Backward",$.Forward="Forward",t.VT=void 0,(W=t.VT||(t.VT={})).Page="Page",W.Horizontal="Horizontal",W.Vertical="Vertical",W.Wrapped="Wrapped",t.dD=void 0,(G=t.dD||(t.dD={})).ActualSize="ActualSize",G.PageFit="PageFit",G.PageWidth="PageWidth",t.nE=void 0,(J=t.nE||(t.nE={})).DualPage="DualPage",J.DualPageWithCover="DualPageWithCover",J.SinglePage="SinglePage";var Y,K=function(e,t){return e.reduce(function(e,n,r){return r%t?e[e.length-1].push(n):e.push([n]),e},[])},Q=function(e,n){switch(n[1].name){case"XYZ":return{bottomOffset:function(e,t){return null===n[3]?t:n[3]},leftOffset:function(e,t){return null===n[2]?0:n[2]},pageIndex:e,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:t.dD.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],leftOffset:0,pageIndex:e,scaleTo:t.dD.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},X=new Map,Z=new Map,ee=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},te=function(e,t,n){X.set(ee(e,t),n)},ne=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=Z.get(n);return r?Promise.resolve(r):new Promise(function(r,i){e.getPage(t+1).then(function(i){Z.set(n,i),i.ref&&te(e,i.ref,t),r(i)})})},re=function(e,t){return new Promise(function(n){new Promise(function(n){"string"==typeof t?e.getDestination(t).then(function(e){n(e)}):n(t)}).then(function(r){if("object"==typeof r[0]&&null!==r[0]){var i=r[0],o=function(e,t){var n=ee(e,t);return X.has(n)?X.get(n):null}(e,i);null===o?e.getPageIndex(i).then(function(r){te(e,i,r),re(e,t).then(function(e){return n(e)})}):n(Q(o,r))}else{var s=Q(r[0],r);n(s)}})})};!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(Y||(Y={}));var ie,oe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),se=function(e,t,n,r){var i=parseInt(e,10);return i>=t&&i<=n?i:r},ae=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},le=function(e){return e.titleObj?e.titleObj.str:e.title||""},ce=function(e){var n=e.annotation,r=a.useContext(f).direction,i=le(n),o=ae(n),s=r===t.z4.RightToLeft,l=a.useRef(),c="";if(n.modificationDate){var u=function(e){var t=oe.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=se(t[2],1,12,1)-1,i=se(t[3],1,31,1),o=se(t[4],0,23,0),s=se(t[5],0,59,0),a=se(t[6],0,59,0),l=t[7]||"Z",c=se(t[8],0,23,0),u=se(t[9],0,59,0);switch(l){case"-":o+=c,s+=u;break;case"+":o-=c,s-=u}return new Date(Date.UTC(n,r,i,o,s,a))}(n.modificationDate);c=u?"".concat(u.toLocaleDateString(),", ").concat(u.toLocaleTimeString()):""}return a.useLayoutEffect(function(){if(l.current){var e=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex="".concat(parseInt(t.style.zIndex,10)-1)}}}},[]),a.createElement("div",{ref:l,className:m({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":s}),style:{top:n.annotationType===t.UJ.Popup?"":"100%"}},i&&a.createElement(a.Fragment,null,a.createElement("div",{className:m({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!s,"rpv-core__annotation-popup-title--rtl":s})},i),a.createElement("div",{className:"rpv-core__annotation-popup-date"},c)),o&&a.createElement("div",{className:"rpv-core__annotation-popup-content"},o.split("\n").map(function(e,t){return a.createElement(a.Fragment,{key:t},e,a.createElement("br",null))})))};!function(e){e.Click="Click",e.Hover="Hover"}(ie||(ie={}));var ue,de=function(e){var n,r=e.annotation,i=e.children,o=e.ignoreBorder,s=e.hasPopup,l=e.isRenderable,c=e.page,u=e.viewport,d=r.rect,h=function(){var e=V(!1),n=e.opened,r=e.toggle,i=a.useState(ie.Hover),o=i[0],s=i[1];return{opened:n,closeOnHover:function(){o===ie.Hover&&r(t.$K.Close)},openOnHover:function(){o===ie.Hover&&r(t.$K.Open)},toggleOnClick:function(){switch(o){case ie.Click:n&&s(ie.Hover),r(t.$K.Toggle);break;case ie.Hover:s(ie.Click),r(t.$K.Open)}}}}(),p=h.closeOnHover,f=h.opened,m=h.openOnHover,g=h.toggleOnClick,b=(n=[d[0],c.view[3]+c.view[1]-d[1],d[2],c.view[3]+c.view[1]-d[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),y=d[2]-d[0],v=d[3]-d[1],w={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&r.borderStyle.width>0){switch(r.borderStyle.style){case Y.Dashed:w.borderStyle="dashed";break;case Y.Solid:w.borderStyle="solid";break;case Y.Underline:w=Object.assign({borderBottomStyle:"solid"},w);case Y.Beveled:case Y.Inset:}var _=r.borderStyle.width;w.borderWidth="".concat(_,"px"),r.borderStyle.style!==Y.Underline&&(y-=2*_,v-=2*_);var x=r.borderStyle,E=x.horizontalCornerRadius,k=x.verticalCornerRadius;(E>0||k>0)&&(w.borderRadius="".concat(E,"px / ").concat(k,"px")),r.color?w.borderColor="rgb(".concat(0|r.color[0],", ").concat(0|r.color[1],", ").concat(0|r.color[2],")"):w.borderWidth="0"}return a.createElement(a.Fragment,null,l&&i({popup:{opened:f,closeOnHover:p,openOnHover:m,toggleOnClick:g},slot:{attrs:{style:Object.assign({height:"".concat(v,"px"),left:"".concat(b[0],"px"),top:"".concat(b[1],"px"),transform:"matrix(".concat(u.transform.join(","),")"),transformOrigin:"-".concat(b[0],"px -").concat(b[1],"px"),width:"".concat(y,"px")},w)},children:a.createElement(a.Fragment,null,s&&f&&a.createElement(ce,{annotation:r}))}}))},he=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},pe=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},a.createElement("circle",{cy:d/2,fill:"none",rx:u/2-p/2,ry:d/2-p/2,stroke:"transparent",strokeWidth:p||1})),e.slot.children)})},fe=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=le(t),o=ae(t),s=!(!1!==t.hasPopup||!i&&!o),l=function(){var e,n,r,i,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(i=document.createElement("a")).style.display="none",i.href=r||e,i.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(i),i.click(),document.body.removeChild(i),r&&URL.revokeObjectURL(r))};return a.createElement(de,{annotation:t,hasPopup:s,ignoreBorder:!0,isRenderable:!0,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},me=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},ge=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=le(t),o=ae(t),s=!(!i&&!o),l=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return g(function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'.concat(t.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e&&n){var r=parseFloat(e.style.left),i=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left="".concat(r,"px"),n.style.top="".concat(i,"px"),n.style.transformOrigin="-".concat(r,"px -").concat(i,"px")}}},[]),a.createElement(de,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:s,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),a.createElement(ce,{annotation:t}))})},be=function(e){var n=e.annotation,r=e.childAnnotation,i=e.page,o=e.viewport,s=!1===n.hasPopup,l=le(n),c=ae(n),u=!!(n.hasPopup||l||c);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map(function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})});return a.createElement(a.Fragment,null,d.map(function(e,t){return a.createElement(be,{key:t,annotation:e,childAnnotation:r,page:i,viewport:o})}))}return a.createElement(de,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:i,viewport:o},function(e){return a.createElement(a.Fragment,null,a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),r&&r.annotationType===t.UJ.Popup&&e.popup.opened&&a.createElement(ge,{annotation:r,page:i,viewport:o}))})},ye=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},t.inkLists.map(function(e,t){return a.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:p||1,points:e.map(function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)}).join(" ")})})),e.slot.children)})},ve=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},a.createElement("line",{stroke:"transparent",strokeWidth:p||1,x1:c[2]-t.lineCoordinates[0],x2:c[2]-t.lineCoordinates[2],y1:c[3]-t.lineCoordinates[1],y2:c[3]-t.lineCoordinates[3]})),e.slot.children)})},we=/^([^\w]*)(javascript|data|vbscript)/im,_e=/&#(\w+)(^\w|;)?/g,xe=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ee=/^([^:]+):/gm,ke=function(e){var t,n=e.annotation,r=e.annotationContainerRef,i=e.doc,o=e.outlines,s=e.page,l=e.pageIndex,c=e.scale,u=e.viewport,d=e.onExecuteNamedAction,p=e.onJumpFromLinkAnnotation,f=e.onJumpToDest,m=a.useRef(),g=o&&o.length&&n.dest&&"string"==typeof n.dest?null===(t=o.find(function(e){return e.dest===n.dest}))||void 0===t?void 0:t.title:"",b=!!(n.url||n.dest||n.action||n.unsafeUrl),y={};if(n.url||n.unsafeUrl){var v=function(e,t){void 0===t&&(t="about:blank");var n,r=(n=e||"",n.replace(_e,function(e,t){return String.fromCharCode(t)})).replace(xe,"").trim();if(!r)return t;var i=r[0];if("."===i||"/"===i)return r;var o=r.match(Ee);if(!o)return r;var s=o[0];return we.test(s)?t:r}(n.url||n.unsafeUrl,"");v?y={"data-target":"external",href:v,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:v}:b=!1}else y={href:"","data-annotation-link":n.id,onClick:function(e){e.preventDefault(),n.action?d(n.action):re(i,n.dest).then(function(e){var t=m.current,n=r.current;if(t&&n){var i=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var o=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var s=(i.left-o.left)/c,a=(o.bottom-i.bottom+i.height)/c;p({bottomOffset:a,label:g,leftOffset:s,pageIndex:l})}f(e)})}};return g&&(y=Object.assign({},y,{title:g,"aria-label":g})),a.createElement(de,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:b,page:s,viewport:u},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":n.id,"data-testid":"core__annotation--link-".concat(n.id)}),a.createElement("a",h({ref:m},y)))})},Ae=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},a.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:t.vertices.map(function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)}).join(" ")})),e.slot.children)})},Se=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},a.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:t.vertices.map(function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)}).join(" ")})),e.slot.children)})},Pe=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),a.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},a.createElement("rect",{height:d-p,fill:"none",stroke:"transparent",strokeWidth:p||1,x:p/2,y:p/2,width:u-p})),e.slot.children)})},Ce=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Te=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Oe=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Me=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),a.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),a.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),a.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},De=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),a.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),a.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),a.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),a.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),a.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),a.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),a.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),a.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),a.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ie=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),a.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Ne=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),a.createElement("path",{d:"M6 4.5L6 0.5"}),a.createElement("path",{d:"M18 4.5L18 0.5"}),a.createElement("path",{d:"M10 4.5L10 0.5"}),a.createElement("path",{d:"M14 4.5L14 0.5"}))},je=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),a.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),a.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Re=function(){return a.createElement(y,{size:16},a.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Le=function(e){var n=e.annotation,r=e.childAnnotation,i=e.page,o=e.viewport,s=!1===n.hasPopup,l=le(n),c=ae(n),u=!!(n.hasPopup||l||c),d=n.name?n.name.toLowerCase():"";return a.createElement(de,{annotation:n,hasPopup:s,ignoreBorder:!1,isRenderable:u,page:i,viewport:o},function(e){return a.createElement(a.Fragment,null,a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&a.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===d&&a.createElement(v,null),"comment"===d&&a.createElement(Me,null),"help"===d&&a.createElement(De,null),"insert"===d&&a.createElement(Re,null),"key"===d&&a.createElement(Ie,null),"note"===d&&a.createElement(Ne,null),("newparagraph"===d||"paragraph"===d)&&a.createElement(je,null)),e.slot.children),r&&r.annotationType===t.UJ.Popup&&e.popup.opened&&a.createElement(ge,{annotation:r,page:i,viewport:o}))})},Fe=function(e){var t=e.annotation,n=e.page,r=e.viewport,i=!1===t.hasPopup,o=le(t),s=ae(t),l=!!(t.hasPopup||o||s);return a.createElement(de,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return a.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Be=function(e){var n=e.annotations,r=e.doc,i=e.outlines,o=e.page,s=e.pageIndex,l=e.plugins,c=e.rotation,u=e.scale,d=e.onExecuteNamedAction,h=e.onJumpFromLinkAnnotation,p=e.onJumpToDest,f=a.useRef(),m=o.getViewport({rotation:c,scale:u}).clone({dontFlip:!0}),b=n.filter(function(e){return!e.parentId});return g(function(){var e=f.current;e&&l.forEach(function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:b,container:e,pageIndex:s,rotation:c,scale:u})})},[]),a.createElement("div",{ref:f,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(s)},b.map(function(e){var l=n.find(function(t){return t.parentId===e.id});switch(e.annotationType){case t.UJ.Caret:return a.createElement(he,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Circle:return a.createElement(pe,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.FileAttachment:return a.createElement(fe,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.FreeText:return a.createElement(me,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Highlight:return a.createElement(be,{key:e.id,annotation:e,childAnnotation:l,page:o,viewport:m});case t.UJ.Ink:return a.createElement(ye,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Line:return a.createElement(ve,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Link:return a.createElement(ke,{key:e.id,annotation:e,annotationContainerRef:f,doc:r,outlines:i,page:o,pageIndex:s,scale:u,viewport:m,onExecuteNamedAction:d,onJumpFromLinkAnnotation:h,onJumpToDest:p});case t.UJ.Polygon:return a.createElement(Ae,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Polyline:return a.createElement(Se,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Popup:return a.createElement(ge,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Square:return a.createElement(Pe,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Squiggly:return a.createElement(Ce,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Stamp:return a.createElement(Te,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.StrikeOut:return a.createElement(Oe,{key:e.id,annotation:e,page:o,viewport:m});case t.UJ.Text:return a.createElement(Le,{key:e.id,annotation:e,childAnnotation:l,page:o,viewport:m});case t.UJ.Underline:return a.createElement(Fe,{key:e.id,annotation:e,page:o,viewport:m});default:return a.createElement(a.Fragment,{key:e.id})}}))},Ve=function(e){var t=e.page,n=e.renderAnnotations,r=D(),i=a.useState({loading:!0,annotations:[]}),o=i[0],s=i[1];return a.useEffect(function(){t.getAnnotations({intent:"display"}).then(function(e){r.current&&s({loading:!1,annotations:e})})},[]),o.loading?a.createElement(a.Fragment,null):n(o.annotations)},ze=function(e){var t=e.doc,n=e.outlines,r=e.page,i=e.pageIndex,o=e.plugins,s=e.rotation,l=e.scale,c=e.onExecuteNamedAction,u=e.onJumpFromLinkAnnotation,d=e.onJumpToDest;return a.createElement(Ve,{page:r,renderAnnotations:function(e){return a.createElement(Be,{annotations:e,doc:t,outlines:n,page:r,pageIndex:i,plugins:o,rotation:s,scale:l,onExecuteNamedAction:c,onJumpFromLinkAnnotation:u,onJumpToDest:d})}})},Ue=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},qe=function(e){var n=e.canvasLayerRef,r=e.height,i=e.page,o=e.pageIndex,s=e.plugins,l=e.rotation,c=e.scale,u=e.width,d=e.onRenderCanvasCompleted,h=a.useRef();return g(function(){var e=h.current;e&&e.cancel();var r=n.current;r.removeAttribute("data-testid"),s.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:o,rotation:l,scale:c,status:t._8.PreRender})});var a=i.getViewport({rotation:l,scale:c}),u=window.devicePixelRatio||1,p=Math.sqrt(16777216/(a.width*a.height)),f=u>p;f?r.style.transform="scale(1, 1)":r.style.removeProperty("transform");var m=Math.min(p,u),g=function(e){var t,n;if(Math.floor(e)===e)return[e,1];var r=1/e;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];for(var i=e>1?r:e,o=0,s=1,a=1,l=1;;){var c=o+a,u=s+l;if(u>8)break;i<=c/u?(a=(t=[c,u])[0],l=t[1]):(o=(n=[c,u])[0],s=n[1])}return i<(o/s+a/l)/2?i===e?[o,s]:[s,o]:i===e?[a,l]:[l,a]}(m),b=g[0],y=g[1];r.width=Ue(a.width*m,b),r.height=Ue(a.height*m,b),r.style.width="".concat(Ue(a.width,y),"px"),r.style.height="".concat(Ue(a.height,y),"px"),r.hidden=!0;var v=r.getContext("2d",{alpha:!1}),w=f||1!==u?[m,0,0,m,0,0]:null;return h.current=i.render({canvasContext:v,transform:w,viewport:a}),h.current.promise.then(function(){r.hidden=!1,r.setAttribute("data-testid","core__canvas-layer-".concat(o)),s.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:o,rotation:l,scale:c,status:t._8.DidRender})}),d()},function(){d()}),function(){r&&(r.width=0,r.height=0)}},[]),a.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(r,"px"),width:"".concat(u,"px")}},a.createElement("canvas",{ref:n}))},He=function(e){var t=e.height,n=e.page,r=e.rotation,i=e.scale,o=e.width,s=a.useRef();return g(function(){var e=s.current,a=n.getViewport({rotation:r,scale:i});n.getOperatorList().then(function(r){!function(){var e=s.current;e&&(e.innerHTML="")}(),new l.SVGGraphics(n.commonObjs,n.objs).getSVG(r,a).then(function(n){n.style.height="".concat(t,"px"),n.style.width="".concat(o,"px"),e.appendChild(n)})})},[]),a.createElement("div",{className:"rpv-core__svg-layer",ref:s})},$e=function(e){var n=e.containerRef,r=e.page,i=e.pageIndex,o=e.plugins,s=e.rotation,c=e.scale,u=e.onRenderTextCompleted,d=a.useRef(),h=function(){var e=n.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(t){return e.removeChild(t)}),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach(function(t){return e.removeChild(t)}))};return g(function(){var e=d.current;e&&e.cancel();var a=n.current;if(a){a.removeAttribute("data-testid");var p=r.getViewport({rotation:s,scale:c});return o.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:a,pageIndex:i,scale:c,status:t._8.PreRender})}),r.getTextContent().then(function(e){h(),d.current=l.renderTextLayer({container:a,textContent:e,textContentSource:e,viewport:p}),d.current.promise.then(function(){a.setAttribute("data-testid","core__text-layer-".concat(i)),[].slice.call(a.children).forEach(function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")}),o.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:a,pageIndex:i,scale:c,status:t._8.DidRender})}),u()},function(){a.removeAttribute("data-testid"),u()})}),function(){var e;h(),null===(e=d.current)||void 0===e||e.cancel()}}},[]),a.createElement("div",{className:"rpv-core__text-layer",ref:n})},We=function(e){var n=e.doc,r=e.measureRef,i=e.outlines,o=e.pageIndex,s=e.pageRotation,l=e.pageSize,c=e.plugins,u=e.renderPage,d=e.renderQueueKey,h=e.rotation,p=e.scale,f=e.shouldRender,g=e.viewMode,b=e.onExecuteNamedAction,y=e.onJumpFromLinkAnnotation,v=e.onJumpToDest,w=e.onRenderCompleted,x=e.onRotatePage,E=D(),k=a.useState(null),A=k[0],S=k[1],P=a.useState(!1),C=P[0],T=P[1],O=a.useState(!1),M=O[0],I=O[1],N=a.useRef(),j=a.useRef(),R=Math.abs(h+s)%180==0,L=l.pageWidth*p,F=l.pageHeight*p,B=R?L:F,V=R?F:L,z=(l.rotation+h+s)%360,U=a.useRef(0),q=u||function(e){return a.createElement(a.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return a.useEffect(function(){S(null),T(!1),I(!1)},[s,h,p]),a.useEffect(function(){f&&E.current&&!A&&ne(n,o).then(function(e){E.current&&(U.current=d,S(e))})},[f,A]),a.useEffect(function(){C&&M&&(d!==U.current?(S(null),T(!1),I(!1)):w(o))},[C,M]),a.createElement("div",{className:m({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":g===t.nE.DualPage,"rpv-core__page-layer--dual-cover":g===t.nE.DualPageWithCover,"rpv-core__page-layer--single":g===t.nE.SinglePage}),"data-testid":"core__page-layer-".concat(o),ref:r,style:{height:"".concat(V,"px"),width:"".concat(B,"px")}},A?a.createElement(a.Fragment,null,q({annotationLayer:{attrs:{},children:a.createElement(ze,{doc:n,outlines:i,page:A,pageIndex:o,plugins:c,rotation:z,scale:p,onExecuteNamedAction:b,onJumpFromLinkAnnotation:y,onJumpToDest:v})},canvasLayer:{attrs:{},children:a.createElement(qe,{canvasLayerRef:N,height:V,page:A,pageIndex:o,plugins:c,rotation:z,scale:p,width:B,onRenderCanvasCompleted:function(){E.current&&T(!0)}})},canvasLayerRendered:C,doc:n,height:V,pageIndex:o,rotation:z,scale:p,svgLayer:{attrs:{},children:a.createElement(He,{height:V,page:A,rotation:z,scale:p,width:B})},textLayer:{attrs:{},children:a.createElement($e,{containerRef:j,page:A,pageIndex:o,plugins:c,rotation:z,scale:p,onRenderTextCompleted:function(){E.current&&I(!0)}})},textLayerRendered:M,width:B,markRendered:w,onRotatePage:function(e){return x(o,e)}}),c.map(function(e,t){return e.renderPageLayer?a.createElement(a.Fragment,{key:t},e.renderPageLayer({canvasLayerRef:N,canvasLayerRendered:C,doc:n,height:V,pageIndex:o,rotation:z,scale:p,textLayerRef:j,textLayerRendered:M,width:B})):a.createElement(a.Fragment,{key:t})})):a.createElement(_,{testId:"core__page-layer-loading-".concat(o)}))},Ge=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(ue||(ue={}));var Je=function(e){return 1-Math.pow(1-e,4)},Ye=1e-4,Ke={left:0,top:0},Qe={capture:!1,passive:!0},Xe=function(e,t,n){return Math.max(e,Math.min(n,t))},Ze=function(e,n){if(n!==t.nE.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var r=K(e.slice(1),2).map(function(e){return 2===e.length?e[0].width+e[1].width:e[0].width}),i=[e[0].width].concat(r);return Math.max.apply(Math,i)},et={left:0,top:0},tt={left:0,top:0},nt={left:0,top:0},rt={left:0,top:0},it={height:0,width:0},ot={left:0,top:0},st="data-virtual-index",at=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],lt=function(e){var n=e.enableSmoothScroll,r=e.isRtl,i=e.numberOfItems,o=e.parentRef,s=e.setRenderRange,l=e.sizes,c=e.scrollMode,u=e.viewMode,d=a.useState(!1),p=d[0],f=d[1],m=a.useCallback(function(e){return f(e)},[]),b=a.useRef(c);b.current=c;var y=a.useRef(u);y.current=u;var v=c===t.VT.Wrapped||u===t.nE.DualPageWithCover||u===t.nE.DualPage?ue.Both:c===t.VT.Horizontal?ue.Horizontal:ue.Vertical,w=function(e){var t=e.elementRef,n=e.enableSmoothScroll,r=e.isRtl,i=e.scrollDirection,o=e.onSmoothScroll,s=a.useState(Ke),l=s[0],c=s[1],u=a.useState(t.current),d=u[0],h=u[1],p=r?-1:1,f=a.useRef(i);f.current=i;var m=a.useRef(Ke),b=a.useRef(!0),y=a.useCallback(function(){b.current=!0,n&&c(m.current),o(!1)},[]),v=a.useCallback(function(){if(d){switch(f.current){case ue.Horizontal:m.current={left:p*d.scrollLeft,top:0};break;case ue.Both:m.current={left:p*d.scrollLeft,top:d.scrollTop};break;case ue.Vertical:default:m.current={left:0,top:d.scrollTop}}n&&!b.current||c(m.current)}},[d]);g(function(){h(t.current)}),g(function(){if(d)return d.addEventListener("scroll",v,Qe),function(){d.removeEventListener("scroll",v,Qe)}},[d]);var w=a.useCallback(function(e,n){var r=t.current;if(!r)return Promise.resolve();var i={left:0,top:0};switch(f.current){case ue.Horizontal:i.left=p*e.left;break;case ue.Both:i.left=p*e.left,i.top=e.top;break;case ue.Vertical:default:i.top=e.top}return n?(b.current=!1,o(!0),new Promise(function(e,t){!function(e,t,n,r,i,o){void 0===i&&(i=function(e){return e}),void 0===o&&(o=function(){});var s=0,a=0,l=!1;switch(t){case ue.Horizontal:a=e.scrollLeft,s=0;case ue.Both:a=e.scrollLeft,s=e.scrollTop;break;case ue.Vertical:default:a=0,s=e.scrollTop}var c=function(){l||(l=!0,e.scrollLeft=n.left,e.scrollTop=n.top,o())};if(Math.abs(s-n.top)<=Ye&&t===ue.Vertical)c();else if(Math.abs(a-n.left)<=Ye&&t===ue.Horizontal)c();else{var u,d=-1,h=a-n.left,p=s-n.top,f=function(r){-1===d&&(d=r);var o=r-d,m=Math.min(o/400,1),g=i(m),b={left:a-h*g,top:s-p*g};switch(t){case ue.Horizontal:e.scrollLeft=b.left;break;case ue.Both:e.scrollLeft=b.left,e.scrollTop=b.top;break;case ue.Vertical:default:e.scrollTop=b.top}Math.abs(b.top-n.top)<=Ye&&Math.abs(b.left-n.left)<=Ye&&!l&&(window.cancelAnimationFrame(u),c()),o<400?u=window.requestAnimationFrame(f):window.cancelAnimationFrame(u)};u=window.requestAnimationFrame(f)}}(r,f.current,i,0,Je,function(){y(),e()})})):new Promise(function(e,t){switch(f.current){case ue.Horizontal:r.scrollLeft=i.left;break;case ue.Both:r.scrollLeft=i.left,r.scrollTop=i.top;break;case ue.Vertical:default:r.scrollTop=i.top}e()})},[t]);return{scrollOffset:l,scrollTo:w}}({elementRef:o,enableSmoothScroll:n,isRtl:r,scrollDirection:v,onSmoothScroll:m}),_=w.scrollOffset,x=w.scrollTo,E=function(e){var t=e.elementRef,n=a.useState(t.current),r=n[0],i=n[1],o=a.useRef(!1),s=a.useReducer(Ge,{height:0,width:0}),l=s[0],c=s[1];return g(function(){t.current!==r&&i(t.current)}),g(function(){if(r&&!o.current){o.current=!0;var e=r.getBoundingClientRect(),t=e.height,n=e.width;c({rect:{height:t,width:n}})}},[r]),a.useEffect(function(){if(r){var e=new ResizeObserver(function(e,t){e.forEach(function(e){if(e.target===r){var t=e.contentRect,n=t.height,i=t.width;c({rect:{height:n,width:i}})}})});return e.observe(r),function(){e.unobserve(r)}}},[r]),l}({elementRef:o}),k=a.useRef({scrollOffset:ot,measurements:[]});k.current.scrollOffset=_;var A=a.useMemo(function(){return Array(i).fill(-1)},[]),S=a.useState(A),P=S[0],C=S[1],T=a.useMemo(function(){var e=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(st);if(n){var r=parseInt(n,10);0<=r&&r<i&&C(function(e){return e[r]=t,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0)})}})},{threshold:at});return e},[]),O=a.useMemo(function(){return c===t.VT.Page&&u===t.nE.SinglePage?function(e,t,n){for(var r=[],i=0;i<e;i++){var o={height:Math.max(t.height,n[i].height),width:Math.max(t.width,n[i].width)},s=0===i?rt:r[i-1].end,a={left:s.left+o.width,top:s.top+o.height};r[i]={index:i,start:s,size:o,end:a,visibility:-1}}return r}(i,E,l):u===t.nE.DualPageWithCover?function(e,n,r,i){for(var o=[],s=0,a=0,l=nt,c=0;c<e;c++){var u=0===c?{height:i===t.VT.Page?Math.max(n.height,r[c].height):r[c].height,width:i===t.VT.Page?Math.max(n.width,r[c].width):r[c].width}:{height:i===t.VT.Page?Math.max(n.height,r[c].height):r[c].height,width:Math.max(n.width/2,r[c].width)};i===t.VT.Page?l=0===c?nt:{left:c%2==0?u.width:0,top:Math.floor((c-1)/2)*u.height+o[0].end.top}:0===c?(l=nt,s=r[0].height,a=0):c%2==1?(l={left:0,top:s+=a},a=c===e-1?r[c].height:Math.max(r[c].height,r[c+1].height)):l={left:o[c-1].end.left,top:s};var d={left:l.left+u.width,top:l.top+u.height};o[c]={index:c,start:l,size:u,end:d,visibility:-1}}return o}(i,E,l,c):u===t.nE.DualPage?function(e,n,r,i){for(var o=[],s=0,a=0,l=tt,c=0;c<e;c++){var u={height:i===t.VT.Page?Math.max(n.height,r[c].height):r[c].height,width:Math.max(n.width/2,r[c].width)};i===t.VT.Page?l={left:c%2==0?0:u.width,top:Math.floor(c/2)*u.height}:c%2==0?(l={left:0,top:s+=a},a=c===e-1?r[c].height:Math.max(r[c].height,r[c+1].height)):l={left:o[c-1].end.left,top:s};var d={left:l.left+u.width,top:l.top+u.height};o[c]={index:c,start:l,size:u,end:d,visibility:-1}}return o}(i,E,l,c):function(e,n,r,i){for(var o=[],s=0,a={left:0,top:0},l=0,c=et,u=0;u<e;u++){var d=r[u];if(0===u)s=d.width,a={left:0,top:0},l=d.height;else switch(i){case t.VT.Wrapped:(s+=d.width)<n.width?(c={left:o[u-1].end.left,top:a.top},l=Math.max(l,d.height)):(s=d.width,a={left:(c={left:a.left,top:a.top+l}).left,top:c.top},l=d.height);break;case t.VT.Horizontal:case t.VT.Vertical:default:c=o[u-1].end}var h={left:c.left+d.width,top:c.top+d.height};o[u]={index:u,start:c,size:d,end:h,visibility:-1}}return o}(i,E,l,c)},[c,l,u,E]),M=O[i-1]?{height:O[i-1].end.top,width:O[i-1].end.left}:it;k.current.measurements=O;var D=a.useMemo(function(){var e=function(e,t,n,r){var i=0;switch(e){case ue.Horizontal:i=r.left;break;case ue.Vertical:default:i=r.top}var o=t.length-1,s=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=r(i);if(o<n)e=i+1;else{if(!(o>n))return i;t=i-1}}return e>0?e-1:0}(0,o,i,function(n){switch(e){case ue.Horizontal:return t[n].start.left;case ue.Both:case ue.Vertical:default:return t[n].start.top}});if(e===ue.Both)for(var a=t[s].start.top;s-1>=0&&t[s-1].start.top===a&&t[s-1].start.left>=r.left;)s--;for(var l=s;l<=o;){var c={top:t[l].start.top-r.top,left:t[l].start.left-r.left},u={height:n.height-c.top,width:n.width-c.left};if(e===ue.Horizontal&&u.width<0)break;if(e===ue.Vertical&&u.height<0)break;if(e===ue.Both&&(u.width<0||u.height<0))break;l++}return{start:s,end:l}}(v,O,E,_),n=e.start,r=e.end,o=n+P.slice(Xe(0,i,n),Xe(0,i,r)).reduce(function(e,t,n,r){return t>r[e]?n:e},0),a=o=Xe(0,i-1,o),l=s({endPage:r,numPages:i,startPage:n}),c=l.startPage,d=l.endPage;switch(c=Math.max(c,0),d=Math.min(d,i-1),u){case t.nE.DualPageWithCover:o>0&&(a=o%2==1?o:o-1),c=0===c?0:c%2==1?c:c-1,i-(d=d%2==1?d-1:d)<=2&&(d=i-1);break;case t.nE.DualPage:a=o%2==0?o:o-1,c=c%2==0?c:c-1,d=d%2==1?d:d-1;break;case t.nE.SinglePage:default:a=o}return{startPage:c,endPage:d,maxVisbilityIndex:a}},[O,E,_,u,P]),I=D.startPage,N=D.endPage,j=D.maxVisbilityIndex,R=a.useMemo(function(){for(var e=[],t=function(t){var n=O[t],r=h(h({},n),{visibility:void 0!==P[t]?P[t]:-1,measureRef:function(e){e&&(e.setAttribute(st,"".concat(t)),T.observe(e))}});e.push(r)},n=I;n<=N;n++)t(n);return e},[I,N,P,O]),L=a.useCallback(function(e,r){var o=k.current.measurements[Xe(0,i-1,e)],s=b.current===t.VT.Page?ot:r;return o?x({left:s.left+o.start.left,top:s.top+o.start.top},n):Promise.resolve()},[x,n]),F=a.useCallback(function(e,n){var r=k.current.measurements,i=r[e].start,o=r.find(function(e){return e.start.top-i.top>1e-12});if(!o)return Promise.resolve();var s=o.index;switch(y.current){case t.nE.DualPage:s=s%2==0?s:s+1;break;case t.nE.DualPageWithCover:s=s%2==1?s:s+1}return L(s,n)},[]),B=a.useCallback(function(e,n){for(var r=k.current.measurements,o=r[e].start,s=e,a=!1,l=i-1;l>=0;l--)if(o.top-r[l].start.top>1e-12){a=!0,s=r[l].index;break}if(!a)return Promise.resolve();switch(y.current){case t.nE.DualPage:s=s%2==0?s:s-1;break;case t.nE.DualPageWithCover:s=s%2==0?s-1:s}return s===e&&(s=e-1),L(s,n)},[]),V=a.useCallback(function(e,n){if(y.current===t.nE.DualPageWithCover||y.current===t.nE.DualPage)return F(e,n);switch(b.current){case t.VT.Wrapped:return F(e,n);case t.VT.Horizontal:case t.VT.Vertical:default:return L(e+1,n)}},[]),z=a.useCallback(function(e,n){if(y.current===t.nE.DualPageWithCover||y.current===t.nE.DualPage)return B(e,n);switch(b.current){case t.VT.Wrapped:return B(e,n);case t.VT.Horizontal:case t.VT.Vertical:default:return L(e-1,n)}},[]),U=a.useCallback(function(){return function(e,n){switch(n){case t.VT.Horizontal:return{position:"relative",height:"100%",width:"".concat(e.width,"px")};case t.VT.Vertical:default:return{position:"relative",height:"".concat(e.height,"px"),width:"100%"}}}(M,b.current)},[M]),q=a.useCallback(function(e){return function(e,n,r){return r!==t.VT.Page?{}:{height:"".concat(n.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}}(e,E,b.current)},[E]),H=a.useCallback(function(e){return function(e,n,r,i,o){var s,a,l,c,u,d,h,p=n?"right":"left",f=n?-1:1,m=r.length,g=e.start.left*f,b=e.size,y=b.height,v=b.width;if(i===t.nE.DualPageWithCover){var w=o===t.VT.Page?0:e.start.top;return 0===e.index||m%2==0&&e.index===m-1?((s={height:"".concat(y,"px"),minWidth:"".concat(Ze(r,i),"px"),width:"100%"})[p]=0,s.position="absolute",s.top=0,s.transform="translate(".concat(g,"px, ").concat(w,"px)"),s):((a={height:"".concat(y,"px"),width:"".concat(v,"px")})[p]=0,a.position="absolute",a.top=0,a.transform="translate(".concat(g,"px, ").concat(w,"px)"),a)}if(i===t.nE.DualPage)return(l={height:"".concat(y,"px"),width:"".concat(v,"px")})[p]=0,l.position="absolute",l.top=0,l.transform="translate(".concat(g,"px, ").concat(o===t.VT.Page?0:e.start.top,"px)"),l;switch(o){case t.VT.Horizontal:return(c={height:"100%",width:"".concat(v,"px")})[p]=0,c.position="absolute",c.top=0,c.transform="translateX(".concat(g,"px)"),c;case t.VT.Page:return(u={height:"".concat(y,"px"),width:"".concat(v,"px")})[p]=0,u.position="absolute",u.top=0,u;case t.VT.Wrapped:return(d={height:"".concat(y,"px"),width:"".concat(v,"px")})[p]=0,d.position="absolute",d.top=0,d.transform="translate(".concat(g,"px, ").concat(e.start.top,"px)"),d;case t.VT.Vertical:default:return(h={height:"".concat(y,"px"),width:"100%"})[p]=0,h.position="absolute",h.top=0,h.transform="translateY(".concat(e.start.top,"px)"),h}}(e,r,l,y.current,b.current)},[r,l]),$=a.useCallback(function(e,n){var r=k.current,o=r.measurements,s=r.scrollOffset,a=o[Xe(0,i-1,n)];if(a){var l=b.current===t.VT.Page?{left:a.start.left,top:a.start.top}:{left:s.left*e,top:s.top*e};return x(l,!1)}return Promise.resolve()},[]);return a.useEffect(function(){return function(){T.disconnect()}},[]),{boundingClientRect:E,isSmoothScrolling:p,startPage:I,endPage:N,maxVisbilityIndex:j,virtualItems:R,getContainerStyles:U,getItemContainerStyles:q,getItemStyles:H,scrollToItem:L,scrollToNextItem:V,scrollToPreviousItem:z,zoom:$}},ct=function(e,n,r,i,o,s){var a=r;switch(!0){case o===t.nE.DualPageWithCover&&s>=3:case o===t.nE.DualPage&&s>=3:a=2*r;break;default:a=r}switch(i){case t.dD.ActualSize:return 1;case t.dD.PageFit:return Math.min((e.clientWidth-17)/a,(e.clientHeight-16)/n);case t.dD.PageWidth:return(e.clientWidth-17)/a}},ut=function(e){var t=[];return e.map(function(e){t=t.concat(e).concat(function(e){var t=[];return e.items&&e.items.length>0&&(t=t.concat(ut(e.items))),t}(e))}),t},dt={capture:!1,passive:!0},ht={height:0,width:0},pt={height:0,width:0},ft=function(e){var n=e.getCurrentPage,r=e.getCurrentScrollMode,i=e.jumpToPage,o=e.targetRef,s=a.useState(t.HG.Normal),l=s[0],c=s[1],u=function(){var e=a.useState(ht),t=e[0],n=e[1],r=M(function(){n({height:window.innerHeight,width:window.innerWidth})},100);return g(function(){return window.addEventListener("resize",r,dt),function(){window.removeEventListener("resize",r,dt)}},[]),t}(),d=a.useState(pt),h=d[0],p=d[1],f=a.useRef(pt),m=a.useRef(n()),b=a.useRef(pt),y=a.useState(o.current),v=y[0],w=y[1],_=a.useRef();g(function(){o.current!==v&&w(o.current)},[]),g(function(){if(v){var e=new ResizeObserver(function(e){e.forEach(function(e){var t=e.target.getBoundingClientRect(),n=t.height,r=t.width;p({height:n,width:r})})});return e.observe(v),function(){e.unobserve(v),e.disconnect()}}},[v]);var x=a.useCallback(function(e){var n=O();return n&&n!==e?(c(t.HG.Normal),T(n)):Promise.resolve()},[]),E=a.useCallback(function(e){e&&P&&C.FullScreenEnabled in document&&!0===document[C.FullScreenEnabled]&&(w(e),x(e).then(function(){_.current=e,c(t.HG.Entering),function(e){P&&e[C.RequestFullScreen]()}(e)}))},[]),k=a.useCallback(function(){O()&&(c(t.HG.Exitting),T(document))},[]),A=a.useCallback(function(){v&&O()!==v&&c(t.HG.Exitting)},[v]);return a.useEffect(function(){switch(l){case t.HG.Entering:_.current&&(_.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),m.current=n(),f.current={height:window.innerHeight,width:window.innerWidth};break;case t.HG.Entered:r()===t.VT.Page?i(m.current).then(function(){c(t.HG.EnteredCompletely)}):c(t.HG.EnteredCompletely);break;case t.HG.Exitting:_.current&&(_.current.style.backgroundColor="",_.current=null),m.current=n();break;case t.HG.Exited:c(t.HG.Normal),r()===t.VT.Page&&i(m.current)}},[l]),a.useEffect(function(){if(l!==t.HG.Normal)return l===t.HG.Entering&&u.height===h.height&&u.width===h.width&&u.height>0&&u.width>0&&(0===b.current.height||u.height==b.current.height)?(b.current={height:window.innerHeight,width:window.innerWidth},void c(t.HG.Entered)):void(l===t.HG.Exitting&&f.current.height===u.height&&f.current.width===u.width&&u.height>0&&u.width>0&&c(t.HG.Exited))},[l,u,h]),a.useEffect(function(){var e;return e=A,P&&document.addEventListener(C.FullScreenChange,e),function(){!function(e){P&&document.removeEventListener(C.FullScreenChange,e)}(A)}},[v]),{enterFullScreenMode:E,exitFullScreenMode:k,fullScreenMode:l}},mt={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},gt={left:0,top:0},bt=function(e){var n=e.currentFile,r=e.defaultScale,i=e.doc,o=e.enableSmoothScroll,s=e.initialPage,l=e.initialRotation,c=e.initialScale,u=e.pageLayout,d=e.pageSizes,p=e.plugins,b=e.renderPage,y=e.scrollMode,v=e.setRenderRange,w=e.viewMode,_=e.viewerState,x=e.onDocumentLoad,E=e.onOpenFile,k=e.onPageChange,A=e.onRotate,S=e.onRotatePage,P=e.onZoom,C=i.numPages,T=i.loadingTask.docId,O=a.useContext(F).l10n,N=a.useContext(f),j=N.direction===t.z4.RightToLeft,L=a.useRef(),B=a.useRef(),V=a.useState(s),z=V[0],U=V[1],q=a.useRef(null),H=function(e){var t,n=e.getCurrentPage,r=(t=a.useRef([]),a.useEffect(function(){return function(){t.current=[]}},[]),{push:function(e){var n=t.current;n.length+1>50&&n.shift(),n.push(e),t.current=n},map:function(e){return t.current.map(function(t){return e(t)})},pop:function(){var e=t.current;if(0===e.length)return null;var n=e.pop();return t.current=e,n}}),i=function(){var e=a.useRef([]);return a.useEffect(function(){return function(){e.current=[]}},[]),{dequeue:function(){var t=e.current;if(0===t.length)return null;var n=t.shift();return e.current=t,n||null},enqueue:function(t){var n=e.current;n.length+1>50&&n.pop(),e.current=[t].concat(n)},map:function(t){return e.current.map(function(e){return t(e)})}}}(),o=function(){var e=i.dequeue();return e&&r.push(e),e&&e.pageIndex===n()?o():e},s=function(){var e=r.pop();return e&&i.enqueue(e),e&&e.pageIndex===n()?s():e},l=a.useCallback(function(e){r.push(e)},[]);return{getNextDestination:o,getPreviousDestination:s,markVisitedDestination:l}}({getCurrentPage:function(){return ye.current.pageIndex}}),$=a.useState(l),W=$[0],G=$[1],J=I(W),Y=a.useState(!1),Q=Y[0],ee=Y[1],te=a.useState(new Map),re=te[0],ie=te[1],oe=a.useState(y),se=oe[0],ae=oe[1],le=I(se),ce=a.useState(w),ue=ce[0],de=ce[1],he=I(ue),pe=function(e){var t=D(),n=a.useState([]),r=n[0],i=n[1];return a.useEffect(function(){e.getOutline().then(function(e){if(t.current&&null!==e){var n=ut(e);i(n)}})},[]),r}(i),fe=a.useState(c),me=fe[0],ge=fe[1],be=I(me),ye=a.useRef(_),ve=a.useRef("string"==typeof r?r:null),we=a.useRef(-1),_e=a.useRef(-1),xe=a.useRef(s),Ee=ft({getCurrentPage:function(){return ye.current.pageIndex},getCurrentScrollMode:function(){return ye.current.scrollMode},jumpToPage:function(e){return He(e)},targetRef:B}),ke=a.useState(-1),Ae=ke[0],Se=ke[1],Pe=a.useState(0),Ce=Pe[0],Te=Pe[1],Oe=R({doc:i});a.useEffect(function(){return function(){X.clear(),Z.clear()}},[T]);var Me=a.useMemo(function(){return Object.assign({},mt,u)},[]),De=a.useMemo(function(){return Array(C).fill(0).map(function(e,t){var n=[d[t].pageHeight,d[t].pageWidth],r=Math.abs(W)%180==0?{height:n[0],width:n[1]}:{height:n[1],width:n[0]},i={height:r.height*me,width:r.width*me};return Me.transformSize({numPages:C,pageIndex:t,size:i})})},[W,me]),Ie=lt({enableSmoothScroll:o,isRtl:j,numberOfItems:C,parentRef:B,scrollMode:se,setRenderRange:v,sizes:De,viewMode:ue}),Ne=M(function(){!ve.current||ye.current.fullScreenMode!==t.HG.Normal||s>0&&xe.current===s||Xe(ve.current)},200);!function(e){var t=e.targetRef,n=e.onResize;g(function(){var e=new ResizeObserver(function(e){e.forEach(function(e){n(e.target)})}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}},[])}({targetRef:B,onResize:Ne});var je=function(e){var t=e;p.forEach(function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))}),ye.current=t},Re=function(){return B.current},Le=function(){return ye.current},Fe=a.useCallback(function(e){H.markVisitedDestination(e)},[]),Be=a.useCallback(function(e){var n=e.pageIndex,r=e.bottomOffset,o=e.leftOffset,s=e.scaleTo,a=B.current,l=ye.current;return a&&l?new Promise(function(e,c){ne(i,n).then(function(i){var c=i.getViewport({scale:1}),u=0,h=("function"==typeof r?r(c.width,c.height):r)||0,p=("function"==typeof o?o(c.width,c.height):o)||0,f=l.scale;switch(s){case t.dD.PageFit:u=0,p=0,Xe(t.dD.PageFit);break;case t.dD.PageWidth:f=ct(a,d[n].pageHeight,d[n].pageWidth,t.dD.PageWidth,w,C),u=(c.height-h)*f,p*=f,Xe(f);break;default:u=(c.height-h)*f,p*=f}switch(l.scrollMode){case t.VT.Horizontal:Ie.scrollToItem(n,{left:p,top:0}).then(function(){e()});break;case t.VT.Vertical:default:Ie.scrollToItem(n,{left:0,top:u}).then(function(){e()})}})}):Promise.resolve()},[]),Ve=a.useCallback(function(e){return H.markVisitedDestination(e),Be(e)},[]),ze=a.useCallback(function(){var e=H.getNextDestination();return e?Be(e):Promise.resolve()},[]),Ue=a.useCallback(function(){var e=H.getPreviousDestination();return e?Be(e):Promise.resolve()},[]),qe=a.useCallback(function(){return Ie.scrollToNextItem(ye.current.pageIndex,gt)},[]),He=a.useCallback(function(e){return 0<=e&&e<C?Ie.scrollToItem(e,gt):Promise.resolve()},[]),$e=a.useCallback(function(){return Ie.scrollToPreviousItem(ye.current.pageIndex,gt)},[]),Ge=a.useCallback(function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise(function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}}).then(function(t){E(e.name,t)})},[E]),Je=a.useCallback(function(e){var n=e===t.pT.Backward?-90:90,r=ye.current.rotation,o=360===r||-360===r?n:r+n;Oe.markNotRendered(),G(o),je(h(h({},ye.current),{rotation:o})),A({direction:e,doc:i,rotation:o})},[]),Ye=a.useCallback(function(e,n){var r=n===t.pT.Backward?-90:90,o=ye.current.pagesRotation,s=(o.has(e)?o.get(e):l)+r,a=o.set(e,s);ie(a),ee(function(e){return!e}),je(h(h({},ye.current),{pagesRotation:a,rotatedPage:e})),S({direction:n,doc:i,pageIndex:e,rotation:s}),Oe.markRendering(e),Se(e)},[]),Ke=a.useCallback(function(e){je(h(h({},ye.current),{scrollMode:e})),ae(e)},[]),Qe=a.useCallback(function(e){je(h(h({},ye.current),{viewMode:e})),de(e)},[]),Xe=a.useCallback(function(e){var t=B.current,n=ye.current.pageIndex;if(!(n<0||n>=C)){var r=d[n].pageHeight,o=d[n].pageWidth,s=t?"string"==typeof e?ct(t,r,o,e,ye.current.viewMode,C):e:1;ve.current="string"==typeof e?e:null,s!==ye.current.scale&&(Te(function(e){return e+1}),Oe.markNotRendered(),ge(s),P({doc:i,scale:s}),je(h(h({},ye.current),{scale:s})))}},[]),Ze=a.useCallback(function(e){Ee.enterFullScreenMode(e)},[]),et=a.useCallback(function(){Ee.exitFullScreenMode()},[]);a.useEffect(function(){je(h(h({},ye.current),{fullScreenMode:Ee.fullScreenMode}))},[Ee.fullScreenMode]),a.useEffect(function(){var e={enterFullScreenMode:Ze,exitFullScreenMode:et,getPagesContainer:Re,getViewerState:Le,jumpToDestination:Ve,jumpToNextDestination:ze,jumpToPreviousDestination:Ue,jumpToNextPage:qe,jumpToPreviousPage:$e,jumpToPage:He,openFile:Ge,rotate:Je,rotatePage:Ye,setViewerState:je,switchScrollMode:Ke,switchViewMode:Qe,zoom:Xe};return p.forEach(function(t){t.install&&t.install(e)}),function(){p.forEach(function(t){t.uninstall&&t.uninstall(e)})}},[T]),a.useEffect(function(){x({doc:i,file:n}),p.forEach(function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:i,file:n})})},[T]);var tt,nt,rt,it=Ie.boundingClientRect;tt=function(){s&&He(s)},nt=it.height>0&&it.width>0,rt=a.useRef(!1),g(function(){nt&&!rt.current&&(rt.current=!0,tt())},[tt,nt]),g(function(){var e=ye.current.pageIndex;e>-1&&le!==se&&Ie.scrollToItem(e,gt).then(function(){Ee.fullScreenMode===t.HG.EnteredCompletely&&(o||Oe.markNotRendered(),we.current=-1)})},[se]),g(function(){var e=ye.current.pageIndex;e>-1&&J!==W&&Ie.scrollToItem(e,gt)},[W]),g(function(){0!=be&&be!=ye.current.scale&&Ie.zoom(ye.current.scale/be,ye.current.pageIndex).then(function(){Ee.fullScreenMode===t.HG.EnteredCompletely&&(_e.current=-1)})},[me]),g(function(){if(he!==ye.current.viewMode){var e=Ie.startPage,t=Ie.endPage,n=Ie.virtualItems;Oe.markNotRendered(),Oe.setRange(e,t);for(var r=function(e){var t=n.find(function(t){return t.index===e});t&&Oe.setVisibility(e,t.visibility)},i=e;i<=t;i++)r(i);st()}},[ue]),g(function(){var e=ye.current.pageIndex;e>-1&&he!==ue&&Ie.scrollToItem(e,gt)},[ue]),g(function(){var e=ye.current.pageIndex;e>0&&e===s&&xe.current===s&&ve.current&&(xe.current=-1,Xe(ve.current))},[z]),a.useEffect(function(){Ie.isSmoothScrolling||null!==q.current&&q.current===z||(q.current=z,k({currentPage:z,doc:i}))},[z,Ie.isSmoothScrolling]),a.useEffect(function(){Ee.fullScreenMode===t.HG.Entering&&ye.current.scrollMode===t.VT.Page&&(we.current=ye.current.pageIndex),Ee.fullScreenMode===t.HG.EnteredCompletely&&ye.current.scrollMode===t.VT.Page&&o&&(we.current=-1),Ee.fullScreenMode===t.HG.EnteredCompletely&&ve.current&&(_e.current=ye.current.pageIndex,Xe(ve.current))},[Ee.fullScreenMode]),a.useEffect(function(){if(Ee.fullScreenMode!==t.HG.Entering&&Ee.fullScreenMode!==t.HG.Exitting&&!Ie.isSmoothScrolling){var e=Ie.startPage,n=Ie.endPage,r=Ie.maxVisbilityIndex,i=Ie.virtualItems,o=r,s=Ee.fullScreenMode===t.HG.Entered||Ee.fullScreenMode===t.HG.EnteredCompletely;if(!(s&&o!==we.current&&we.current>-1||s&&o!==_e.current&&_e.current>-1)){U(o),je(h(h({},ye.current),{pageIndex:o})),Oe.setRange(e,n);for(var a=function(e){var t=i.find(function(t){return t.index===e});t&&Oe.setVisibility(e,t.visibility)},l=e;l<=n;l++)a(l);st()}}},[Ie.startPage,Ie.endPage,Ie.isSmoothScrolling,Ie.maxVisbilityIndex,Ee.fullScreenMode,Q,W,me]);var ot=a.useCallback(function(e){Oe.markRendered(e),st()},[Ce]),st=function(){var e=Oe.getHighestPriorityPage();e>-1&&Oe.isInRange(e)&&(Oe.markRendering(e),Se(e))},at=function(e){var t=z-1,n=z+1;switch(e){case"FirstPage":He(0);break;case"LastPage":He(C-1);break;case"NextPage":n<C&&He(n);break;case"PrevPage":t>=0&&He(t)}},dt=a.useCallback(function(){var e=Ie.virtualItems,n=[];switch(ue){case t.nE.DualPage:n=K(e,2);break;case t.nE.DualPageWithCover:e.length&&(n=0===e[0].index?[[e[0]]].concat(K(e.slice(1),2)):K(e,2));break;case t.nE.SinglePage:default:n=K(e,1)}var r=O&&O.core?O.core.pageLabel:"Page {{pageIndex}}",o={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:L,style:{height:"100%"}},children:a.createElement(a.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:m({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":se===t.VT.Horizontal,"rpv-core__inner-pages--rtl":j,"rpv-core__inner-pages--single":se===t.VT.Page,"rpv-core__inner-pages--vertical":se===t.VT.Vertical,"rpv-core__inner-pages--wrapped":se===t.VT.Wrapped}),ref:B,style:{height:"100%",position:"relative"}},children:a.createElement("div",{"data-testid":"core__inner-current-page-".concat(z),style:Object.assign({"--scale-factor":me},Ie.getContainerStyles())},n.map(function(e){return a.createElement("div",{className:m({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":se===t.VT.Page}),style:Ie.getItemContainerStyles(e[0]),key:"".concat(e[0].index,"-").concat(ue)},e.map(function(e){var n=ue===t.nE.DualPageWithCover&&(0===e.index||C%2==0&&e.index===C-1);return a.createElement("div",{"aria-label":r.replace("{{pageIndex}}","".concat(e.index+1)),className:m({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ue===t.nE.DualPage&&e.index%2==0,"rpv-core__inner-page--dual-odd":ue===t.nE.DualPage&&e.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":ue===t.nE.DualPageWithCover&&!n&&e.index%2==0,"rpv-core__inner-page--dual-cover-odd":ue===t.nE.DualPageWithCover&&!n&&e.index%2==1,"rpv-core__inner-page--single":ue===t.nE.SinglePage&&se===t.VT.Page}),role:"region",key:"".concat(e.index,"-").concat(ue),style:Object.assign({},Ie.getItemStyles(e),Me.buildPageStyles({numPages:C,pageIndex:e.index,scrollMode:se,viewMode:ue}))},a.createElement(We,{doc:i,measureRef:e.measureRef,outlines:pe,pageIndex:e.index,pageRotation:re.has(e.index)?re.get(e.index):0,pageSize:d[e.index],plugins:p,renderPage:b,renderQueueKey:Ce,rotation:W,scale:me,shouldRender:Ae===e.index,viewMode:ue,onExecuteNamedAction:at,onJumpFromLinkAnnotation:Fe,onJumpToDest:Ve,onRenderCompleted:ot,onRotatePage:Ye}))}))}))}};return p.forEach(function(e){e.renderViewer&&(o=e.renderViewer({containerRef:L,doc:i,pagesContainerRef:B,pagesRotation:re,pageSizes:d,rotation:W,slot:o,themeContext:N,jumpToPage:He,openFile:Ge,rotate:Je,rotatePage:Ye,switchScrollMode:Ke,switchViewMode:Qe,zoom:Xe}))}),o},[p,Ie]),ht=a.useCallback(function(e){return a.createElement("div",h({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&ht(e.subSlot))},[]);return ht(dt())},yt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],vt=function(e){var n=e.defaultScale,r=e.doc,i=e.render,o=e.scrollMode,s=e.viewMode,l=a.useRef(),c=a.useState({pageSizes:[],scale:0}),u=c[0],d=c[1];return a.useLayoutEffect(function(){var e=Array(r.numPages).fill(0).map(function(e,t){return new Promise(function(e,n){ne(r,t).then(function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})})})});Promise.all(e).then(function(e){var i=l.current;if(i&&0!==e.length){var a=e[0].pageWidth,c=e[0].pageHeight,u=i.parentElement,h=(u.clientWidth-45)/a,p=(u.clientHeight-45)/c,f=h;switch(o){case t.VT.Horizontal:f=Math.min(h,p);break;case t.VT.Vertical:default:f=h}var m,g,b=n?"string"==typeof n?ct(u,c,a,n,s,r.numPages):n:(m=f,-1===(g=yt.findIndex(function(e){return e>=m}))||0===g?m:yt[g-1]);d({pageSizes:e,scale:b})}})},[r.loadingTask.docId]),0===u.pageSizes.length||0===u.scale?a.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:l},a.createElement(_,null)):i(u.pageSizes,u.scale)},wt=function(){},_t=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.passwordStatus=n,r}return u(t,e),t}(wt),xt=function(e){var n=e.passwordStatus,r=e.renderProtectedView,i=e.verifyPassword,o=e.onDocumentAskPassword,s=a.useContext(F).l10n,l=a.useState(""),c=l[0],u=l[1],d=a.useContext(f).direction===t.z4.RightToLeft,h=function(){return i(c)};return a.useEffect(function(){o&&o({verifyPassword:i})},[]),r?r({passwordStatus:n,verifyPassword:i}):a.createElement("div",{className:"rpv-core__asking-password-wrapper"},a.createElement("div",{className:m({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":d})},a.createElement("div",{className:"rpv-core__asking-password-message"},n===t.a9.RequiredPassword&&s.core.askingPassword.requirePasswordToOpen,n===t.a9.WrongPassword&&s.core.wrongPassword.tryAgain),a.createElement("div",{className:"rpv-core__asking-password-body"},a.createElement("div",{className:m({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!d,"rpv-core__asking-password-input--rtl":d})},a.createElement(x,{testId:"core__asking-password-input",type:"password",value:c,onChange:u,onKeyDown:function(e){"Enter"===e.key&&h()}})),a.createElement(w,{onClick:h},s.core.askingPassword.submit))))},Et=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return u(t,e),t}(wt),kt=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return u(t,e),t}(wt),At=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return u(t,e),t}(wt),St=function(e){var n=e.characterMap,r=e.file,i=e.httpHeaders,o=e.render,s=e.renderError,c=e.renderLoader,u=e.renderProtectedView,d=e.transformGetDocumentParams,h=e.withCredentials,p=e.onDocumentAskPassword,g=a.useContext(f).direction===t.z4.RightToLeft,b=a.useState(new At(0)),y=b[0],v=b[1],w=a.useRef(""),x=D();return a.useEffect(function(){w.current="",v(new At(0));var e=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),o=Object.assign({httpHeaders:i,withCredentials:h,worker:e},"string"==typeof r?{url:r}:{data:r},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),s=d?d(o):o,a=l.getDocument(s);return a.onPassword=function(e,n){switch(n){case l.PasswordResponses.NEED_PASSWORD:x.current&&v(new _t(e,t.a9.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:x.current&&v(new _t(e,t.a9.WrongPassword))}},a.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;x.current&&""===w.current&&v(new At(t))},a.promise.then(function(e){w.current=e.loadingTask.docId,x.current&&v(new Et(e))},function(t){return x.current&&!e.destroyed&&v(new kt({message:t.message||"Cannot load document",name:t.name}))}),function(){a.destroy(),e.destroy()}},[r]),y instanceof _t?a.createElement(xt,{passwordStatus:y.passwordStatus,renderProtectedView:u,verifyPassword:y.verifyPassword,onDocumentAskPassword:p}):y instanceof Et?o(y.doc):y instanceof kt?s?s(y.error):a.createElement("div",{className:m({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":g})},a.createElement("div",{className:"rpv-core__doc-error-text"},y.error.message)):a.createElement("div",{"data-testid":"core__doc-loading",className:m({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":g})},c?c(y.percentages):a.createElement(_,null))},Pt=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}};t.Viewer=function(e){var n=e.characterMap,r=e.defaultScale,i=e.enableSmoothScroll,o=void 0===i||i,s=e.fileUrl,l=e.httpHeaders,c=void 0===l?{}:l,u=e.initialPage,d=void 0===u?0:u,h=e.pageLayout,p=e.initialRotation,m=void 0===p?0:p,g=e.localization,y=e.plugins,v=void 0===y?[]:y,w=e.renderError,_=e.renderLoader,x=e.renderPage,E=e.renderProtectedView,k=e.scrollMode,A=void 0===k?t.VT.Vertical:k,S=e.setRenderRange,P=void 0===S?Pt:S,C=e.transformGetDocumentParams,T=e.theme,O=void 0===T?{direction:t.z4.LeftToRight,theme:"light"}:T,M=e.viewMode,D=void 0===M?t.nE.SinglePage:M,N=e.withCredentials,j=void 0!==N&&N,R=e.onDocumentAskPassword,B=e.onDocumentLoad,V=void 0===B?function(){}:B,z=e.onPageChange,U=void 0===z?function(){}:z,q=e.onRotate,H=void 0===q?function(){}:q,$=e.onRotatePage,W=void 0===$?function(){}:$,G=e.onSwitchTheme,J=void 0===G?function(){}:G,Y=e.onZoom,K=void 0===Y?function(){}:Y,Q=a.useState({data:s,name:"string"==typeof s?s:"",shouldLoad:!1}),X=Q[0],Z=Q[1],ee=function(e,t){Z({data:t,name:e,shouldLoad:!0})},te=a.useState(!1),ne=te[0],re=te[1],ie=I(X);a.useEffect(function(){var e,t,n,r;e=ie.data,r=typeof(t=s),"string"==(n=typeof e)&&"string"===r&&e===t||"object"===n&&"object"===r&&e.length===t.length&&e.every(function(e,n){return e===t[n]})||Z({data:s,name:"string"==typeof s?s:"",shouldLoad:ne})},[s,ne]);var oe=b({onVisibilityChanged:function(e){re(e.isVisible),e.isVisible&&Z(function(e){return Object.assign({},e,{shouldLoad:!0})})}}),se="string"==typeof O?{direction:t.z4.LeftToRight,theme:O}:O,ae=a.useState(g||L),le=ae[0],ce=ae[1],ue={l10n:le,setL10n:ce},de=Object.assign({},{direction:se.direction},function(e,t){var n=a.useMemo(function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e},[]),r=a.useState(n),i=r[0],o=r[1],s=I(i);return a.useEffect(function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){o(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}},[]),a.useEffect(function(){i!==s&&t&&t(i)},[i]),a.useEffect(function(){e!==i&&o(e)},[e]),{currentTheme:i,setCurrentTheme:o}}(se.theme||"light",J));return a.useEffect(function(){g&&ce(g)},[g]),a.createElement(F.Provider,{value:ue},a.createElement(f.Provider,{value:de},a.createElement("div",{ref:oe,className:"rpv-core__viewer rpv-core__viewer--".concat(de.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},X.shouldLoad&&a.createElement(St,{characterMap:n,file:X.data,httpHeaders:c,render:function(e){return a.createElement(vt,{defaultScale:r,doc:e,render:function(n,i){return a.createElement(bt,{currentFile:{data:X.data,name:X.name},defaultScale:r,doc:e,enableSmoothScroll:o,initialPage:d,initialRotation:m,initialScale:i,pageLayout:h,pageSizes:n,plugins:v,renderPage:x,scrollMode:A,setRenderRange:P,viewMode:D,viewerState:{file:X,fullScreenMode:t.HG.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:m,scale:i,scrollMode:A,viewMode:D},onDocumentLoad:V,onOpenFile:ee,onPageChange:U,onRotate:H,onRotatePage:W,onZoom:K})},scrollMode:A,viewMode:D})},renderError:w,renderLoader:_,renderProtectedView:E,transformGetDocumentParams:C,withCredentials:j,onDocumentAskPassword:R}))))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return l.GlobalWorkerOptions.workerSrc=n,a.createElement(a.Fragment,null,t)}},9108:(e,t,n)=>{var r=n(9788);function i(e,t){var n,i=null;if(!e||"string"!=typeof e)return i;for(var o,s,a=r(e),l="function"==typeof t,c=0,u=a.length;c<u;c++)o=(n=a[c]).property,s=n.value,l?t(o,s,n):s&&(i||(i={}),i[o]=s);return i}e.exports=i,e.exports.default=i},9219:e=>{e.exports=function(e,t){return e.has(t)}},9302:(e,t,n)=>{var r=n(3488),i=n(6757),o=n(2865);e.exports=function(e,t){return o(i(e,t,r),e+"")}},9312:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},9317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4188),i=n(2118),o=n(551);function s(e,t){(0,o.A)(2,arguments);var n=(0,r.A)(t);return(0,i.default)(e,12*n)}},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},9326:(e,t,n)=>{var r=n(1769),i=n(2428),o=n(6449),s=n(361),a=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(h,u)&&(o(e)||i(e))}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,n)=>{var r=n(4128),i=n(3805),o=n(4394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},9411:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(123),i=n(551);function o(e){(0,i.A)(1,arguments);var t=(0,r.A)(e),n=t.getUTCDay(),o=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}},9417:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},9426:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3954),i=n(2176),o=n(6822);function s(e){var t=(0,i.A)();return function(){var n,i=(0,r.A)(e);if(t){var s=(0,r.A)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,o.A)(this,n)}}},9475:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const i=function(e,t,n){var i,o=r[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i}},9570:(e,t,n)=>{var r=n(7334),i=n(3243),o=n(3488),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},9610:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(123),i=n(9411),o=n(7182),s=n(551),a=6048e5;function l(e){(0,s.A)(1,arguments);var t=(0,r.A)(e),n=(0,i.A)(t).getTime()-(0,o.A)(t).getTime();return Math.round(n/a)+1}},9651:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1609)),o=b(n(5556)),s=b(n(4936)),a=n(2448),l=n(2301),c=b(n(7440)),u=b(n(3652)),d=b(n(838)),h=b(n(2998)),p=b(n(63)),f=b(n(7813)),m=b(n(6942)),g=b(n(1776));function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(y,e);var t,n,o,a,b=(o=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=A(o);if(a){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?k(e):t}(this,e)});function y(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),S(k(n=b.call(this,e,t)),"calcNewSelection",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.props.focusedRange||n.state.focusedRange,i=n.props,o=i.ranges,s=i.onChange,a=i.maxDate,m=i.moveRangeOnFirstSelection,g=i.retainEndDateOnFirstSelection,b=i.disabledDates,y=o[r[0]];if(!y||!s)return{};var v,w=y.startDate,_=y.endDate,x=new Date;if(t)if(0===r[1]){var E=(0,p.default)(_||x,w);w=e,_=m?(0,h.default)(e,E):g?!_||(0,f.default)(e,_)?_:e:e||x,a&&(_=(0,d.default)([_,a])),v=[r[0],1]}else _=e;else w=e.startDate,_=e.endDate;var k=0===r[1];if((0,f.default)(_,w)){k=!k;var A=[_,w];w=A[0],_=A[1]}var S=b.filter(function(e){return(0,u.default)(e,{start:w,end:_})});return S.length>0&&(k?w=(0,h.default)((0,c.default)(S),1):_=(0,h.default)((0,d.default)(S),-1)),v||(v=[(0,l.findNextRangeIndex)(n.props.ranges,r[0]),0]),{wasValid:!(S.length>0),range:{startDate:w,endDate:_},nextFocusRange:v}}),S(k(n),"setSelection",function(e,t){var r=n.props,i=r.onChange,o=r.ranges,s=r.onRangeFocusChange,a=(n.props.focusedRange||n.state.focusedRange)[0],l=o[a];if(l){var c=n.calcNewSelection(e,t);i(S({},l.key||"range".concat(a+1),_(_({},l),c.range))),n.setState({focusedRange:c.nextFocusRange,preview:null}),s&&s(c.nextFocusRange)}}),S(k(n),"handleRangeFocusChange",function(e){n.setState({focusedRange:e}),n.props.onRangeFocusChange&&n.props.onRangeFocusChange(e)}),S(k(n),"updatePreview",function(e){var t;if(e){var r=n.props,i=r.rangeColors,o=r.ranges,s=n.props.focusedRange||n.state.focusedRange,a=(null===(t=o[s[0]])||void 0===t?void 0:t.color)||i[s[0]]||a;n.setState({preview:_(_({},e.range),{},{color:a})})}else n.setState({preview:null})}),n.state={focusedRange:e.initialFocusedRange||[(0,l.findNextRangeIndex)(e.ranges),0],preview:null},n.styles=(0,l.generateStyles)([g.default,e.classNames]),n}return t=y,(n=[{key:"render",value:function(){var e=this;return i.default.createElement(s.default,v({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function(t){e.updatePreview(t?e.calcNewSelection(t):null)}},this.props,{displayMode:"dateRange",className:(0,m.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function(t){return e.setSelection(t,!1)},ref:function(t){e.calendar=t}}))}}])&&x(t.prototype,n),y}(i.Component);P.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},P.propTypes=_(_({},s.default.propTypes),{},{onChange:o.default.func,onRangeFocusChange:o.default.func,className:o.default.string,ranges:o.default.arrayOf(a.rangeShape),moveRangeOnFirstSelection:o.default.bool,retainEndDateOnFirstSelection:o.default.bool});var C=P;t.default=C},9672:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(123),i=n(551);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(e),o=(0,r.A)(t);return n.getTime()>o.getTime()}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},9742:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(123),i=n(551),o=n(4188),s=n(1858);function a(e,t){var n,a,l,c,u,d,h,p;(0,i.A)(1,arguments);var f=(0,s.q)(),m=(0,o.A)(null!==(n=null!==(a=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.A)(e),b=g.getUTCDay(),y=(b<m?7:0)+b-m;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}},9747:(e,t,n)=>{var r=n(7277),i=n(3777),o=n(5389),s=n(6449),a=n(6800);e.exports=function(e,t,n){var l=s(e)?r:i;return n&&a(e,t,n)&&(t=void 0),l(e,o(t,3))}},9764:function(e,t,n){var r;r=e=>(()=>{var t={703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:t=>{"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";r.r(i),r.d(i,{default:()=>w});var e=r(98),t=r.n(e),n=r(697),o=r.n(n);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=function(e){var n=e.pageClassName,r=e.pageLinkClassName,i=e.page,o=e.selected,a=e.activeClassName,l=e.activeLinkClassName,c=e.getEventListener,u=e.pageSelectedHandler,d=e.href,h=e.extraAriaContext,p=e.pageLabelBuilder,f=e.rel,m=e.ariaLabel||"Page "+i+(h?" "+h:""),g=null;return o&&(g="page",m=e.ariaLabel||"Page "+i+" is your current page",n=void 0!==n?n+" "+a:a,void 0!==r?void 0!==l&&(r=r+" "+l):r=l),t().createElement("li",{className:n},t().createElement("a",s({rel:f,role:d?void 0:"button",className:r,href:d,tabIndex:o?"-1":"0","aria-label":m,"aria-current":g,onKeyPress:u},c(u)),p(i)))};a.propTypes={pageSelectedHandler:o().func.isRequired,selected:o().bool.isRequired,pageClassName:o().string,pageLinkClassName:o().string,activeClassName:o().string,activeLinkClassName:o().string,extraAriaContext:o().string,href:o().string,ariaLabel:o().string,page:o().number.isRequired,getEventListener:o().func.isRequired,pageLabelBuilder:o().func.isRequired,rel:o().string};const l=a;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e){var n=e.breakLabel,r=e.breakAriaLabel,i=e.breakClassName,o=e.breakLinkClassName,s=e.breakHandler,a=e.getEventListener,l=i||"break";return t().createElement("li",{className:l},t().createElement("a",c({className:o,role:"button",tabIndex:"0","aria-label":r,onKeyPress:s},a(s)),n))};u.propTypes={breakLabel:o().oneOfType([o().string,o().node]),breakAriaLabel:o().string,breakClassName:o().string,breakLinkClassName:o().string,breakHandler:o().func.isRequired,getEventListener:o().func.isRequired};const d=u;function h(e){return null!=e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var n,r,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=b(i);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function a(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),y(g(n=s.call(this,e)),"handlePreviousPage",function(e){var t=n.state.selected;n.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})}),y(g(n),"handleNextPage",function(e){var t=n.state.selected,r=n.props.pageCount;n.handleClick(e,null,t<r-1?t+1:void 0,{isNext:!0})}),y(g(n),"handlePageSelected",function(e,t){if(n.state.selected===e)return n.callActiveCallback(e),void n.handleClick(t,null,void 0,{isActive:!0});n.handleClick(t,null,e)}),y(g(n),"handlePageChange",function(e){n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))}),y(g(n),"getEventListener",function(e){return y({},n.props.eventListener,e)}),y(g(n),"handleClick",function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.isPrevious,s=void 0!==o&&o,a=i.isNext,l=void 0!==a&&a,c=i.isBreak,u=void 0!==c&&c,d=i.isActive,h=void 0!==d&&d;e.preventDefault?e.preventDefault():e.returnValue=!1;var p=n.state.selected,f=n.props.onClick,m=r;if(f){var g=f({index:t,selected:p,nextSelectedPage:r,event:e,isPrevious:s,isNext:l,isBreak:u,isActive:h});if(!1===g)return;Number.isInteger(g)&&(m=g)}void 0!==m&&n.handlePageChange(m)}),y(g(n),"handleBreakClick",function(e,t){var r=n.state.selected;n.handleClick(t,e,r<e?n.getForwardJump():n.getBackwardJump(),{isBreak:!0})}),y(g(n),"callCallback",function(e){void 0!==n.props.onPageChange&&"function"==typeof n.props.onPageChange&&n.props.onPageChange({selected:e})}),y(g(n),"callActiveCallback",function(e){void 0!==n.props.onPageActive&&"function"==typeof n.props.onPageActive&&n.props.onPageActive({selected:e})}),y(g(n),"getElementPageRel",function(e){var t=n.state.selected,r=n.props,i=r.nextPageRel,o=r.prevPageRel,s=r.selectedPageRel;return t-1===e?o:t===e?s:t+1===e?i:void 0}),y(g(n),"pagination",function(){var e=[],r=n.props,i=r.pageRangeDisplayed,o=r.pageCount,s=r.marginPagesDisplayed,a=r.breakLabel,l=r.breakClassName,c=r.breakLinkClassName,u=r.breakAriaLabels,h=n.state.selected;if(o<=i)for(var p=0;p<o;p++)e.push(n.getPageElement(p));else{var f=i/2,m=i-f;h>o-i/2?f=i-(m=o-h):h<i/2&&(m=i-(f=h));var g,b,y=function(e){return n.getPageElement(e)},v=[];for(g=0;g<o;g++){var w=g+1;if(w<=s)v.push({type:"page",index:g,display:y(g)});else if(w>o-s)v.push({type:"page",index:g,display:y(g)});else if(g>=h-f&&g<=h+(0===h&&i>1?m-1:m))v.push({type:"page",index:g,display:y(g)});else if(a&&v.length>0&&v[v.length-1].display!==b&&(i>0||s>0)){var _=g<h?u.backward:u.forward;b=t().createElement(d,{key:g,breakAriaLabel:_,breakLabel:a,breakClassName:l,breakLinkClassName:c,breakHandler:n.handleBreakClick.bind(null,g),getEventListener:n.getEventListener}),v.push({type:"break",index:g,display:b})}}v.forEach(function(t,n){var r=t;"break"===t.type&&v[n-1]&&"page"===v[n-1].type&&v[n+1]&&"page"===v[n+1].type&&v[n+1].index-v[n-1].index<=2&&(r={type:"page",index:t.index,display:y(t.index)}),e.push(r.display)})}return e}),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,n.state={selected:r},n}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext,i=e.pageCount,o=e.forcePage;void 0===t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(i)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(i,"). Did you forget a Math.ceil()?")),void 0!==t&&t>i-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(i-1,").")),void 0!==o&&o>i-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(o," > ").concat(i-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount,i=t.hrefAllControls;if(n)return i||e>=0&&e<r?n(e+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var n=this.state.selected,r=this.props,i=r.pageClassName,o=r.pageLinkClassName,s=r.activeClassName,a=r.activeLinkClassName,c=r.extraAriaContext,u=r.pageLabelBuilder;return t().createElement(l,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:n===e,rel:this.getElementPageRel(e),pageClassName:i,pageLinkClassName:o,activeClassName:s,activeLinkClassName:a,extraAriaContext:c,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:u,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var n=this.props,r=n.disabledClassName,i=n.disabledLinkClassName,o=n.pageCount,s=n.className,a=n.containerClassName,l=n.previousLabel,c=n.previousClassName,u=n.previousLinkClassName,d=n.previousAriaLabel,p=n.prevRel,m=n.nextLabel,g=n.nextClassName,b=n.nextLinkClassName,y=n.nextAriaLabel,v=n.nextRel,w=this.state.selected,_=0===w,x=w===o-1,E="".concat(h(c)).concat(_?" ".concat(h(r)):""),k="".concat(h(g)).concat(x?" ".concat(h(r)):""),A="".concat(h(u)).concat(_?" ".concat(h(i)):""),S="".concat(h(b)).concat(x?" ".concat(h(i)):""),P=_?"true":"false",C=x?"true":"false";return t().createElement("ul",{className:s||a,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:E},t().createElement("a",f({className:A,href:this.getElementHref(w-1),tabIndex:_?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":P,"aria-label":d,rel:p},this.getEventListener(this.handlePreviousPage)),l)),this.pagination(),t().createElement("li",{className:k},t().createElement("a",f({className:S,href:this.getElementHref(w+1),tabIndex:x?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":C,"aria-label":y,rel:v},this.getEventListener(this.handleNextPage)),m)))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(e.Component);y(v,"propTypes",{pageCount:o().number.isRequired,pageRangeDisplayed:o().number,marginPagesDisplayed:o().number,previousLabel:o().node,previousAriaLabel:o().string,prevPageRel:o().string,prevRel:o().string,nextLabel:o().node,nextAriaLabel:o().string,nextPageRel:o().string,nextRel:o().string,breakLabel:o().oneOfType([o().string,o().node]),breakAriaLabels:o().shape({forward:o().string,backward:o().string}),hrefBuilder:o().func,hrefAllControls:o().bool,onPageChange:o().func,onPageActive:o().func,onClick:o().func,initialPage:o().number,forcePage:o().number,disableInitialCallback:o().bool,containerClassName:o().string,className:o().string,pageClassName:o().string,pageLinkClassName:o().string,pageLabelBuilder:o().func,activeClassName:o().string,activeLinkClassName:o().string,previousClassName:o().string,nextClassName:o().string,previousLinkClassName:o().string,nextLinkClassName:o().string,disabledClassName:o().string,disabledLinkClassName:o().string,breakClassName:o().string,breakLinkClassName:o().string,extraAriaContext:o().string,ariaLabelBuilder:o().func,eventListener:o().string,renderOnZeroPageCount:o().func,selectedPageRel:o().string}),y(v,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const w=v})(),i})(),e.exports=r(n(1609))},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},9788:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function p(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new m(e),v(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var g=[];function b(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return p(r),e=e.slice(r.length),n}}function v(){y(r)}function w(e){var t;for(e=e||[];t=_();)!1!==t&&e.push(t);return e}function _(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return b("End of comment missing");var r=e.slice(2,n-2);return h+=2,p(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function x(){var e=f(),n=y(i);if(n){if(_(),!y(o))return b("property missing ':'");var r=y(s),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return y(a),l}}return v(),function(){var e,t=[];for(w(t);e=x();)!1!==e&&(t.push(e),w(t));return t}()}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9843:e=>{e.exports=function(e){return null==e}},9905:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},9922:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284),i=n(2327);function o(e){var t=(0,i.A)(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},9935:e=>{e.exports=function(){return!1}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;("object"==typeof i||"function"==typeof i)&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,n)=>(__webpack_require__.f[n](e,t),t),[])),__webpack_require__.u=e=>(({42:"reactPlayerTwitch",85:"reactPlayerTiktok",173:"reactPlayerVimeo",262:"reactPlayerHls",340:"reactPlayerWistia",353:"reactPlayerPreview",395:"reactPlayerDash",446:"reactPlayerYouTube",723:"reactPlayerMux",771:"reactPlayerSpotify"}[e]||e)+".js"),__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="ai-job-listing:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var i,o;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=s[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){i=l;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",dataWebpackPrefix+n),i.src=e),inProgress[e]=[t];var c=(t,n)=>{i.onerror=i.onload=null,clearTimeout(u);var r=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(n)),t)return t(n)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=c.bind(null,i.onerror),i.onload=c.bind(null,i.onload),o&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={57:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,i)=>r=e[t]=[n,i]);n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,a]=n,l=0;if(o.some(t=>0!==e[t])){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);a&&a(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=globalThis.webpackChunkai_job_listing=globalThis.webpackChunkai_job_listing||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{scaleBand:()=>VI,scaleDiverging:()=>cB,scaleDivergingLog:()=>uB,scaleDivergingPow:()=>hB,scaleDivergingSqrt:()=>pB,scaleDivergingSymlog:()=>dB,scaleIdentity:()=>sR,scaleImplicit:()=>FI,scaleLinear:()=>oR,scaleLog:()=>mR,scaleOrdinal:()=>BI,scalePoint:()=>UI,scalePow:()=>kR,scaleQuantile:()=>NR,scaleQuantize:()=>jR,scaleRadial:()=>PR,scaleSequential:()=>nB,scaleSequentialLog:()=>rB,scaleSequentialPow:()=>oB,scaleSequentialQuantile:()=>aB,scaleSequentialSqrt:()=>sB,scaleSequentialSymlog:()=>iB,scaleSqrt:()=>AR,scaleSymlog:()=>vR,scaleThreshold:()=>RR,scaleTime:()=>XF,scaleUtc:()=>ZF,tickFormat:()=>rR});const t=window.wp.element,n=window.wp.data,r={id:null,attribute_id:null,value:""},i={settingsAttributes:[],settingsAttributeMetas:[],settingsAttributeMetaTotal:0,settingsAttributeMetaTotalPage:0,loadingSettings:!1,loadingSettingsMeta:!1,settingsMetaForm:{...r},jobSettings:{}},o="SET_META_FORM_DATA",s="GET_SETTINGS_ATTRIBUTES",a="GET_SETTINGS_ATTRIBUTE_METAS",l="SET_SETTINGS_ATTRIBUTE_META_TOTAL",c="SET_SETTINGS_ATTRIBUTE_META_TOTAL_PAGE",u="UPDATE_SETTINGS_ATTRIBUTE_META",d="DELETE_SETTINGS_META",h="SET_LOADING_SETTINGS",p="SET_LOADING_SETTINGS_META",f="FETCH_FROM_API",m="FETCH_FROM_API_UNPARSED",g="GET_JOB_SETTINGS",b="SET_AXILWEB_AJL_JOB_LIMIT",y="CREATE_JOB_POST",v="UPDATE_JOB_POST",w="DELETE_JOB_POST",_="SET_JOB_POST_FORM",x="SET_JOB_POST_FORM_LOADING",E="SET_JOB_POST_FORM_ERROR",k="SET_JOB_FORM_STEP",A="SET_JOB_FORM_STEP_COMPLETED",S="SET_JOB_LISTS",P="SET_JOB",C="SET_JOB_STATUS_COUNT",T="SET_JOB_APPLICATION_LIST",O="SET_JOB_APPLICATION_LOADING",M="SET_JOB_APPLICATION_TOTAL_COUNT",D="SET_JOB_APPLICATION_TOTAL_PAGE",I="SET_JOB_APPLICATION_STATUS_COUNT",N="SET_JOB_APPLICATION",j="SET_JOB_APPLICATION_DETAILS_LOADING",R="SET_APPLICATION_COMMENTS",L="SET_APPLICATION_COMMENTS_LOADING",F="SET_APPLICATION_COMMENT_COUNTS",B="SET_APPLICATION_COMMENT_PAGES",V="SET_JOB_LISTS_LOADING",z="SET_JOB_DETAILS_LOADING",U="SET_JOB_LISTS_TOTAL_COUNT",q="SET_JOB_LISTS_TOTAL_PAGES",H="SET_JOB_AI_DESCRIPTION",$="SET_JOB_AI_DESCRIPTION_LOADING",W="SET_JOB_APPLICATION_DATES",G="SET_JOB_APPLICATION_DATES_LOADING",J="SET_USERS_EMAIL_LISTS",Y="SET_MAIL_NOTIFICATION_USERS_BY_JOB",K="SET_LOADING_MAIL_NOTIFICATION_USERS",Q="SET_JOB_OVERVIEW_STATUS",X="SET_JOB_OVERVIEW_STATUS_LOADING",Z="SET_GENERAL_SETTINGS_FIELD",ee="SET_GENERAL_SETTINGS",te="SET_GENERAL_SETTINGS_LOADING",ne="SET_GENERAL_SETTING_SAVE_LOADING",re="UPDATE_GENERAL_SETTINGS",ie="SET_EMAIL_TEMPLATES",oe="SET_EMAIL_TEMPLATES_LOADING",se="SET_EMAIL_TEMPLATE_DETAILS_LOADING",ae="SET_EMAIL_TEMPLATE_SAVE_LOADING",le="SET_CURRENT_USER",ce=window.wp.i18n,ue="/ai_job_listing/v1/",de=`${ue}jobs`,he=`${ue}has-job-limit`,pe=`${ue}jobs-delete-permanently`,fe=`${ue}jobs-restore`,me=`${ue}update-item`,ge=`${ue}count-job-by-status`,be=`${ue}general-settings`,ye=`${ue}update-setting`,ve=`${ue}general-setting`,we=`${ue}application-lists`,_e=`${ue}count-application-by-status`,xe=`${ue}attributes`,Ee=`${ue}attribute-values`,ke=`${ue}attribute-values-restore`,Ae=`${ue}attribute-values-delete-permanently`,Se=`${ue}apply-job`,Pe=`${ue}application-item-update`,Ce=`${ue}process-comment`,Te=`${ue}get-job-ai-description`,Oe=`${ue}current-user-data`,Me=`${ue}application-report`,De=`${ue}all-users-with-roles`,Ie=`${ue}list-of-users-by-job-id`,Ne=`${ue}update-job-notification-emails`,je=`${ue}email-types`,Re=`${ue}email-templates`,Le=`${ue}search-pages`,Fe=`${ue}jobs-app-stats`;var Be=__webpack_require__(8465),Ve=__webpack_require__.n(Be);const ze={timer:2e3,showConfirmButton:!1},Ue=(e={})=>{const t={iconHtml:'<i class="tio-error" />',customClass:{container:"swal-error"},...ze,...e};Ve().fire(t)},qe=(e={})=>{const t={iconHtml:'<i class="tio-checkmark_circle_outlined" />',customClass:{container:"swal-success"},...ze,...e};Ve().fire(t)},He=(e={})=>{const t={iconHtml:'<i class="tio-error_outlined" />',customClass:{container:"swal-warning"},...ze,...e};Ve().fire(t)};function $e(e){return Array.isArray(e)&&0===e.length?[]:Array.isArray(e)?e.map((e,t)=>{if(e.hasOwnProperty("label")&&e.hasOwnProperty("value"))return""===e.value?null:e;let n=e.id;return null==n&&(n=void 0!==e.value?e.value:t),{label:e?.value||e,value:n}}):void 0}const We=(e,t)=>{if(void 0!==e&&Array.isArray(e)&&null!=t&&""!==t){const n=e.filter(e=>e.value==t);if(n.length>0)return n[0]}return null};var Ge=__webpack_require__(3429);const Je=e=>isNaN(e)?e:Number(e).toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0}),Ye=(e,t)=>{if(e){const n=JSON.parse(e),r=t;if(n[0])for(let e=0;e<n.length;e++)if(n[e].form_key===r)return n[e].value}},Ke=(e,t)=>{if(e){const n=JSON.parse(e),r=t;if(n)for(let e=0;e<n.length;e++)if(n[e].app_mk===r)return n[e].app_mv}},Qe=(e,t)=>{if(e){const n=JSON.parse(e),r=t;if(n)for(let e=0;e<n.length;e++)if(n[e].app_mk===r){let t=n[e].app_mv;return t.startsWith("https")||(t="https://"+t),t}}},Xe=(e,t)=>{if(e){const n=JSON.parse(e),r=t;if(n[0])for(let e=0;e<n.length;e++)if(n[e].form_key===r)return n[e].id}},Ze=(e,t)=>{try{const n={application:{},nextStatus:e.nextStatus,prevStatus:e.prevStatus},r=e.applications.find(e=>e.id==t);if(!r)throw new Error("No Data Found!");return n.application=r,n}catch(e){console.log("Error in getting application details",e)}},et=async e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",t.style.left="-9999px",document.body.appendChild(t),t.select();try{return document.execCommand("copy"),{message:!0}}catch(e){console.error("Oops! Somethings went wrong for copied")}document.body.removeChild(t)},tt=[{value:"$",label:"USD ($)"},{value:"",label:"EUR ()"},{value:"",label:"JPY ()"},{value:"",label:"GBP ()"},{value:"A$",label:"AUD (A$)"},{value:"C$",label:"CAD (C$)"},{value:"CHF",label:"CHF (CHF)"},{value:"CNY",label:"CNY ()"},{value:"krSEK",label:"SEK (kr)"},{value:"$NZD",label:"NZD ($)"},{value:"$MXN",label:"MXN ($)"},{value:"$SGD",label:"SGD ($)"},{value:"$HKD",label:"HKD ($)"},{value:"krNOK",label:"NOK (kr)"},{value:"",label:"KRW ()"},{value:"",label:"TRY ()"},{value:"",label:"RUB ()"},{value:"",label:"INR ()"},{value:"R$",label:"BRL (R$)"},{value:"R",label:"ZAR (R)"},{value:"",label:"PHP ()"},{value:"z",label:"PLN (z)"},{value:"",label:"THB ()"},{value:"Rp",label:"IDR (Rp)"},{value:"K",label:"CZK (K)"},{value:"",label:"ILS ()"},{value:"RM",label:"MYR (RM)"},{value:"Ft",label:"HUF (Ft)"},{value:".",label:"AED (.)"},{value:".",label:"SAR (.)"},{value:"",label:"BDT ()"},{value:"PKR",label:"PKR ()"},{value:"LKR",label:"LKR ()"},{value:"",label:"NGN ()"},{value:"E",label:"EGP (E)"},{value:"KSh",label:"KES (KSh)"},{value:"",label:"VND ()"},{value:"$COP",label:"COP ($)"},{value:"$ARS",label:"ARS ($)"},{value:"$CLP",label:"CLP ($)"},{value:"S/",label:"PEN (S/)"},{value:"",label:"UAH ()"},{value:"lei",label:"RON (lei)"},{value:"",label:"DZD ()"},{value:"",label:"KZT ()"},{value:"QAR",label:"QAR ()"},{value:"..",label:"BHD (..)"},{value:"OMR",label:"OMR ()"},{value:".",label:"JOD (.)"},{value:".",label:"KWD (.)"}],nt=(e,t)=>{const n=e.find(e=>e.name===t);return n?n.value:null},rt=(e,t)=>{const n=e?.sort((e,n)=>e[t].localeCompare(n[t]));return n||null},it={setSettingsAttribute:e=>({type:s,settingsAttributes:e}),setSettingAttributeMetas:e=>({type:a,settingsAttributeMetas:e}),setSettingsAttributeMetaTotal:e=>({type:l,settingsAttributeMetaTotal:e}),setSettingsAttributeMetaTotalPage:e=>({type:c,settingsAttributeMetaTotalPage:e}),setLoadingSettings:e=>({type:h,loadingSettings:e}),setLoadingSettingsMeta:e=>({type:p,loadingSettingsMeta:e}),setMetaFormData:e=>({type:o,settingsMetaForm:e}),setJobSettings:e=>({type:g,jobSettings:e}),fetchFromAPI:e=>({type:f,path:e}),fetchFromAPIUnparsed:e=>({type:m,path:e}),*getSettingAttributeMetas(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield it.setLoadingSettingsMeta(!0);const e=`${Ee}?${t}`,n=yield it.fetchFromAPIUnparsed(e);if(n.data){const e=n?.data?.data[0]?.attribute_id,t=n?.data?.data[0]?.attribute_slug?.name,r={...n?.data,metaAttributeId:e,metaAttributeLabel:t};let i=0,o=0;return void 0!==n.headers&&(o=n.headers.get("X-WP-TotalPages"),i=n.headers.get("X-WP-Total")),yield it.setSettingsAttributeMetaTotal(i),yield it.setSettingsAttributeMetaTotalPage(o),yield it.setSettingAttributeMetas(r),yield it.setLoadingSettingsMeta(!1),r}}catch(e){e.data&&403===e.data.status?Ue({title:(0,ce.__)("Errors","ai-job-listing"),text:e.message+" - "+e.data.status,toast:!0,timer:7e3,position:"center"}):console.error("Error fetching setting attribute metas:",e)}},*setSettingAttributeSingleMeta(e){if(e)try{const t=`${Ee}/${e}`,n=yield it.fetchFromAPI(t);if(n){const{id:e,value:t,attribute_id:r}=n.data[0];yield it.setMetaFormData({id:e,value:t,attribute_id:r})}}catch(e){console.error("Error fetching setting attribute single metas:",e)}},*saveAttributeMeta(e){yield it.setLoadingSettingsMeta(!0);try{let t={};return t=e.id?yield{type:u,payload:e,path:`${Ee}/${e.id}`}:yield{type:"CREATE_SETTINGS_ATTRIBUTE_META",payload:e,path:Ee},e?.id||409===t.status?e?.id&&409!==t.status?qe({title:(0,ce.__)("Updated","ai-job-listing"),text:"Job Settings Updated Successfuly"}):e?.id||409!==t.status||Ue({title:(0,ce.__)("Unsuccessful","ai-job-listing"),text:t.message,timer:3e3}):qe({title:(0,ce.__)("Done","ai-job-listing"),text:"Job Settings Created Successfuly"}),yield it.setMetaFormData({...r}),yield it.setLoadingSettingsMeta(!1),t}catch(e){yield it.setMetaFormData({...r}),yield it.setLoadingSettingsMeta(!1),Ue({title:(0,ce.__)("Errors","ai-job-listing"),text:e.message,toast:!0,position:"bottom"})}},*deleteSettingsMeta(e){try{const t=yield{type:d,payload:e,path:Ee};return t&&qe({title:(0,ce.__)("Moved","ai-job-listing"),text:(0,ce.__)("Job Attribute Moved to Trash Successfully","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Move to Trash Attribute Meta",e)}},*deletePermanentlySettingsMeta(e){try{const t=yield{type:d,payload:e,path:Ae};return t&&qe({title:(0,ce.__)("Deleted","ai-job-listing"),text:(0,ce.__)("Job Attribute Deleted Successfully","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Delete Attribute Meta",e)}},*restoreSettingsMeta(e){try{const t=yield{type:u,payload:e,path:ke};return t&&qe({title:(0,ce.__)("Restored","ai-job-listing"),text:(0,ce.__)("Job Attribute Restored Successfully","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Restore Attribute Meta",e)}},*getJobSettings(){const e=new URLSearchParams({status:"active",posts_per_page:"-1"});try{const t=`${Ee}?${e}`,n=yield it.fetchFromAPI(t);if(n){const e=n?.data?.filter(e=>"job-departments"==e.attribute_slug?.slug),t=n?.data?.filter(e=>"job-types"==e.attribute_slug?.slug),r=n?.data?.filter(e=>"job-shifts"==e.attribute_slug?.slug),i=n?.data?.filter(e=>"job-locations"==e.attribute_slug?.slug),o=n?.data?.filter(e=>"job-education-qualifications"==e.attribute_slug?.slug),s=n?.data?.filter(e=>"job-application-method"==e.attribute_slug?.slug),a=n?.data?.filter(e=>"job-salary-type"==e.attribute_slug?.slug),l=n?.data?.filter(e=>"work-experience"==e.attribute_slug?.slug),c={departments:$e(e),jobType:$e(t),shifts:$e(r),locations:$e(i),qualification:$e(o),jobMethod:$e(s),salaryType:$e(a),experinceYears:$e(l)};rt(c?.departments,"label"),rt(c?.jobType,"label"),rt(c?.shifts,"label"),rt(c?.locations,"label"),rt(c?.qualification,"label"),rt(c?.jobMethod,"label"),rt(c?.salaryType,"label"),rt(c?.experinceYears,"label"),yield it.setJobSettings(c)}}catch(e){console.error("Error Fetching Settings:",e)}}},ot=it,st={getSettingsAttributes(e){const{settingsAttributes:t}=e;return t},getLoadingSettings(e){const{loadingSettings:t}=e;return t},getLoadingSettingsMeta(e){const{loadingSettingsMeta:t}=e;return t},getSettingAttributeMetas(e){const{settingsAttributeMetas:t}=e;return t},getSettingsAttributeMetaTotal(e){const{settingsAttributeMetaTotal:t}=e;return t},getSettingsAttributeMetaTotalPage(e){const{settingsAttributeMetaTotalPage:t}=e;return t},getMetaFormData(e){const{settingsMetaForm:t}=e;return t},getJobSettings(e){const{jobSettings:t}=e;return t}},at=window.wp.apiFetch;var lt=__webpack_require__.n(at);const ct={FETCH_FROM_API:e=>lt()({path:e.path}),FETCH_FROM_API_UNPARSED:e=>lt()({path:e.path,parse:!1}).then(e=>Promise.all([e.headers,e.json()]).then(([e,t])=>({headers:e,data:t}))),CREATE_SETTINGS_ATTRIBUTE_META:e=>lt()({path:e.path,method:"POST",data:e.payload}),UPDATE_SETTINGS_ATTRIBUTE_META:e=>lt()({path:e.path,method:"POST",data:e.payload}),DELETE_SETTINGS_META:e=>lt()({path:e.path,method:"DELETE",data:e.payload})},ut={*getSettingsAttributes(){yield ot.setLoadingSettings(!0);const e=yield ot.fetchFromAPIUnparsed(xe);yield ot.setSettingsAttribute(e.data),yield ot.setLoadingSettings(!1)},*getSettingAttributeMetas(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ot.setLoadingSettingsMeta(!0);const e=`${Ee}?${t}`,n=yield ot.fetchFromAPI(e);if(n){const e=n?.data[0]?.attribute_id,t=n?.data[0]?.attribute_slug?.name,r={...n,metaAttributeId:e,metaAttributeLabel:t};yield ot.setSettingAttributeMetas(r),yield ot.setLoadingSettingsMeta(!1)}}catch(e){console.error("Error fetching setting attribute metas:",e)}}},dt=(0,n.createReduxStore)("ai-job-listing/settings",{reducer:(e=i,t)=>{switch(t.type){case s:return{...e,settingsAttributes:t.settingsAttributes};case h:return{...e,loadingSettings:t.loadingSettings};case p:return{...e,loadingSettingsMeta:t.loadingSettingsMeta};case a:return{...e,settingsAttributeMetas:t.settingsAttributeMetas};case l:return{...e,settingsAttributeMetaTotal:t.settingsAttributeMetaTotal};case c:return{...e,settingsAttributeMetaTotalPage:t.settingsAttributeMetaTotalPage};case o:return{...e,settingsMetaForm:t.settingsMetaForm};case g:return{...e,jobSettings:t.jobSettings}}return e},actions:ot,selectors:st,controls:ct,resolvers:ut}),ht={id:null,title:null,application_deadline:null,job_departments:null,job_types:null,job_shifts:null,job_locations:null,job_education_qualifications:null,job_application_method:null,job_salary_type:null,no_of_vacancies:null,is_required_cv_photo:null,description:"",min_salary:0,max_salary:0,responsibilities:"",benefits:"",requirements:"",experienced_year:null,additional_requirements:"",additional_notes:"",seo_title:null,seo_description:"",feature_image:null,form_step_complete:1,status:"draft"},pt={jobPostForm:{...ht},jobPostFormLoading:!1,jobPostFormError:!1,jobFormStep:1,jobFormStepCompleted:1,jobLists:[],job:{},jobListsLoading:!1,jobDetailsLoading:!1,jobListsTotalCount:0,jobListsTotalPages:0,jobStatusCount:[],jobApplicationList:[],jobApplicationStatusCount:[],jobApplicationLoading:!1,jobApplicationTotalCount:0,jobApplicationTotalPage:0,jobApplication:{},jobApplicationDetailsLoading:!1,jobApplicationComments:[],jobApplicationCommentsLoading:!1,jobApplicationCommentCounts:0,jobApplicationCommentPages:0,hasJobLimit:!1,jobAiDescription:"",jobAiDescriptionLoading:!1,jobApplicationDates:[],jobApplicationDatesLoading:!1,usersEmailList:[],mailNotificationUsersByJob:[],loadingMailNotificationUsers:!1,jobOverviewStatusLoading:!1,jobOverviewStatus:{}},ft={setJobPostForm:e=>({type:_,jobPostForm:e}),setJobAiDescription:e=>({type:H,jobAiDescription:e}),setJobAiDescriptionLoading:e=>({type:$,jobAiDescriptionLoading:e}),setJobPostFormLoading:e=>({type:x,jobPostFormLoading:e}),setJobPostFormError:e=>({type:E,jobPostFormError:e}),setJobFormStep:e=>({type:k,jobFormStep:e}),setJobFormStepCompleted:e=>({type:A,jobFormStepCompleted:e}),setJobLists:e=>({type:S,jobLists:e}),setJob:e=>({type:P,job:e}),setHasJobLimit:e=>({type:b,hasJobLimit:e}),setJobStatusCount:e=>({type:C,jobStatusCount:e}),setJobListsLoading:e=>({type:V,jobListsLoading:e}),setJobDetailsLoading:e=>({type:z,jobDetailsLoading:e}),setJobListsTotalCount:e=>({type:U,jobListsTotalCount:e}),setJobListsTotalPages:e=>({type:q,jobListsTotalPages:e}),setJobApplicationList:e=>({type:T,jobApplicationList:e}),setJobApplicationStatusCount:e=>({type:I,jobApplicationStatusCount:e}),setJobApplicationLoading:e=>({type:O,jobApplicationLoading:e}),setJobApplicationTotalCount:e=>({type:M,jobApplicationTotalCount:e}),setJobApplicationTotalPage:e=>({type:D,jobApplicationTotalPage:e}),setJobApplication:e=>({type:N,jobApplication:e}),setJobApplicationDetailsLoading:e=>({type:j,jobApplicationDetailsLoading:e}),setApplicationComments:e=>({type:R,jobApplicationComments:e}),setApplicationCommentsLoading:e=>({type:L,jobApplicationCommentsLoading:e}),setApplicationCommentCounts:e=>({type:F,jobApplicationCommentCounts:e}),setApplicationCommentPages:e=>({type:B,jobApplicationCommentPages:e}),setJobApplicationDates:e=>({type:W,jobApplicationDates:e}),setJobApplicationDatesLoading:e=>({type:G,jobApplicationDatesLoading:e}),setUsersEmailList:e=>({type:J,usersEmailList:e}),setMailNotificationUsersByJob:e=>({type:Y,mailNotificationUsersByJob:e}),setLoadingMailNotificationUsers:e=>({type:K,loadingMailNotificationUsers:e}),setJobOverviewStatus:e=>({type:Q,jobOverviewStatus:e}),setJobOverviewStatusLoading:e=>({type:X,jobOverviewStatusLoading:e}),fetchFromAPI:e=>({type:f,path:e}),fetchFromAPIUnparsed:e=>({type:m,path:e}),*getHasJobLimit(){const e=yield ft.fetchFromAPI(he);return yield ft.setHasJobLimit(e),e},*saveJobPostForm(e){yield ft.setJobPostFormLoading(!0),yield ft.setJobPostFormError(!1);const t={...e};try{let n={};return n=e.id?yield{type:v,payload:t,path:`${de}/${e.id}`}:yield{type:y,payload:t,path:de},n.id&&(yield ft.getJobPostForm(n.id.toString())),yield ft.setJobPostFormLoading(!1),n}catch(e){yield ft.setJobPostFormLoading(!1),yield ft.setJobPostFormError(!0),Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*generateAiDescription(e){yield ft.setJobAiDescriptionLoading(!0);try{const t=yield{type:"CREATE_OR_UPDATE_API",payload:e,path:Te};return yield ft.setJobAiDescription(t),yield ft.setJobAiDescriptionLoading(!1),t}catch(e){yield ft.setJobAiDescriptionLoading(!1),console.error("Error gerating AI description:",e)}},*getJobPostForm(e){const t=new URLSearchParams({id:e});yield ft.setJobPostFormLoading(!0);try{const e=`${de}?${t}`,n=(yield ft.fetchFromAPI(e))[0];return n&&(yield ft.setJobPostForm({...n,job_departments:Xe(n.attribute_values,"job_departments")??null,job_shifts:Xe(n.attribute_values,"job_shifts")??null,job_types:Xe(n.attribute_values,"job_types")??null,job_locations:Xe(n.attribute_values,"job_locations")??null,job_salary_type:Xe(n.attribute_values,"job_salary_type")??null,job_education_qualifications:Xe(n.attribute_values,"job_education_qualifications")??null,experienced_year:n.experienced_year?.id,experienced_year_label:n.experienced_year?.value}),Number(n.form_step_complete)<5?yield ft.setJobFormStepCompleted(Number(n.form_step_complete)+1):yield ft.setJobFormStepCompleted(Number(n.form_step_complete))),yield ft.setJobPostFormLoading(!1),n}catch(e){console.error("Error fetching single Job:",e)}},*getJobLists(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobListsLoading(!0);const e=yield ft.fetchFromAPIUnparsed(`${de}?${t}`);let n=0,r=0;return void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield ft.setJobListsTotalCount(n),yield ft.setJobListsTotalPages(r),yield ft.setJobLists(e.data),yield ft.setJobListsLoading(!1),e.data}catch(e){console.error("Error Fetching Job List",e)}},*setJobDetails(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobDetailsLoading(!0);const n=`${de}?${t}`,r=(yield ft.fetchFromAPI(n))[0];return r?.id==e.id&&(yield ft.setJob({...r})),yield ft.setJobDetailsLoading(!1),r}catch(e){console.error("Error fetching Job Details:",e)}},*getJobStatusCount(){try{const e=ge,t=yield ft.fetchFromAPI(e);return t&&(yield ft.setJobStatusCount(t)),t}catch(e){console.error("Error fetching Job Status Count:",e)}},*deleteJobPost(e){try{const t=yield{type:w,payload:e,path:de};return t&&qe({title:(0,ce.__)("Moved","ai-job-listing"),text:(0,ce.__)("Job Move to Trash","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Delete Job Post",e)}},*deletePermanentJobPost(e){try{const t=yield{type:w,payload:e,path:pe};return t&&qe({title:(0,ce.__)("Deleted","ai-job-listing"),text:(0,ce.__)("Deleted Job Permanently","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Permanent Delete Job Post",e)}},*updateJobField(e){try{let t={};return t=yield{type:v,payload:e,path:me},t}catch(e){Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*restoreTrashJob(e){try{let t={};return t=yield{type:v,payload:e,path:fe},t&&qe({title:(0,ce.__)("Restored","ai-job-listing"),text:(0,ce.__)("Job Restored Successfully","ai-job-listing"),position:"center"}),t}catch(e){Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*setJobApplications(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobApplicationLoading(!0);const e=yield ft.fetchFromAPIUnparsed(`${we}?${t}`);let n=0,r=0;return void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield ft.setJobApplicationTotalCount(n),yield ft.setJobApplicationTotalPage(r),yield ft.setJobApplicationList(e.data),yield ft.setJobApplicationLoading(!1),e.data}catch(e){console.error("Error Fetching Job Application",e)}},*deleteJobApplication(e){try{const t=yield{type:w,payload:e,path:Se};return t&&qe({title:(0,ce.__)("Moved","ai-job-listing"),text:(0,ce.__)("Application Moved to Trash","ai-job-listing"),position:"center"}),t}catch(e){console.error("Error Delete Job Post",e)}},*setJobApplicationStatus(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobApplicationLoading(!0);const e=yield ft.fetchFromAPI(`${_e}?${t}`);e&&(yield ft.setJobApplicationStatusCount(e)),yield ft.setJobApplicationLoading(!1)}catch(e){console.error("Error fetching Job Application Status Count:",e)}},*updateJobApplicationStatus(e){try{let t={};return t=yield{type:v,payload:e,path:Pe},t}catch(e){Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*setJobApplicationDetails(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobApplicationDetailsLoading(!0);const n=(yield ft.fetchFromAPI(`${we}?${t}`))[0];return n?.id==e.id&&(yield ft.setJobApplication({...n})),yield ft.setJobApplicationDetailsLoading(!1),n}catch(e){console.error("Error Fetching Job Application Details",e)}},*saveApplicationComment(e){try{let t={};return t=yield{type:y,payload:e,path:Ce},t}catch(e){console.error("Error to insert comment",e)}},*setApplicationCommentById(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setApplicationCommentsLoading(!0);const e=yield ft.fetchFromAPIUnparsed(`${Ce}?${t}`);let n=0,r=0;return void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield ft.setApplicationCommentCounts(n),yield ft.setApplicationCommentPages(r),yield ft.setApplicationComments(e.data),yield ft.setApplicationCommentsLoading(!1),e.data}catch(e){console.error("Error Fetching Comments",e)}},*setJobApplicationDateList(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield ft.setJobApplicationDatesLoading(!0);const e=yield ft.fetchFromAPI(`${Me}?${t}`);e&&(yield ft.setJobApplicationDates(e)),yield ft.setJobApplicationDatesLoading(!1)}catch(e){console.error("Error fetching Job Application Dates:",e)}},*getMailNotificationUsersByJob(e){yield ft.setLoadingMailNotificationUsers(!0);try{const t=yield ft.fetchFromAPI(`${Ie}/${e}`);return t&&(yield ft.setMailNotificationUsersByJob(t)),yield ft.setLoadingMailNotificationUsers(!1),t}catch(e){yield ft.setLoadingMailNotificationUsers(!1),console.error("Error fetching Users",e)}},*updateJobNotificationEmail(e){const t={job_notification_emails:e.job_notification_emails};try{let n={};return n=yield{type:v,payload:t,path:`${Ne}/${e.job_id}`},n}catch(e){Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*getUsersEmailList(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{const e=yield ft.fetchFromAPI(`${De}?${t}`);if(e){const t=e.map(e=>({label:e.email,value:e.email}));return yield ft.setUsersEmailList(t),t}}catch(e){console.error("Error fetching Users email",e)}}},mt=ft,gt={getJobPostForm(e){const{jobPostForm:t}=e;return t},getJobAiDescription:e=>e.jobAiDescription,getJobAiDescriptionLoading:e=>e.jobAiDescriptionLoading,getJobPostFormLoading(e){const{jobPostFormLoading:t}=e;return t},getJobPostFormError(e){const{jobPostFormError:t}=e;return t},getJobFormStep(e){const{jobFormStep:t}=e;return t},getJobFormStepCompleted(e){const{jobFormStepCompleted:t}=e;return t},getJobLists(e){const{jobLists:t}=e;return t},getJobListsLoading(e){const{jobListsLoading:t}=e;return t},getJobDetailsLoading(e){const{jobDetailsLoading:t}=e;return t},getJobListsTotalCount(e){const{jobListsTotalCount:t}=e;return t},getJobListsTotalPages(e){const{jobListsTotalPages:t}=e;return t},getJob(e){const{job:t}=e;return t},getHasJobLimit(e){const{hasJobLimit:t}=e;return t},getJobStatusCount(e){const{jobStatusCount:t}=e;return t},getJobApplicationList(e){const{jobApplicationList:t}=e;return t},getJobApplicationStatusCount(e){const{jobApplicationStatusCount:t}=e;return t},getJobApplicationLoading(e){const{jobApplicationLoading:t}=e;return t},getJobApplicationTotalCount(e){const{jobApplicationTotalCount:t}=e;return t},getJobApplicationTotalPage(e){const{jobApplicationTotalPage:t}=e;return t},getJobApplication(e){const{jobApplication:t}=e;return t},getJobApplicationDetailsLoading(e){const{jobApplicationDetailsLoading:t}=e;return t},getApplicationComments(e){const{jobApplicationComments:t}=e;return t},getApplicationCommentsLoading(e){const{jobApplicationCommentsLoading:t}=e;return t},getApplicationCommentCounts(e){const{jobApplicationCommentCounts:t}=e;return t},getApplicationCommentPages(e){const{jobApplicationCommentPages:t}=e;return t},getJobApplicationDates(e){const{jobApplicationDates:t}=e;return t},getJobApplicationDatesLoading(e){const{jobApplicationDatesLoading:t}=e;return t},getUsersEmailList(e){const{usersEmailList:t}=e;return t},getMailNotificationUsersByJob(e){const{mailNotificationUsersByJob:t}=e;return t},getLoadingMailNotificationUsers(e){const{loadingMailNotificationUsers:t}=e;return t},getJobOverviewStatus(e){const{jobOverviewStatus:t}=e;return t},getJobOverviewStatusLoading(e){const{jobOverviewStatusLoading:t}=e;return t}},bt={FETCH_FROM_API:e=>lt()({path:e.path}),FETCH_FROM_API_UNPARSED:e=>lt()({path:e.path,parse:!1}).then(e=>Promise.all([e.headers,e.json()]).then(([e,t])=>({headers:e,data:t}))),CREATE_OR_UPDATE_API:e=>lt()({path:e.path,method:"POST",data:e.payload}),CREATE_JOB_POST:e=>lt()({path:e.path,method:"POST",data:e.payload}),UPDATE_JOB_POST:e=>lt()({path:e.path,method:"POST",data:e.payload}),DELETE_JOB_POST:e=>lt()({path:e.path,method:"DELETE",data:e.payload})},yt={*getHasJobLimit(){const e=yield mt.fetchFromAPIUnparsed(he);yield mt.setHasJobLimit(e.data)},*getJobLists(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setJobListsLoading(!0);const e=yield mt.fetchFromAPIUnparsed(`${de}?${t}`);let n=0,r=0;return void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield mt.setJobListsTotalCount(n),yield mt.setJobListsTotalPages(r),yield mt.setJobLists(e.data),yield mt.setJobListsLoading(!1),e.data}catch(e){console.error("Error Fetching Job List",e)}},*getJob(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setJobDetailsLoading(!0);const n=`${de}?${t}`,r=(yield mt.fetchFromAPI(n))[0];r?.id==e.id&&(yield mt.setJob({...r})),yield mt.setJobDetailsLoading(!1)}catch(e){console.error("Error fetching Job Details:",e)}},*getJobStatusCount(){try{const e=ge,t=yield mt.fetchFromAPI(e);t&&(yield mt.setJobStatusCount(t))}catch(e){console.error("Error fetching Job Status Count:",e)}},*getJobApplicationList(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setJobApplicationLoading(!0);const e=yield mt.fetchFromAPIUnparsed(`${we}?${t}`);let n=0,r=0;void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield mt.setJobApplicationTotalCount(n),yield mt.setJobApplicationTotalPage(r),yield mt.setJobApplicationList(e.data),yield mt.setJobApplicationLoading(!1)}catch(e){console.error("Error Fetching Job Application",e)}},*getJobApplicationStatusCount(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setJobApplicationLoading(!0);const e=yield mt.fetchFromAPI(`${_e}?${t}`);e&&(yield mt.setJobApplicationStatusCount(e)),yield mt.setJobApplicationLoading(!1)}catch(e){console.error("Error fetching Job Application Status Count:",e)}},*getJobApplication(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setJobApplicationDetailsLoading(!0);const n=(yield mt.fetchFromAPI(`${we}?${t}`))[0];n?.id==e.id&&(yield mt.setJobApplication({...n})),yield mt.setJobApplicationDetailsLoading(!1)}catch(e){console.error("Error Fetching Job Application Details",e)}},*getApplicationComments(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{yield mt.setApplicationCommentsLoading(!0);const e=yield mt.fetchFromAPIUnparsed(`${Ce}?${t}`);let n=0,r=0;void 0!==e.headers&&(r=e.headers.get("X-WP-TotalPages"),n=e.headers.get("X-WP-Total")),yield mt.setApplicationCommentCounts(n),yield mt.setApplicationCommentPages(r),yield mt.setApplicationComments(e.data),yield mt.setApplicationCommentsLoading(!1)}catch(e){console.error("Error Fetching Comments",e)}},*getUsersEmailList(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{const e=yield mt.fetchFromAPI(`${De}?${t}`);if(e){const t=e.map(e=>({label:e.email,value:e.email}));yield mt.setUsersEmailList(t)}}catch(e){console.error("Error fetching Users email",e)}},*getMailNotificationUsersByJob(e){yield mt.setLoadingMailNotificationUsers(!0);try{const t=yield mt.fetchFromAPI(`${Ie}/${e}`);t&&(yield mt.setMailNotificationUsersByJob(t)),yield mt.setLoadingMailNotificationUsers(!1)}catch(e){yield mt.setLoadingMailNotificationUsers(!1),console.error("Error fetching Users",e)}},*getJobOverviewStatus(){yield mt.setJobOverviewStatusLoading(!0);try{const e=Fe,t=yield mt.fetchFromAPI(e);return t&&(yield mt.setJobOverviewStatus(t)),yield mt.setJobOverviewStatusLoading(!1),t}catch(e){yield mt.setJobOverviewStatusLoading(!1),console.error("Error fetching Job Status Count:",e)}}},vt=(0,n.createReduxStore)("ai-job-listing/job",{reducer:(e=pt,t)=>{switch(t.type){case _:return{...e,jobPostForm:t.jobPostForm};case H:return{...e,jobAiDescription:t.jobAiDescription};case $:return{...e,jobAiDescriptionLoading:t.jobAiDescriptionLoading};case x:return{...e,jobPostFormLoading:t.jobPostFormLoading};case E:return{...e,jobPostFormError:t.jobPostFormError};case k:return{...e,jobFormStep:t.jobFormStep};case A:return{...e,jobFormStepCompleted:t.jobFormStepCompleted};case S:return{...e,jobLists:t.jobLists};case P:return{...e,job:t.job};case b:return{...e,hasJobLimit:t.hasJobLimit};case C:return{...e,jobStatusCount:t.jobStatusCount};case V:return{...e,jobListsLoading:t.jobListsLoading};case z:return{...e,jobDetailsLoading:t.jobDetailsLoading};case U:return{...e,jobListsTotalCount:t.jobListsTotalCount};case q:return{...e,jobListsTotalPages:t.jobListsTotalPages};case T:return{...e,jobApplicationList:t.jobApplicationList};case I:return{...e,jobApplicationStatusCount:t.jobApplicationStatusCount};case O:return{...e,jobApplicationLoading:t.jobApplicationLoading};case M:return{...e,jobApplicationTotalCount:t.jobApplicationTotalCount};case D:return{...e,jobApplicationTotalPage:t.jobApplicationTotalPage};case N:return{...e,jobApplication:t.jobApplication};case j:return{...e,jobApplicationDetailsLoading:t.jobApplicationDetailsLoading};case R:return{...e,jobApplicationComments:t.jobApplicationComments};case L:return{...e,jobApplicationCommentsLoading:t.jobApplicationCommentsLoading};case F:return{...e,jobApplicationCommentCounts:t.jobApplicationCommentCounts};case B:return{...e,jobApplicationCommentPages:t.jobApplicationCommentPages};case W:return{...e,jobApplicationDates:t.jobApplicationDates};case G:return{...e,jobApplicationDatesLoading:t.jobApplicationDatesLoading};case J:return{...e,usersEmailList:t.usersEmailList};case Y:return{...e,mailNotificationUsersByJob:t.mailNotificationUsersByJob};case K:return{...e,loadingMailNotificationUsers:t.loadingMailNotificationUsers};case Q:return{...e,jobOverviewStatus:t.jobOverviewStatus};case X:return{...e,jobOverviewStatusLoading:t.jobOverviewStatusLoading}}return e},actions:mt,selectors:gt,controls:bt,resolvers:yt}),wt={generalSettingsField:[],generalSettings:{},generalSettingsLoading:!1,generalSettingSaveLoading:!1,emailTemplates:[],emailTemplatesLoading:!1,emailTemplateDetailsLoading:!1,emailTemplateSaveLoading:!1,currentUser:{}},_t={setGeneralSettingsField:e=>({type:Z,generalSettingsField:e}),setGeneralSettings:e=>({type:ee,generalSettings:e}),setGeneralSettingsLoading:e=>({type:te,generalSettingsLoading:e}),setGeneralSettingSaveLoading:e=>({type:ne,generalSettingSaveLoading:e}),setEmailTemplates:e=>({type:ie,emailTemplates:e}),setEmailTemplatesLoading:e=>({type:oe,emailTemplatesLoading:e}),setEmailTemplateDetailsLoading:e=>({type:se,emailTemplateDetailsLoading:e}),setEmailTemplateSaveLoading:e=>({type:ae,emailTemplateSaveLoading:e}),setCurrentUser:e=>({type:le,currentUser:e}),fetchFromAPI:e=>({type:f,path:e}),fetchFromAPIUnparsed:e=>({type:m,path:e}),*getGeneralSettingsField(){try{yield _t.setGeneralSettingsLoading(!0);const e=yield _t.fetchFromAPI(be);return e&&(yield _t.setGeneralSettingsField(e)),yield _t.setGeneralSettingsLoading(!1),e}catch(e){yield _t.setGeneralSettingsLoading(!1),console.error("Error Fetching Global Settings Field",e)}},*getGeneralSettings(){try{yield _t.setGeneralSettingsLoading(!0);const e=yield _t.fetchFromAPI(ve);e&&(yield _t.setGeneralSettings({...e,posts_per_page:10})),yield _t.setGeneralSettingsLoading(!1)}catch(e){yield _t.setGeneralSettingsLoading(!1),console.error("Error Fetching Global Settings",e)}},*updateGeneralSettings(e){yield _t.setGeneralSettingSaveLoading(!0);try{let t={};return t=yield{type:re,payload:e,path:ye},yield _t.setGeneralSettingSaveLoading(!1),t}catch(e){yield _t.setGeneralSettingSaveLoading(!1),Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*getEmailTemplateDetails(e){yield _t.setEmailTemplateDetailsLoading(!0);try{const t=yield _t.fetchFromAPI(`${Re}/${e}`);if(t){const e={id:t?.id,has_notification_status:t?.has_notification_status,subject:t?.subject,message:t?.message,title:t?.type?.name};return yield _t.setEmailTemplateDetailsLoading(!1),e}}catch(e){Ue({title:(0,ce.__)("Error","ai-job-listing"),text:e.message,position:"center"})}},*saveEmailTemplate(e){yield _t.setEmailTemplateSaveLoading(!0);try{let t={};e.id&&(t=yield{type:re,payload:e,path:`${Re}/${e.id}`}),yield _t.setEmailTemplateSaveLoading(!1),t.id==e.id&&qe({title:(0,ce.__)("Updated","ai-job-listing"),text:"Email Template Updated Successfuly"})}catch(e){yield _t.setEmailTemplateSaveLoading(!1),Ue({title:(0,ce.__)("Errors","ai-job-listing"),text:e.message,toast:!0,position:"bottom"})}},*getCareerPage(e){void 0===e&&(e={});const t=new URLSearchParams(e).toString();try{return(yield _t.fetchFromAPI(`${Le}?${t}`)).pages}catch(e){console.error("Error Fetching Pages",e)}}},xt=_t,Et={getGeneralSettingsField(e){const{generalSettingsField:t}=e;return t},getGeneralSettings(e){const{generalSettings:t}=e;return t},getGeneralSettingsLoading(e){const{generalSettingsLoading:t}=e;return t},getGeneralSettingSaveLoading(e){const{generalSettingSaveLoading:t}=e;return t},getEmailTemplates(e){const{emailTemplates:t}=e;return t},getEmailTemplatesLoading(e){const{emailTemplatesLoading:t}=e;return t},getEmailTemplateDetailsLoading(e){const{emailTemplateDetailsLoading:t}=e;return t},getEmailTemplateSaveLoading(e){const{emailTemplateSaveLoading:t}=e;return t},getCurrentUser(e){const{currentUser:t}=e;return t}},kt={FETCH_FROM_API:e=>lt()({path:e.path}),FETCH_FROM_API_UNPARSED:e=>lt()({path:e.path,parse:!1}).then(e=>Promise.all([e.headers,e.json()]).then(([e,t])=>({headers:e,data:t}))),UPDATE_GENERAL_SETTINGS:e=>lt()({path:e.path,method:"POST",data:e.payload})},At={*getGeneralSettingsField(){try{yield xt.setGeneralSettingsLoading(!0);const e=yield xt.fetchFromAPI(be);e&&(yield xt.setGeneralSettingsField(e)),yield xt.setGeneralSettingsLoading(!1)}catch(e){yield xt.setGeneralSettingsLoading(!1),console.error("Error Fetching Global Settings Field",e)}},*getGeneralSettings(){try{yield xt.setGeneralSettingsLoading(!0);const e=yield xt.fetchFromAPIUnparsed(ve);e.data&&(yield xt.setGeneralSettings({...e.data,posts_per_page:10})),yield xt.setGeneralSettingsLoading(!1)}catch(e){yield xt.setGeneralSettingsLoading(!1),console.error("Error Fetching Global Settings",e)}},*getEmailTemplates(){yield xt.setEmailTemplatesLoading(!0);const e=yield xt.fetchFromAPI(je);yield xt.setEmailTemplates(e),yield xt.setEmailTemplatesLoading(!1)},*getCurrentUser(){try{const e=yield xt.fetchFromAPI(Oe);e&&(yield xt.setCurrentUser(e))}catch(e){console.error("Error Fetching User Information",e)}}},St=(0,n.createReduxStore)("ai-job-listing/general-settings",{reducer:(e=wt,t)=>{switch(t.type){case Z:return{...e,generalSettingsField:t.generalSettingsField};case ee:return{...e,generalSettings:t.generalSettings};case te:return{...e,generalSettingsLoading:t.generalSettingsLoading};case ne:return{...e,generalSettingSaveLoading:t.generalSettingSaveLoading};case ie:return{...e,emailTemplates:t.emailTemplates};case oe:return{...e,emailTemplatesLoading:t.emailTemplatesLoading};case se:return{...e,emailTemplateDetailsLoading:t.emailTemplateDetailsLoading};case ae:return{...e,emailTemplateSaveLoading:t.emailTemplateSaveLoading};case le:return{...e,currentUser:t.currentUser}}return e},actions:xt,selectors:Et,controls:kt,resolvers:At});(0,n.register)(dt),(0,n.register)(vt),(0,n.register)(St);var Pt=__webpack_require__(1609),Ct=__webpack_require__.t(Pt,2),Tt=__webpack_require__.n(Pt);const Ot=window.ReactDOM;var Mt,Dt=__webpack_require__.n(Ot);function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Mt||(Mt={}));const Nt="popstate";function jt(e,t){if(!1===e||null==e)throw new Error(t)}function Rt(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function Lt(e,t){return{usr:e.state,key:e.key,idx:t}}function Ft(e,t,n,r){return void 0===n&&(n=null),It({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Vt(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Bt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Vt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var zt;function Ut(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i=nn(("string"==typeof t?Vt(t):t).pathname||"/",n);if(null==i)return null;let o=qt(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let e=0;null==s&&e<o.length;++e){let t=tn(i);s=Zt(o[e],t,r)}return s}(e,t,n,!1)}function qt(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(jt(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=an([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(jt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),qt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:Xt(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of Ht(e.path))i(e,t,n);else i(e,t)}),t}function Ht(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=Ht(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(zt||(zt={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const $t=/^:[\w-]+$/,Wt=3,Gt=2,Jt=1,Yt=10,Kt=-2,Qt=e=>"*"===e;function Xt(e,t){let n=e.split("/"),r=n.length;return n.some(Qt)&&(r+=Kt),t&&(r+=Gt),n.filter(e=>!Qt(e)).reduce((e,t)=>e+($t.test(t)?Wt:""===t?Jt:Yt),r)}function Zt(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let e=0;e<r.length;++e){let a=r[e],l=e===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=en({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c),d=a.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=en({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:an([o,u.pathname]),pathnameBase:ln(an([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=an([o,u.pathnameBase]))}return s}function en(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),Rt("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function tn(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Rt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function nn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function rn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function on(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function sn(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=Vt(e):(i=It({},e),jt(!i.pathname||!i.pathname.includes("?"),rn("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),rn("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),rn("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?Vt(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:cn(r),hash:un(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const an=e=>e.join("/").replace(/\/\/+/g,"/"),ln=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",un=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const dn=["post","put","patch","delete"],hn=(new Set(dn),["get",...dn]);function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn.apply(this,arguments)}new Set(hn),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const fn=Pt.createContext(null),mn=Pt.createContext(null),gn=Pt.createContext(null),bn=Pt.createContext(null),yn=Pt.createContext({outlet:null,matches:[],isDataRoute:!1}),vn=Pt.createContext(null);function wn(){return null!=Pt.useContext(bn)}function xn(){return wn()||jt(!1),Pt.useContext(bn).location}function En(e){Pt.useContext(gn).static||Pt.useLayoutEffect(e)}function kn(){let{isDataRoute:e}=Pt.useContext(yn);return e?function(){let{router:e}=function(){let e=Pt.useContext(fn);return e||jt(!1),e}(Dn.UseNavigateStable),t=Nn(In.UseNavigateStable),n=Pt.useRef(!1);En(()=>{n.current=!0});let r=Pt.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,pn({fromRouteId:t},i)))},[e,t]);return r}():function(){wn()||jt(!1);let e=Pt.useContext(fn),{basename:t,future:n,navigator:r}=Pt.useContext(gn),{matches:i}=Pt.useContext(yn),{pathname:o}=xn(),s=JSON.stringify(on(i,n.v7_relativeSplatPath)),a=Pt.useRef(!1);En(()=>{a.current=!0});let l=Pt.useCallback(function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"==typeof n)return void r.go(n);let l=sn(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:an([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,o,e]);return l}()}function An(){let{matches:e}=Pt.useContext(yn),t=e[e.length-1];return t?t.params:{}}function Sn(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=Pt.useContext(gn),{matches:i}=Pt.useContext(yn),{pathname:o}=xn(),s=JSON.stringify(on(i,r.v7_relativeSplatPath));return Pt.useMemo(()=>sn(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function Pn(e,t,n,r){wn()||jt(!1);let{navigator:i}=Pt.useContext(gn),{matches:o}=Pt.useContext(yn),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=xn();if(t){var d;let e="string"==typeof t?Vt(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||jt(!1),c=e}else c=u;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=Ut(e,{pathname:p}),m=function(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));e>=0||jt(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((e,r,i)=>{let o,u=!1,d=null,h=null;var p;n&&(o=a&&r.route.id?a[r.route.id]:void 0,d=r.route.errorElement||Tn,l&&(c<0&&0===i?(jn[p="route-fallback"]||(jn[p]=!0),u=!0,h=null):c===i&&(u=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,i+1)),m=()=>{let t;return t=o?d:u?h:r.route.Component?Pt.createElement(r.route.Component,null):r.route.element?r.route.element:e,Pt.createElement(Mn,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?Pt.createElement(On,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:an([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:an([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&m?Pt.createElement(bn.Provider,{value:{location:pn({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Mt.Pop}},m):m}function Cn(){let e=function(){var e;let t=Pt.useContext(vn),n=function(){let e=Pt.useContext(mn);return e||jt(!1),e}(In.UseRouteError),r=Nn(In.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Pt.createElement(Pt.Fragment,null,Pt.createElement("h2",null,"Unexpected Application Error!"),Pt.createElement("h3",{style:{fontStyle:"italic"}},t),n?Pt.createElement("pre",{style:r},n):null,null)}const Tn=Pt.createElement(Cn,null);class On extends Pt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Pt.createElement(yn.Provider,{value:this.props.routeContext},Pt.createElement(vn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mn(e){let{routeContext:t,match:n,children:r}=e,i=Pt.useContext(fn);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Pt.createElement(yn.Provider,{value:t},r)}var Dn=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dn||{}),In=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(In||{});function Nn(e){let t=function(){let e=Pt.useContext(yn);return e||jt(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}const jn={};function Rn(e){jt(!1)}function Ln(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mt.Pop,navigator:o,static:s=!1,future:a}=e;wn()&&jt(!1);let l=t.replace(/^\/*/,"/"),c=Pt.useMemo(()=>({basename:l,navigator:o,static:s,future:pn({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);"string"==typeof r&&(r=Vt(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=Pt.useMemo(()=>{let e=nn(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:i}},[l,u,d,h,p,f,i]);return null==m?null:Pt.createElement(gn.Provider,{value:c},Pt.createElement(bn.Provider,{children:n,value:m}))}function Fn(e){let{children:t,location:n}=e;return Pn(Bn(t),n)}function Bn(e,t){void 0===t&&(t=[]);let n=[];return Pt.Children.forEach(e,(e,r)=>{if(!Pt.isValidElement(e))return;let i=[...t,r];if(e.type===Pt.Fragment)return void n.push.apply(n,Bn(e.props.children,i));e.type!==Rn&&jt(!1),e.props.index&&e.props.children&&jt(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Bn(e.props.children,i)),n.push(o)}),n}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(this,arguments)}Pt.startTransition,new Promise(()=>{}),Pt.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const zn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Lr){}new Map;const Un=Pt.startTransition;function qn(e){let{basename:t,children:n,future:r,window:i}=e,o=Pt.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Mt.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=Mt.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:Bt(e);return n=n.replace(/ $/,"%20"),jt(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(It({},s.state,{idx:c}),""));let p={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nt,d),l=e,()=>{i.removeEventListener(Nt,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Mt.Push;let r=Ft(p.location,e,t);n&&n(r,e),c=u()+1;let d=Lt(r,c),h=p.createHref(r);try{s.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=Mt.Replace;let r=Ft(p.location,e,t);n&&n(r,e),c=u();let i=Lt(r,c),d=p.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=Vt(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Ft("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:Bt(t))},function(e,t){Rt("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}({window:i,v5Compat:!0}));let s=o.current,[a,l]=Pt.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=Pt.useCallback(e=>{c&&Un?Un(()=>l(e)):l(e)},[l,c]);return Pt.useLayoutEffect(()=>s.listen(u),[s,u]),Pt.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[r]),Pt.createElement(Ln,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}Ot.flushSync,Pt.useId;const Hn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,$n=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=Pt.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,zn),{basename:p}=Pt.useContext(gn),f=!1;if("string"==typeof c&&$n.test(c)&&(n=c,Hn))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=nn(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:f=!0}catch(e){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;wn()||jt(!1);let{basename:r,navigator:i}=Pt.useContext(gn),{hash:o,pathname:s,search:a}=Sn(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:an([r,s])),i.createHref({pathname:l,search:a,hash:o})}(c,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=void 0===t?{}:t,l=kn(),c=xn(),u=Sn(e,{relative:s});return Pt.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:Bt(c)===Bt(u);l(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,e,o,s,a])}(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});return Pt.createElement("a",Vn({},h,{href:n||m,onClick:f||o?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});var Gn,Jn;function Yn(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function Kn(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add(()=>e.removeEventListener(n,r,i))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(n))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let n=setTimeout(...e);return t.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return Yn(()=>{n.current&&e[0]()}),t.add(()=>{n.current=!1})},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:r})})},group(e){let t=Kn();return e(t),this.add(()=>t.dispose())},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Qn(){let[e]=(0,Pt.useState)(Kn);return(0,Pt.useEffect)(()=>()=>e.dispose(),[e]),e}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gn||(Gn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Jn||(Jn={}));var Xn=Object.defineProperty,Zn=(e,t,n)=>(((e,t,n)=>{t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let er=new class{constructor(){Zn(this,"current",this.detect()),Zn(this,"handoffState","pending"),Zn(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},tr=(e,t)=>{er.isServer?(0,Pt.useEffect)(e,t):(0,Pt.useLayoutEffect)(e,t)};function nr(e){let t=(0,Pt.useRef)(e);return tr(()=>{t.current=e},[e]),t}let rr=function(e){let t=nr(e);return Pt.useCallback((...e)=>t.current(...e),[t])};function ir(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in Ct&&Ct.useSyncExternalStore(()=>()=>{},()=>!1,()=>!e)}(),[t,n]=Pt.useState(er.isHandoffComplete);return t&&!1===er.isHandoffComplete&&n(!1),Pt.useEffect(()=>{!0!==t&&n(!0)},[t]),Pt.useEffect(()=>er.handoff(),[]),!e&&t}var or;let sr=null!=(or=Pt.useId)?or:function(){let e=ir(),[t,n]=Pt.useState(e?()=>er.nextId():null);return tr(()=>{null===t&&n(er.nextId())},[t]),null!=t?""+t:void 0};function ar(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ar),r}function lr(e){return er.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let cr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ur,dr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(dr||{}),hr=((ur=hr||{})[ur.Error=0]="Error",ur[ur.Overflow=1]="Overflow",ur[ur.Success=2]="Success",ur[ur.Underflow=3]="Underflow",ur),pr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pr||{});function fr(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(cr)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var mr=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(mr||{});function gr(e,t=0){var n;return e!==(null==(n=lr(e))?void 0:n.body)&&ar(t,{0:()=>e.matches(cr),1(){let t=e;for(;null!==t;){if(t.matches(cr))return!0;t=t.parentElement}return!1}})}function br(e){let t=lr(e);Kn().nextFrame(()=>{t&&!gr(t.activeElement,0)&&vr(e)})}var yr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(yr||{});function vr(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let wr=["textarea","input"].join(",");function _r(e,t=e=>e){return e.slice().sort((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xr(e,t){return Er(fr(),t,{relativeTo:e})}function Er(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?_r(e):e:fr(e);i.length>0&&s.length>1&&(s=s.filter(e=>!i.includes(e))),r=null!=r?r:o.activeElement;let a,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(r))-1;if(4&t)return Math.max(0,s.indexOf(r))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=s.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}a=s[e],null==a||a.focus(u),d+=l}while(a!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,wr))&&n}(a)&&a.select(),2}function kr(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ar(e,t,n){let r=nr(t);(0,Pt.useEffect)(()=>{function t(e){r.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)},[e,n])}function Sr(e,t,n){let r=nr(t);(0,Pt.useEffect)(()=>{function t(e){r.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n])}function Pr(e,t,n=!0){let r=(0,Pt.useRef)(!1);function i(n,i){if(!r.current||n.defaultPrevented)return;let o=i(n);if(null===o||!o.getRootNode().contains(o)||!o.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of s){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(o)||n.composed&&n.composedPath().includes(t))return}return!gr(o,mr.Loose)&&-1!==o.tabIndex&&n.preventDefault(),t(n,o)}(0,Pt.useEffect)(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);let o=(0,Pt.useRef)(null);Ar("pointerdown",e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)},!0),Ar("mousedown",e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)},!0),Ar("click",e=>{kr()||/Android/gi.test(window.navigator.userAgent)||o.current&&(i(e,()=>o.current),o.current=null)},!0),Ar("touchend",e=>i(e,()=>e.target instanceof HTMLElement?e.target:null),!0),Sr("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Cr(...e){return(0,Pt.useMemo)(()=>lr(...e),[...e])}function Tr(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Or(e,t){let[n,r]=(0,Pt.useState)(()=>Tr(e));return tr(()=>{r(Tr(e))},[e.type,e.as]),tr(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let Mr=Symbol();function Dr(...e){let t=(0,Pt.useRef)(e);(0,Pt.useEffect)(()=>{t.current=e},[e]);let n=rr(e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)});return e.every(e=>null==e||(null==e?void 0:e[Mr]))?void 0:n}let Ir=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Nr(e){var t,n;let r=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let e of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),o=!0;let s=o?null!=(n=i.innerText)?n:"":r;return Ir.test(s)&&(s=s.replace(Ir,"")),s}function jr(e){return[e.screenX,e.screenY]}let Rr=(0,Pt.createContext)(null);Rr.displayName="OpenClosedContext";var Lr,Fr=((Lr=Fr||{})[Lr.Open=1]="Open",Lr[Lr.Closed=2]="Closed",Lr[Lr.Closing=4]="Closing",Lr[Lr.Opening=8]="Opening",Lr);function Br(){return(0,Pt.useContext)(Rr)}function Vr({value:e,children:t}){return Pt.createElement(Rr.Provider,{value:e},t)}function zr(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var Ur=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ur||{});function qr(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}var Hr=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Hr||{}),$r=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))($r||{});function Wr({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=null!=a?a:Jr;let l=Yr(t,e);if(o)return Gr(l,n,r,s,a);let c=null!=i?i:0;if(2&c){let{static:e=!1,...t}=l;if(e)return Gr(t,n,r,s,a)}if(1&c){let{unmount:e=!0,...t}=l;return ar(e?0:1,{0:()=>null,1:()=>Gr({...t,hidden:!0,style:{display:"none"}},n,r,s,a)})}return Gr(l,n,r,s,a)}function Gr(e,t={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=Xr(e,["unmount","static"]),c=void 0!==e.ref?{[a]:e.ref}:{},u="function"==typeof s?s(t):s;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t));let d={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r);e&&(d["data-headlessui-state"]=n.join(" "))}if(o===Pt.Fragment&&Object.keys(Qr(l)).length>0){if(!(0,Pt.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"));let e=u.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>qr(null==e?void 0:e.className(...t),l.className):qr(null==e?void 0:e.className,l.className),n=t?{className:t}:{};return(0,Pt.cloneElement)(u,Object.assign({},Yr(u.props,Qr(Xr(l,["ref"]))),d,c,{ref:i(u.ref,c.ref)},n))}return(0,Pt.createElement)(o,Object.assign({},Xr(l,["ref"]),o!==Pt.Fragment&&c,o!==Pt.Fragment&&d),u)}function Jr(...e){return e.every(e=>null==e)?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function Yr(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(e=>[e,void 0])));for(let e in n)Object.assign(t,{[e](t,...r){let i=n[e];for(let e of i){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function Kr(e){var t;return Object.assign((0,Pt.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Qr(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function Xr(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}var Zr,ei=((Zr=ei||{}).Space=" ",Zr.Enter="Enter",Zr.Escape="Escape",Zr.Backspace="Backspace",Zr.Delete="Delete",Zr.ArrowLeft="ArrowLeft",Zr.ArrowUp="ArrowUp",Zr.ArrowRight="ArrowRight",Zr.ArrowDown="ArrowDown",Zr.Home="Home",Zr.End="End",Zr.PageUp="PageUp",Zr.PageDown="PageDown",Zr.Tab="Tab",Zr),ti=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ti||{}),ni=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ni||{}),ri=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ri||{});function ii(e,t=e=>e){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=_r(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let oi={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n;let r=ii(e),i=function(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=i+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return-1===o||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=ii(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=ii(e,e=>{let n=e.findIndex(e=>e.id===t.id);return-1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}}},si=(0,Pt.createContext)(null);function ai(e){let t=(0,Pt.useContext)(si);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ai),t}return t}function li(e,t){return ar(t.type,oi,e,t)}si.displayName="MenuContext";let ci=Pt.Fragment,ui=Hr.RenderStrategy|Hr.Static,di=Pt.Fragment,hi=Kr(function(e,t){let{__demoMode:n=!1,...r}=e,i=(0,Pt.useReducer)(li,{__demoMode:n,menuState:n?0:1,buttonRef:(0,Pt.createRef)(),itemsRef:(0,Pt.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:s,buttonRef:a},l]=i,c=Dr(t);Pr([a,s],(e,t)=>{var n;l({type:1}),gr(t,mr.Loose)||(e.preventDefault(),null==(n=a.current)||n.focus())},0===o);let u=rr(()=>{l({type:1})}),d=(0,Pt.useMemo)(()=>({open:0===o,close:u}),[o,u]),h={ref:c};return Pt.createElement(si.Provider,{value:i},Pt.createElement(Vr,{value:ar(o,{0:Fr.Open,1:Fr.Closed})},Wr({ourProps:h,theirProps:r,slot:d,defaultTag:ci,name:"Menu"})))}),pi=Kr(function(e,t){var n;let r=sr(),{id:i=`headlessui-menu-button-${r}`,...o}=e,[s,a]=ai("Menu.Button"),l=Dr(s.buttonRef,t),c=Qn(),u=rr(e=>{switch(e.key){case ei.Space:case ei.Enter:case ei.ArrowDown:e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Ur.First}));break;case ei.ArrowUp:e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:Ur.Last}))}}),d=rr(e=>{e.key===ei.Space&&e.preventDefault()}),h=rr(t=>{if(zr(t.currentTarget))return t.preventDefault();e.disabled||(0===s.menuState?(a({type:1}),c.nextFrame(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),a({type:0})))}),p=(0,Pt.useMemo)(()=>({open:0===s.menuState}),[s]);return Wr({ourProps:{ref:l,id:i,type:Or(e,s.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=s.itemsRef.current)?void 0:n.id,"aria-expanded":0===s.menuState,onKeyDown:u,onKeyUp:d,onClick:h},theirProps:o,slot:p,defaultTag:"button",name:"Menu.Button"})}),fi=Kr(function(e,t){var n,r;let i=sr(),{id:o=`headlessui-menu-items-${i}`,...s}=e,[a,l]=ai("Menu.Items"),c=Dr(a.itemsRef,t),u=Cr(a.itemsRef),d=Qn(),h=Br(),p=null!==h?(h&Fr.Open)===Fr.Open:0===a.menuState;(0,Pt.useEffect)(()=>{let e=a.itemsRef.current;e&&0===a.menuState&&e!==(null==u?void 0:u.activeElement)&&e.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),function({container:e,accept:t,walk:n,enabled:r=!0}){let i=(0,Pt.useRef)(t),o=(0,Pt.useRef)(n);(0,Pt.useEffect)(()=>{i.current=t,o.current=n},[t,n]),tr(()=>{if(!e||!r)return;let t=lr(e);if(!t)return;let n=i.current,s=o.current,a=Object.assign(e=>n(e),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)s(l.currentNode)},[e,r,i,o])}({container:a.itemsRef.current,enabled:0===a.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let f=rr(e=>{var t,n;switch(d.dispose(),e.key){case ei.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case ei.Enter:if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==a.activeItemIndex){let{dataRef:e}=a.items[a.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}br(a.buttonRef.current);break;case ei.ArrowDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:Ur.Next});case ei.ArrowUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:Ur.Previous});case ei.Home:case ei.PageUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:Ur.First});case ei.End:case ei.PageDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:Ur.Last});case ei.Escape:e.preventDefault(),e.stopPropagation(),l({type:1}),Kn().nextFrame(()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case ei.Tab:e.preventDefault(),e.stopPropagation(),l({type:1}),Kn().nextFrame(()=>{xr(a.buttonRef.current,e.shiftKey?dr.Previous:dr.Next)});break;default:1===e.key.length&&(l({type:3,value:e.key}),d.setTimeout(()=>l({type:4}),350))}}),m=rr(e=>{e.key===ei.Space&&e.preventDefault()}),g=(0,Pt.useMemo)(()=>({open:0===a.menuState}),[a]);return Wr({ourProps:{"aria-activedescendant":null===a.activeItemIndex||null==(n=a.items[a.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=a.buttonRef.current)?void 0:r.id,id:o,onKeyDown:f,onKeyUp:m,role:"menu",tabIndex:0,ref:c},theirProps:s,slot:g,defaultTag:"div",features:ui,visible:p,name:"Menu.Items"})}),mi=Kr(function(e,t){let n=sr(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=e,[s,a]=ai("Menu.Item"),l=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===r,c=(0,Pt.useRef)(null),u=Dr(t,c);tr(()=>{if(s.__demoMode||0!==s.menuState||!l||0===s.activationTrigger)return;let e=Kn();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[s.__demoMode,c,l,s.menuState,s.activationTrigger,s.activeItemIndex]);let d=function(e){let t=(0,Pt.useRef)(""),n=(0,Pt.useRef)("");return rr(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():Nr(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return Nr(e).trim()}(r).trim().toLowerCase();return t.current=i,n.current=o,o})}(c),h=(0,Pt.useRef)({disabled:i,domRef:c,get textValue(){return d()}});tr(()=>{h.current.disabled=i},[h,i]),tr(()=>(a({type:5,id:r,dataRef:h}),()=>a({type:6,id:r})),[h,r]);let p=rr(()=>{a({type:1})}),f=rr(e=>{if(i)return e.preventDefault();a({type:1}),br(s.buttonRef.current)}),m=rr(()=>{if(i)return a({type:2,focus:Ur.Nothing});a({type:2,focus:Ur.Specific,id:r})}),g=function(){let e=(0,Pt.useRef)([-1,-1]);return{wasMoved(t){let n=jr(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=jr(t)}}}(),b=rr(e=>g.update(e)),y=rr(e=>{g.wasMoved(e)&&(i||l||a({type:2,focus:Ur.Specific,id:r,trigger:0}))}),v=rr(e=>{g.wasMoved(e)&&(i||l&&a({type:2,focus:Ur.Nothing}))}),w=(0,Pt.useMemo)(()=>({active:l,disabled:i,close:p}),[l,i,p]);return Wr({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:f,onFocus:m,onPointerEnter:b,onMouseEnter:b,onPointerMove:y,onMouseMove:y,onPointerLeave:v,onMouseLeave:v},theirProps:o,slot:w,defaultTag:di,name:"Menu.Item"})}),gi=Object.assign(hi,{Button:pi,Items:fi,Item:mi});const bi=({text:e,customClass:n="",areaClass:r="",areaSpace:i="",backButton:o=!1})=>(0,t.createElement)("div",{className:`flex item-center gap-2.5 ${r} ${i||"mb-5"}`},o&&(0,t.createElement)("button",{type:"button",className:"flex items-center justify-center h-[34px] w-[34px] rounded-full bg-white text-[16px] text-b2-table transition-all hover:bg-secondary hover:text-white",onClick:()=>window.history.back()},(0,t.createElement)("i",{className:"tio-back_ui"})),(0,t.createElement)("h1",{className:`${n} mb-0`},e)),yi=({leftItem:e,rightItem:n,filterItem:r,areaClass:i=""})=>(0,t.createElement)("div",{className:`${i} bg-white p-[15px] rounded mb-2.5`},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("div",{className:"flex items-center gap-2.5"},e),(0,t.createElement)("div",{className:"flex items-center gap-2.5"},n)),r);function vi(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=function(e,t){return t?e.map(function(e){var n=e[0],r=e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var n=e[0],r=e[1];return[t+n,r]})):e});return[n,r]}):e}(Object.entries(e.classGroups),n);return i.forEach(function(e){var n=e[0];xi(e[1],r,n,t)}),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),wi(n,t)||function(e){if(_i.test(e)){var t=_i.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&i[e]?[].concat(r,i[e]):r}}}function wi(e,t){if(0===e.length)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?wi(e.slice(1),r):void 0;if(i)return i;if(0!==t.validators.length){var o=e.join("-");return t.validators.find(function(e){return(0,e.validator)(o)})?.classGroupId}}var _i=/^\[(.+)\]$/;function xi(e,t,n,r){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void xi(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(function(e){var i=e[0];xi(e[1],Ei(t,i),n,r)})}else(""===e?t:Ei(t,e)).classGroupId=n})}function Ei(e,t){var n=e;return t.split("-").forEach(function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n}function ki(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(i,o){n.set(i,o),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):i(e,t)}}}function Ai(e){var t=e.separator||":",n=1===t.length,r=t[0],i=t.length;return function(e){for(var o,s=[],a=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===a){if(u===r&&(n||e.slice(c,c+i)===t)){s.push(e.slice(l,c)),l=c+i;continue}if("/"===u){o=c;continue}}"["===u?a++:"]"===u&&a--}var d=0===s.length?e:e.substring(l),h=d.startsWith("!");return{modifiers:s,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:o&&o>l?o-l:void 0}}}var Si=/\s+/;function Pi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ci(e))&&(r&&(r+=" "),r+=t);return r}function Ci(e){if("string"==typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Ci(e[r]))&&(n&&(n+=" "),n+=t);return n}function Ti(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,s=function(e){var n=t[0],l=t.slice(1).reduce(function(e,t){return t(e)},n());return r=function(e){return{cache:ki(e.cacheSize),splitModifiers:Ai(e),...vi(e)}}(l),i=r.cache.get,o=r.cache.set,s=a,a(e)};function a(e){var t=i(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Si).map(function(e){var t=n(e),i=t.modifiers,o=t.hasImportantModifier,s=t.baseClassName,a=t.maybePostfixModifierPosition,l=r(a?s.substring(0,a):s),c=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(s)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)}),t.push.apply(t,n.sort()),t}(i).join(":");return{isTailwindClass:!0,modifierId:o?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,s=t+n;return!o.has(s)&&(o.add(s),i(n,r).forEach(function(e){return o.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,r);return o(e,n),n}return function(){return s(Pi.apply(null,arguments))}}function Oi(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Mi=/^\[(?:([a-z-]+):)?(.+)\]$/i,Di=/^\d+\/\d+$/,Ii=new Set(["px","full","screen"]),Ni=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ji=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ri=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Li(e){return qi(e)||Ii.has(e)||Di.test(e)||Fi(e)}function Fi(e){return Ki(e,"length",Qi)}function Bi(e){return Ki(e,"size",Xi)}function Vi(e){return Ki(e,"position",Xi)}function zi(e){return Ki(e,"url",Zi)}function Ui(e){return Ki(e,"number",qi)}function qi(e){return!Number.isNaN(Number(e))}function Hi(e){return e.endsWith("%")&&qi(e.slice(0,-1))}function $i(e){return eo(e)||Ki(e,"number",eo)}function Wi(e){return Mi.test(e)}function Gi(){return!0}function Ji(e){return Ni.test(e)}function Yi(e){return Ki(e,"",to)}function Ki(e,t,n){var r=Mi.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function Qi(e){return ji.test(e)}function Xi(){return!1}function Zi(e){return e.startsWith("url(")}function eo(e){return Number.isInteger(Number(e))}function to(e){return Ri.test(e)}function no(){var e=Oi("colors"),t=Oi("spacing"),n=Oi("blur"),r=Oi("brightness"),i=Oi("borderColor"),o=Oi("borderRadius"),s=Oi("borderSpacing"),a=Oi("borderWidth"),l=Oi("contrast"),c=Oi("grayscale"),u=Oi("hueRotate"),d=Oi("invert"),h=Oi("gap"),p=Oi("gradientColorStops"),f=Oi("gradientColorStopPositions"),m=Oi("inset"),g=Oi("margin"),b=Oi("opacity"),y=Oi("padding"),v=Oi("saturate"),w=Oi("scale"),_=Oi("sepia"),x=Oi("skew"),E=Oi("space"),k=Oi("translate"),A=function(){return["auto",Wi,t]},S=function(){return[Wi,t]},P=function(){return["",Li]},C=function(){return["auto",qi,Wi]},T=function(){return["","0",Wi]},O=function(){return[qi,Ui]},M=function(){return[qi,Wi]};return{cacheSize:500,theme:{colors:[Gi],spacing:[Li],blur:["none","",Ji,Wi],brightness:O(),borderColor:[e],borderRadius:["none","","full",Ji,Wi],borderSpacing:S(),borderWidth:P(),contrast:O(),grayscale:T(),hueRotate:M(),invert:T(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Hi,Fi],inset:A(),margin:A(),opacity:O(),padding:S(),saturate:O(),scale:O(),sepia:T(),skew:M(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Wi]}],container:["container"],columns:[{columns:[Ji]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Wi])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$i]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wi]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",$i]}],"grid-cols":[{"grid-cols":[Gi]}],"col-start-end":[{col:["auto",{span:["full",$i]},Wi]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Gi]}],"row-start-end":[{row:["auto",{span:[$i]},Wi]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wi]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wi]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Wi,t]}],"min-w":[{"min-w":["min","max","fit",Wi,Li]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ji]},Ji,Wi]}],h:[{h:[Wi,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Wi,Li]}],"max-h":[{"max-h":[Wi,t,"min","max","fit"]}],"font-size":[{text:["base",Ji,Fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ui]}],"font-family":[{font:[Gi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wi]}],"line-clamp":[{"line-clamp":["none",qi,Ui]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,Li]}],"list-image":[{"list-image":["none",Wi]}],"list-style-type":[{list:["none","disc","decimal",Wi]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Li]}],"underline-offset":[{"underline-offset":["auto",Wi,Li]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wi]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wi]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Vi])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[Wi,Li]}],"outline-w":[{outline:[Li]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Li]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ji,Yi]}],"shadow-color":[{shadow:[Gi]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ji,Wi]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wi]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Wi]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wi]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[$i,Wi]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wi]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wi]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wi]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,Ui]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ro=Ti(no);const io=e=>{const{text:n="",href:r,externalLink:i=!1,icon:o="",type:s="button",btnStyle:a="default",outline:l=!1,buttonCustomClass:c="",disabled:u=!1,onClick:d=()=>{},size:h="default"}=e,p=()=>{let e="inline-flex items-center whitespace-nowrap gap-1 transition decoration-transparent leading-[1]",t="";switch(h){case"large":t="px-[25px] font-bold text-[15px] min-h-[47px]";break;case"mid":t="px-[25px] font-bold text-[14px] min-h-[42px]";break;case"default":t="px-5 py-2.5 font-bold text-[13px] min-h-[38px]"}return"primary"===a&&(e+=` rounded-[100px] !text-white border bg-primary border-primary ${t}`,e+=" hover:text-white hover:bg-primary",e+=" focus:outline-none focus:shadow-none"),"secondary"===a&&(e+=` rounded-[100px] !text-white border bg-secondary border-secondary ${t}`,e+=" hover:text-white hover:bg-secondary",e+=" focus:outline-none focus:shadow-none"),"secondary"===a&&l&&(e+=` border border-secondary !text-secondary bg-transparent ${t}`,e+=" hover:!text-white"),"light"===a&&l&&(e+=` rounded-[100px] text-b2-table border border-border-mid ${t}`,e+=" hover:text-white hover:bg-secondary hover:border-secondary",e+=" focus:outline-none focus:shadow-none"),"action"===a&&l&&(e+=" px-2.5 py-[7px] rounded-xsm text-[15px] text-primary border border-border-mid",e+=" hover:bg-primary hover:border-primary hover:text-white",e+=" focus:outline-none focus:shadow-none"),"actionSecondary"===a&&l&&(e+=" px-2.5 py-[7px] rounded-xsm text-[15px] text-secondary border border-border-mid",e+=" hover:bg-secondary hover:border-secondary hover:text-white",e+=" focus:outline-none focus:shadow-none"),"transparentDanger"===a&&(e+=" px-2.5 py-[5.5px] rounded-xsm text-[15px] text-danger",e+=" hover:text-danger",e+=" focus:outline-none focus:shadow-none"),"transparentSecondary"===a&&(e+=" p-[6px] text-[15px] text-secondary",e+=" hover:!underline hover:!underline-offset-2 hover:!decoration-secondary",e+=" focus:outline-none focus:shadow-none"),"transparentPrimary"===a&&(e+=" p-[6px] text-[15px] text-primary",e+=" hover:!underline hover:!underline-offset-2 hover:!decoration-primary",e+=" focus:outline-none focus:shadow-none"),u&&(e+=" opacity-50 cursor-not-allowed pointer-events-none"),null!=c&&(e=`${c} ${e}`),ro(e)};return(0,t.createElement)(t.Fragment,null,void 0===r||i?i?(0,t.createElement)("a",{href:r,target:"_blank",className:p(),onClick:d,rel:"noopener noreferrer"},o&&(0,t.createElement)("i",{className:o}),n):void 0!==r||i?void 0:(0,t.createElement)("button",{type:s,onClick:d,className:p()},o&&(0,t.createElement)("i",{className:o}),n):(0,t.createElement)(Wn,{to:r,className:p(),onClick:d},o&&(0,t.createElement)("i",{className:o}),n))};function oo({children:e=(0,t.createElement)(t.Fragment,null),htmlFor:n,className:r=""}){return(0,t.createElement)("label",{className:`${r} block text-headline text-b3-bold mb-[8px]`,htmlFor:n},e)}var so=__webpack_require__(4467);function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach(function(t){(0,so.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var co=__webpack_require__(7800);function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||(0,co.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function po(e,t){if(null==e)return{};var n,r,i=ho(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fo=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(null,arguments)}var go=__webpack_require__(3029),bo=__webpack_require__(2901),yo=__webpack_require__(5501),vo=__webpack_require__(9426),wo=__webpack_require__(3145);function _o(e){return function(e){if(Array.isArray(e))return(0,wo.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,co.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xo=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Eo=Math.abs,ko=String.fromCharCode,Ao=Object.assign;function So(e){return e.trim()}function Po(e,t,n){return e.replace(t,n)}function Co(e,t){return e.indexOf(t)}function To(e,t){return 0|e.charCodeAt(t)}function Oo(e,t,n){return e.slice(t,n)}function Mo(e){return e.length}function Do(e){return e.length}function Io(e,t){return t.push(e),e}var No=1,jo=1,Ro=0,Lo=0,Fo=0,Bo="";function Vo(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:No,column:jo,length:s,return:""}}function zo(e,t){return Ao(Vo("",null,null,"",null,null,0),e,{length:-e.length},t)}function Uo(){return Fo=Lo>0?To(Bo,--Lo):0,jo--,10===Fo&&(jo=1,No--),Fo}function qo(){return Fo=Lo<Ro?To(Bo,Lo++):0,jo++,10===Fo&&(jo=1,No++),Fo}function Ho(){return To(Bo,Lo)}function $o(){return Lo}function Wo(e,t){return Oo(Bo,e,t)}function Go(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jo(e){return No=jo=1,Ro=Mo(Bo=e),Lo=0,[]}function Yo(e){return Bo="",e}function Ko(e){return So(Wo(Lo-1,Zo(91===e?e+2:40===e?e+1:e)))}function Qo(e){for(;(Fo=Ho())&&Fo<33;)qo();return Go(e)>2||Go(Fo)>3?"":" "}function Xo(e,t){for(;--t&&qo()&&!(Fo<48||Fo>102||Fo>57&&Fo<65||Fo>70&&Fo<97););return Wo(e,$o()+(t<6&&32==Ho()&&32==qo()))}function Zo(e){for(;qo();)switch(Fo){case e:return Lo;case 34:case 39:34!==e&&39!==e&&Zo(Fo);break;case 40:41===e&&Zo(e);break;case 92:qo()}return Lo}function es(e,t){for(;qo()&&e+Fo!==57&&(e+Fo!==84||47!==Ho()););return"/*"+Wo(t,Lo-1)+"*"+ko(47===e?e:qo())}function ts(e){for(;!Go(Ho());)qo();return Wo(e,Lo)}var ns="-ms-",rs="-moz-",is="-webkit-",os="comm",ss="rule",as="decl",ls="@keyframes";function cs(e,t){for(var n="",r=Do(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function us(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case as:return e.return=e.return||e.value;case os:return"";case ls:return e.return=e.value+"{"+cs(e.children,r)+"}";case ss:e.value=e.props.join(",")}return Mo(n=cs(e.children,r))?e.return=e.value+"{"+n+"}":""}function ds(e){return Yo(hs("",null,null,null,[""],e=Jo(e),0,[0],e))}function hs(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,b=1,y=0,v="",w=i,_=o,x=r,E=v;g;)switch(f=y,y=qo()){case 40:if(108!=f&&58==To(E,d-1)){-1!=Co(E+=Po(Ko(y),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:E+=Ko(y);break;case 9:case 10:case 13:case 32:E+=Qo(f);break;case 92:E+=Xo($o()-1,7);continue;case 47:switch(Ho()){case 42:case 47:Io(fs(es(qo(),$o()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Mo(E)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==b&&(E=Po(E,/\f/g,"")),p>0&&Mo(E)-d&&Io(p>32?ms(E+";",r,n,d-1):ms(Po(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Io(x=ps(E,t,n,c,u,i,a,v,w=[],_=[],d),o),123===y)if(0===u)hs(E,t,x,x,w,o,d,a,_);else switch(99===h&&110===To(E,3)?100:h){case 100:case 108:case 109:case 115:hs(e,x,x,r&&Io(ps(e,x,x,0,0,i,a,v,i,w=[],d),_),i,_,d,a,r?w:_);break;default:hs(E,x,x,x,[""],_,0,a,_)}}c=u=p=0,m=b=1,v=E="",d=s;break;case 58:d=1+Mo(E),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Uo())continue;switch(E+=ko(y),y*m){case 38:b=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Mo(E)-1)*b,b=1;break;case 64:45===Ho()&&(E+=Ko(qo())),h=Ho(),u=d=Mo(v=E+=ts($o())),y++;break;case 45:45===f&&2==Mo(E)&&(m=0)}}return o}function ps(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],p=Do(h),f=0,m=0,g=0;f<r;++f)for(var b=0,y=Oo(e,d+1,d=Eo(m=s[f])),v=e;b<p;++b)(v=So(m>0?h[b]+" "+y:Po(y,/&\f/g,h[b])))&&(l[g++]=v);return Vo(e,t,n,0===i?ss:a,l,c,u)}function fs(e,t,n){return Vo(e,t,n,os,ko(Fo),Oo(e,2,-2),0)}function ms(e,t,n,r){return Vo(e,t,n,as,Oo(e,0,r),Oo(e,r+1,-1),r)}var gs=function(e,t,n){for(var r=0,i=0;r=i,i=Ho(),38===r&&12===i&&(t[n]=1),!Go(i);)qo();return Wo(e,Lo)},bs=new WeakMap,ys=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||bs.get(n))&&!r){bs.set(e,!0);for(var i=[],o=function(e,t){return Yo(function(e,t){var n=-1,r=44;do{switch(Go(r)){case 0:38===r&&12===Ho()&&(t[n]=1),e[n]+=gs(Lo-1,t,n);break;case 2:e[n]+=Ko(r);break;case 4:if(44===r){e[++n]=58===Ho()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ko(r)}}while(r=qo());return e}(Jo(e),t))}(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},vs=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ws(e,t){switch(function(e,t){return 45^To(e,0)?(((t<<2^To(e,0))<<2^To(e,1))<<2^To(e,2))<<2^To(e,3):0}(e,t)){case 5103:return is+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return is+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return is+e+rs+e+ns+e+e;case 6828:case 4268:return is+e+ns+e+e;case 6165:return is+e+ns+"flex-"+e+e;case 5187:return is+e+Po(e,/(\w+).+(:[^]+)/,is+"box-$1$2"+ns+"flex-$1$2")+e;case 5443:return is+e+ns+"flex-item-"+Po(e,/flex-|-self/,"")+e;case 4675:return is+e+ns+"flex-line-pack"+Po(e,/align-content|flex-|-self/,"")+e;case 5548:return is+e+ns+Po(e,"shrink","negative")+e;case 5292:return is+e+ns+Po(e,"basis","preferred-size")+e;case 6060:return is+"box-"+Po(e,"-grow","")+is+e+ns+Po(e,"grow","positive")+e;case 4554:return is+Po(e,/([^-])(transform)/g,"$1"+is+"$2")+e;case 6187:return Po(Po(Po(e,/(zoom-|grab)/,is+"$1"),/(image-set)/,is+"$1"),e,"")+e;case 5495:case 3959:return Po(e,/(image-set\([^]*)/,is+"$1$`$1");case 4968:return Po(Po(e,/(.+:)(flex-)?(.*)/,is+"box-pack:$3"+ns+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+is+e+e;case 4095:case 3583:case 4068:case 2532:return Po(e,/(.+)-inline(.+)/,is+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mo(e)-1-t>6)switch(To(e,t+1)){case 109:if(45!==To(e,t+4))break;case 102:return Po(e,/(.+:)(.+)-([^]+)/,"$1"+is+"$2-$3$1"+rs+(108==To(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Co(e,"stretch")?ws(Po(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==To(e,t+1))break;case 6444:switch(To(e,Mo(e)-3-(~Co(e,"!important")&&10))){case 107:return Po(e,":",":"+is)+e;case 101:return Po(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+is+(45===To(e,14)?"inline-":"")+"box$3$1"+is+"$2$3$1"+ns+"$2box$3")+e}break;case 5936:switch(To(e,t+11)){case 114:return is+e+ns+Po(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return is+e+ns+Po(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return is+e+ns+Po(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return is+e+ns+e+e}return e}var _s=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case as:e.return=ws(e.value,e.length);break;case ls:return cs([zo(e,{value:Po(e.value,"@","@"+is)})],r);case ss:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return cs([zo(e,{props:[Po(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return cs([zo(e,{props:[Po(t,/:(plac\w+)/,":"+is+"input-$1")]}),zo(e,{props:[Po(t,/:(plac\w+)/,":-moz-$1")]}),zo(e,{props:[Po(t,/:(plac\w+)/,ns+"input-$1")]})],r)}return""})}}],xs=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,i,o=e.stylisPlugins||_s,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var l,c,u,d,h=[us,(d=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],p=(c=[ys,vs].concat(o,h),u=Do(c),function(e,t,n,r){for(var i="",o=0;o<u;o++)i+=c[o](e,t,n,r)||"";return i});i=function(e,t,n,r){l=n,cs(ds(e?e+"{"+t.styles+"}":t.styles),p),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new xo({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return f.sheet.hydrate(a),f},Es=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ks={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function As(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ss=/[A-Z]|^ms/g,Ps=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cs=function(e){return 45===e.charCodeAt(1)},Ts=function(e){return null!=e&&"boolean"!=typeof e},Os=As(function(e){return Cs(e)?e:e.replace(Ss,"-$&").toLowerCase()}),Ms=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ps,function(e,t,n){return Is={name:t,styles:n,next:Is},t})}return 1===ks[e]||Cs(e)||"number"!=typeof t||0===t?t:t+"px"};function Ds(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Is={name:i.name,styles:i.styles,next:Is},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Is={name:s.name,styles:s.styles,next:Is},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ds(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Ts(a)&&(r+=Os(o)+":"+Ms(o,a)+";")}else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Ds(e,t,s);switch(o){case"animation":case"animationName":r+=Os(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Ts(s[c])&&(r+=Os(o)+":"+Ms(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Is,l=n(e);return Is=a,Ds(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Is,Ns=/label:\s*([^\s;{]+)\s*(;|$)/g;function js(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Is=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Ds(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Ds(n,t,e[s]),r&&(i+=o[s]);Ns.lastIndex=0;for(var a,l="";null!==(a=Ns.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Is}}var Rs,Ls,Fs=!!Pt.useInsertionEffect&&Pt.useInsertionEffect,Bs=Fs||function(e){return e()},Vs=(Fs||Pt.useLayoutEffect,Pt.createContext("undefined"!=typeof HTMLElement?xs({key:"css"}):null)),zs=(Vs.Provider,function(e){return(0,Pt.forwardRef)(function(t,n){var r=(0,Pt.useContext)(Vs);return e(t,r,n)})}),Us=Pt.createContext({}),qs={}.hasOwnProperty,Hs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$s=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Es(t,n,r),Bs(function(){return function(e,t,n){Es(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}),null},Ws=zs(function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Hs],o=[r],s="";"string"==typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var a=js(o,void 0,Pt.useContext(Us));s+=t.key+"-"+a.name;var l={};for(var c in e)qs.call(e,c)&&"css"!==c&&c!==Hs&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),Pt.createElement(Pt.Fragment,null,Pt.createElement($s,{cache:t,serialized:a,isStringTag:"string"==typeof i}),Pt.createElement(i,l))}),Gs=Ws,Js=(__webpack_require__(4146),function(e,t){var n=arguments;if(null==t||!qs.call(t,"css"))return Pt.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=Gs,i[1]=function(e,t){var n={};for(var r in t)qs.call(t,r)&&(n[r]=t[r]);return n[Hs]=e,n}(e,t);for(var o=2;o<r;o++)i[o]=n[o];return Pt.createElement.apply(null,i)});function Ys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return js(t)}Rs=Js||(Js={}),Ls||(Ls=Rs.JSX||(Rs.JSX={}));var Ks=__webpack_require__(2284);const Qs=Math.min,Xs=Math.max,Zs=Math.round,ea=Math.floor,ta=e=>({x:e,y:e});function na(){return"undefined"!=typeof window}function ra(e){return sa(e)?(e.nodeName||"").toLowerCase():"#document"}function ia(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function oa(e){var t;return null==(t=(sa(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function sa(e){return!!na()&&(e instanceof Node||e instanceof ia(e).Node)}function aa(e){return!!na()&&(e instanceof Element||e instanceof ia(e).Element)}function la(e){return!!na()&&(e instanceof HTMLElement||e instanceof ia(e).HTMLElement)}function ca(e){return!(!na()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ia(e).ShadowRoot)}const ua=new Set(["inline","contents"]);function da(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ua.has(i)}const ha=new Set(["html","body","#document"]);function pa(e){return ia(e).getComputedStyle(e)}function fa(e){const t=function(e){if("html"===ra(e))return e;const t=e.assignedSlot||e.parentNode||ca(e)&&e.host||oa(e);return ca(t)?t.host:t}(e);return function(e){return ha.has(ra(e))}(t)?e.ownerDocument?e.ownerDocument.body:e.body:la(t)&&da(t)?t:fa(t)}function ma(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=fa(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=ia(i);if(o){const e=ga(s);return t.concat(s,s.visualViewport||[],da(i)?i:[],e&&n?ma(e):[])}return t.concat(i,ma(i,[],n))}function ga(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ba(e){return aa(e)?e:e.contextElement}function ya(e){const t=ba(e);if(!la(t))return ta(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=function(e){const t=pa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=la(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Zs(n)!==o||Zs(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}(t);let s=(o?Zs(n.width):n.width)/r,a=(o?Zs(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const va=ta(0);function wa(e){const t=ia(e);return"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:va}function _a(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=ba(e);let s=ta(1);t&&(r?aa(r)&&(s=ya(r)):s=ya(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ia(e))&&t}(o,n,r)?wa(o):ta(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=ia(o),t=r&&aa(r)?ia(r):r;let n=e,i=ga(n);for(;i&&r&&t!==n;){const e=ya(i),t=i.getBoundingClientRect(),r=pa(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,n=ia(i),i=ga(n)}}return function(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}({width:u,height:d,x:l,y:c})}function xa(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}var Ea=Pt.useLayoutEffect,ka=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Aa=function(){};function Sa(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Pa(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&o.push("".concat(Sa(e,s)));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var Ca=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,Ks.A)(e)&&null!==e?[e]:[];var t},Ta=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,lo({},po(e,ka))},Oa=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.className;return{css:i(t,e),className:r(null!=n?n:{},o(t,e),s)}};function Ma(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Da(e){return Ma(e)?window.pageYOffset:e.scrollTop}function Ia(e,t){Ma(e)?window.scrollTo(0,t):e.scrollTop=t}function Na(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Aa,i=Da(e),o=t-i,s=0;!function t(){var a=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(s+=10,i,o,n);Ia(e,a),s<n?window.requestAnimationFrame(t):r(e)}()}function ja(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Ia(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Ia(e,Math.max(t.offsetTop-i,0))}function Ra(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var La=!1,Fa={get passive(){return La=!0}},Ba="undefined"!=typeof window?window:{};Ba.addEventListener&&Ba.removeEventListener&&(Ba.addEventListener("p",Aa,Fa),Ba.removeEventListener("p",Aa,!1));var Va=La;function za(e){return null!=e}function Ua(e,t,n){return e?t:n}var qa=["children","innerProps"],Ha=["children","innerProps"];var $a,Wa=function(e){return"auto"===e?"bottom":e},Ga=(0,Pt.createContext)(null),Ja=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,a=e.theme,l=((0,Pt.useContext)(Ga)||{}).setPortalPlacement,c=(0,Pt.useRef)(null),u=uo((0,Pt.useState)(r),2),d=u[0],h=u[1],p=uo((0,Pt.useState)(null),2),f=p[0],m=p[1],g=a.spacing.controlHeight;return Ea(function(){var e=c.current;if(e){var t="fixed"===o,a=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,s=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,d=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),p=h.bottom,f=h.height,m=h.top,g=n.offsetParent.getBoundingClientRect().top,b=s||Ma(u=l)?window.innerHeight:u.clientHeight,y=Da(l),v=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),_=g-w,x=b-m,E=_+y,k=d-y-m,A=p-b+y+v,S=y+m-w,P=160;switch(i){case"auto":case"bottom":if(x>=f)return{placement:"bottom",maxHeight:t};if(k>=f&&!s)return o&&Na(l,A,P),{placement:"bottom",maxHeight:t};if(!s&&k>=r||s&&x>=r)return o&&Na(l,A,P),{placement:"bottom",maxHeight:s?x-v:k-v};if("auto"===i||s){var C=t,T=s?_:E;return T>=r&&(C=Math.min(T-v-a,t)),{placement:"top",maxHeight:C}}if("bottom"===i)return o&&Ia(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(_>=f)return{placement:"top",maxHeight:t};if(E>=f&&!s)return o&&Na(l,S,P),{placement:"top",maxHeight:t};if(!s&&E>=r||s&&_>=r){var O=t;return(!s&&E>=r||s&&_>=r)&&(O=s?_-w:E-w),o&&Na(l,S,P),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:g});h(a.maxHeight),m(a.placement),null==l||l(a.placement)}},[r,i,o,s,n,l,g]),t({ref:c,placerProps:lo(lo({},e),{},{placement:f||Wa(i),maxHeight:d})})},Ya=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return lo({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Ka=Ya,Qa=Ya,Xa=["size"],Za=["innerProps","isRtl","size"],el={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tl=function(e){var t=e.size,n=po(e,Xa);return Js("svg",mo({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:el},n))},nl=function(e){return Js(tl,mo({size:20},e),Js("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rl=function(e){return Js(tl,mo({size:20},e),Js("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},il=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return lo({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},ol=il,sl=il,al=function(){var e=Ys.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}($a||($a=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),ll=function(e){var t=e.delay,n=e.offset;return Js("span",{css:Ys({animation:"".concat(al," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cl=["data"],ul=["innerRef","isDisabled","isHidden","inputClassName"],dl={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},hl={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lo({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dl)},pl=function(e){return lo({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dl)},fl=function(e){var t=e.children,n=e.innerProps;return Js("div",n,t)},ml={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Js("div",mo({},Oa(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Js(nl,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return Js("div",mo({ref:i},Oa(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":s}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Js("div",mo({},Oa(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Js(rl,null))},DownChevron:rl,CrossIcon:nl,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,s=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Js("div",mo({},Oa(e,"group",{group:!0}),a),Js(o,mo({},s,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),Js("div",null,t))},GroupHeading:function(e){var t=Ta(e);t.data;var n=po(t,cl);return Js("div",mo({},Oa(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Js("div",mo({},Oa(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Js("span",mo({},t,Oa(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Ta(e),i=r.innerRef,o=r.isDisabled,s=r.isHidden,a=r.inputClassName,l=po(r,ul);return Js("div",mo({},Oa(e,"input",{"input-container":!0}),{"data-value":n||""}),Js("input",mo({className:t({input:!0},a),ref:i,style:pl(s),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,o=po(e,Za);return Js("div",mo({},Oa(lo(lo({},o),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Js(ll,{delay:0,offset:n}),Js(ll,{delay:160,offset:!0}),Js(ll,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Js("div",mo({},Oa(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return Js("div",mo({},Oa(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,i=e.innerProps,o=e.menuPlacement,s=e.menuPosition,a=(0,Pt.useRef)(null),l=(0,Pt.useRef)(null),c=uo((0,Pt.useState)(Wa(o)),2),u=c[0],d=c[1],h=(0,Pt.useMemo)(function(){return{setPortalPlacement:d}},[]),p=uo((0,Pt.useState)(null),2),f=p[0],m=p[1],g=(0,Pt.useCallback)(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===s?0:window.pageYOffset,n=e[u]+t;n===(null==f?void 0:f.offset)&&e.left===(null==f?void 0:f.rect.left)&&e.width===(null==f?void 0:f.rect.width)||m({offset:n,rect:e})}},[r,s,u,null==f?void 0:f.offset,null==f?void 0:f.rect.left,null==f?void 0:f.rect.width]);Ea(function(){g()},[g]);var b=(0,Pt.useCallback)(function(){"function"==typeof l.current&&(l.current(),l.current=null),r&&a.current&&(l.current=function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ba(e),u=i||o?[...c?ma(c):[],...ma(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=c&&a?function(e,t){let n,r=null;const i=oa(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||t(),!h||!p)return;const f={rootMargin:-ea(d)+"px "+-ea(i.clientWidth-(u+h))+"px "+-ea(i.clientHeight-(d+p))+"px "+-ea(u)+"px",threshold:Xs(0,Qs(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||xa(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(c,n):null;let h,p=-1,f=null;s&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m=l?_a(e):null;return l&&function t(){const r=_a(e);m&&!xa(m,r)&&n(),m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}(r,a.current,g,{elementResize:"ResizeObserver"in window}))},[r,g]);Ea(function(){b()},[b]);var y=(0,Pt.useCallback)(function(e){a.current=e,b()},[b]);if(!t&&"fixed"!==s||!f)return null;var v=Js("div",mo({ref:y},Oa(lo(lo({},e),{},{offset:f.offset,position:s,rect:f.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Js(Ga.Provider,{value:h},t?(0,Ot.createPortal)(v,t):v)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=po(e,Ha);return Js("div",mo({},Oa(lo(lo({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=po(e,qa);return Js("div",mo({},Oa(lo(lo({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,s=e.removeProps,a=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return Js(l,{data:r,innerProps:lo(lo({},Oa(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:a},Js(c,{data:r,innerProps:lo({},Oa(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),Js(u,{data:r,innerProps:lo(lo({},Oa(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:a}))},MultiValueContainer:fl,MultiValueLabel:fl,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Js("div",mo({role:"button"},n),t||Js(nl,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,s=e.innerProps;return Js("div",mo({},Oa(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Js("div",mo({},Oa(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return Js("div",mo({},Oa(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Js("div",mo({},Oa(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return Js("div",mo({},Oa(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},gl=function(e){return lo(lo({},ml),e.components)},bl=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function yl(e,t){return e===t||!(!bl(e)||!bl(t))}function vl(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!yl(e[n],t[n]))return!1;return!0}function wl(e,t){void 0===t&&(t=vl);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}for(var _l={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},xl=function(e){return Js("span",mo({css:_l},e))},El={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,s=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(o," focused, ").concat(u(s,n),".");if("menu"===t&&c){var d=a?" disabled":"",h="".concat(l?" selected":"").concat(d);return"".concat(o).concat(h,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},kl=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,s=e.selectValue,a=e.selectProps,l=e.id,c=e.isAppleDevice,u=a.ariaLiveMessages,d=a.getOptionLabel,h=a.inputValue,p=a.isMulti,f=a.isOptionDisabled,m=a.isSearchable,g=a.menuIsOpen,b=a.options,y=a.screenReaderStatus,v=a.tabSelectsValue,w=a.isLoading,_=a["aria-label"],x=a["aria-live"],E=(0,Pt.useMemo)(function(){return lo(lo({},El),u||{})},[u]),k=(0,Pt.useMemo)(function(){var e,n="";if(t&&E.onChange){var r=t.option,i=t.options,o=t.removedValue,a=t.removedValues,l=t.value,c=o||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=i||a||void 0,p=h?h.map(d):[],m=lo({isDisabled:c&&f(c,s),label:u,labels:p},t);n=E.onChange(m)}return n},[t,E,f,s,d]),A=(0,Pt.useMemo)(function(){var e="",t=n||r,o=!!(n&&s&&s.includes(n));if(t&&E.onFocus){var a={focused:t,label:d(t),isDisabled:f(t,s),isSelected:o,options:i,context:t===n?"menu":"value",selectValue:s,isAppleDevice:c};e=E.onFocus(a)}return e},[n,r,d,f,E,i,s,c]),S=(0,Pt.useMemo)(function(){var e="";if(g&&b.length&&!w&&E.onFilter){var t=y({count:i.length});e=E.onFilter({inputValue:h,resultsMessage:t})}return e},[i,h,g,E,b,y,w]),P="initial-input-focus"===(null==t?void 0:t.action),C=(0,Pt.useMemo)(function(){var e="";if(E.guidance){var t=r?"value":g?"menu":"input";e=E.guidance({"aria-label":_,context:t,isDisabled:n&&f(n,s),isMulti:p,isSearchable:m,tabSelectsValue:v,isInitialFocus:P})}return e},[_,n,r,p,f,m,g,E,s,v,P]),T=Js(Pt.Fragment,null,Js("span",{id:"aria-selection"},k),Js("span",{id:"aria-focused"},A),Js("span",{id:"aria-results"},S),Js("span",{id:"aria-guidance"},C));return Js(Pt.Fragment,null,Js(xl,{id:l},P&&T),Js(xl,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!P&&T))},Al=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Sl=new RegExp("["+Al.map(function(e){return e.letters}).join("")+"]","g"),Pl={},Cl=0;Cl<Al.length;Cl++)for(var Tl=Al[Cl],Ol=0;Ol<Tl.letters.length;Ol++)Pl[Tl.letters[Ol]]=Tl.base;var Ml=function(e){return e.replace(Sl,function(e){return Pl[e]})},Dl=wl(Ml),Il=function(e){return e.replace(/^\s+|\s+$/g,"")},Nl=function(e){return"".concat(e.label," ").concat(e.value)},jl=["innerRef"];function Rl(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter(function(e){var t=uo(e,1)[0];return!n.includes(t)});return i.reduce(function(e,t){var n=uo(t,2),r=n[0],i=n[1];return e[r]=i,e},{})}(po(e,jl),"onExited","in","enter","exit","appear");return Js("input",mo({ref:t},n,{css:Ys({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ll=["boxSizing","height","overflow","paddingRight","position"],Fl={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Bl(e){e.cancelable&&e.preventDefault()}function Vl(e){e.stopPropagation()}function zl(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Ul(){return"ontouchstart"in window||navigator.maxTouchPoints}var ql=!("undefined"==typeof window||!window.document||!window.document.createElement),Hl=0,$l={capture:!1,passive:!1},Wl=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Gl={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Jl(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,s=(0,Pt.useRef)(!1),a=(0,Pt.useRef)(!1),l=(0,Pt.useRef)(0),c=(0,Pt.useRef)(null),u=(0,Pt.useCallback)(function(e,t){if(null!==c.current){var l=c.current,u=l.scrollTop,d=l.scrollHeight,h=l.clientHeight,p=c.current,f=t>0,m=d-h-u,g=!1;m>t&&s.current&&(r&&r(e),s.current=!1),f&&a.current&&(o&&o(e),a.current=!1),f&&t>m?(n&&!s.current&&n(e),p.scrollTop=d,g=!0,s.current=!0):!f&&-t>u&&(i&&!a.current&&i(e),p.scrollTop=0,g=!0,a.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,r,i,o]),d=(0,Pt.useCallback)(function(e){u(e,e.deltaY)},[u]),h=(0,Pt.useCallback)(function(e){l.current=e.changedTouches[0].clientY},[]),p=(0,Pt.useCallback)(function(e){var t=l.current-e.changedTouches[0].clientY;u(e,t)},[u]),f=(0,Pt.useCallback)(function(e){if(e){var t=!!Va&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}},[p,h,d]),m=(0,Pt.useCallback)(function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))},[p,h,d]);return(0,Pt.useEffect)(function(){if(t){var e=c.current;return f(e),function(){m(e)}}},[t,f,m]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=(0,Pt.useRef)({}),o=(0,Pt.useRef)(null),s=(0,Pt.useCallback)(function(e){if(ql){var t=document.body,n=t&&t.style;if(r&&Ll.forEach(function(e){var t=n&&n[e];i.current[e]=t}),r&&Hl<1){var o=parseInt(i.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,a=window.innerWidth-s+o||0;Object.keys(Fl).forEach(function(e){var t=Fl[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(a,"px"))}t&&Ul()&&(t.addEventListener("touchmove",Bl,$l),e&&(e.addEventListener("touchstart",zl,$l),e.addEventListener("touchmove",Vl,$l))),Hl+=1}},[r]),a=(0,Pt.useCallback)(function(e){if(ql){var t=document.body,n=t&&t.style;Hl=Math.max(Hl-1,0),r&&Hl<1&&Ll.forEach(function(e){var t=i.current[e];n&&(n[e]=t)}),t&&Ul()&&(t.removeEventListener("touchmove",Bl,$l),e&&(e.removeEventListener("touchstart",zl,$l),e.removeEventListener("touchmove",Vl,$l)))}},[r]);return(0,Pt.useEffect)(function(){if(t){var e=o.current;return s(e),function(){a(e)}}},[t,s,a]),function(e){o.current=e}}({isEnabled:n});return Js(Pt.Fragment,null,n&&Js("div",{onClick:Wl,css:Gl}),t(function(e){i(e),o(e)}))}var Yl={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Kl=function(e){var t=e.name,n=e.onFocus;return Js("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Yl,value:"",onChange:function(){}})};function Ql(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Xl(){return Ql(/^Mac/i)}var Zl={clearIndicator:sl,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,s=i.borderRadius;return lo({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:ol,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return lo({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return lo({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,s=i.colors;return lo(lo({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},hl),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,s=i.spacing.baseUnit;return lo({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*s})},loadingMessage:Qa,menu:function(e,t){var n,r=e.placement,i=e.theme,o=i.borderRadius,s=i.spacing,a=i.colors;return lo((n={label:"menu"},(0,so.A)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),(0,so.A)(n,"position","absolute"),(0,so.A)(n,"width","100%"),(0,so.A)(n,"zIndex",1),n),t?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return lo({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return lo({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return lo({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,s=e.isFocused;return lo({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:Ka,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,s=o.spacing,a=o.colors;return lo({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?a.primary:a.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return lo({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return lo({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return lo({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},ec={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},tc={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ra(),captureMenuScroll:!Ra(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=lo({ignoreCase:!0,ignoreAccents:!0,stringify:Nl,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,s=n.trim,a=n.matchFrom,l=s?Il(t):t,c=s?Il(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=Dl(l),c=Ml(c)),"start"===a?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function nc(e,t,n,r){return{type:"option",data:t,isDisabled:uc(e,t,n),isSelected:dc(e,t,n),label:lc(e,t),value:cc(e,t),index:r}}function rc(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(n,r){return nc(e,n,t,r)}).filter(function(t){return sc(e,t)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=nc(e,n,t,r);return sc(e,o)?o:void 0}).filter(za)}function ic(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,_o(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function oc(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,_o(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function sc(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,s=t.label,a=t.value;return(!pc(e)||!o)&&hc(e,{label:s,value:a,data:i},r)}var ac=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},lc=function(e,t){return e.getOptionLabel(t)},cc=function(e,t){return e.getOptionValue(t)};function uc(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function dc(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=cc(e,t);return n.some(function(t){return cc(e,t)===r})}function hc(e,t,n){return!e.filterOption||e.filterOption(t,n)}var pc=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},fc=1,mc=function(e){(0,yo.A)(n,e);var t=(0,vo.A)(n);function n(e){var r;if((0,go.A)(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,o=i.closeMenuOnSelect,s=i.isMulti,a=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:a}),o&&(r.setState({inputIsHiddenAfterUpdate:!s}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,s=r.state.selectValue,a=i&&r.isOptionSelected(e,s),l=r.isOptionDisabled(e,s);if(a){var c=r.getOptionValue(e);r.setValue(s.filter(function(e){return r.getOptionValue(e)!==c}),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:o});i?r.setValue([].concat(_o(s),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter(function(e){return r.getOptionValue(e)!==i}),s=Ua(t,o,o[0]||null);r.onChange(s,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(Ua(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=Ua(e,i,i[0]||null);n&&r.onChange(o,{action:"pop-value",removedValue:n})},r.getFocusedOptionId=function(e){return ac(r.state.focusableOptionsWithIds,e)},r.getFocusableOptionsWithIds=function(){return oc(rc(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pa.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return lc(r.props,e)},r.getOptionValue=function(e){return cc(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,i=Zl[e](t,n);i.boxSizing="border-box";var o=r.props.styles[e];return o?o(i,t):i},r.getClassNames=function(e,t){var n,i;return null===(n=(i=r.props.classNames)[e])||void 0===n?void 0:n.call(i,t)},r.getElementId=function(e){return"".concat(r.state.instancePrefix,"-").concat(e)},r.getComponents=function(){return gl(r.props)},r.buildCategorizedOptions=function(){return rc(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return ic(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:lo({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Ma(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){if(!r.blockOptionHover&&r.state.focusedOption!==e){var t=r.getFocusableOptions().indexOf(e);r.setState({focusedOption:e,focusedOptionId:t>-1?r.getFocusedOptionId(e):null})}},r.shouldHideSelectedOptions=function(){return pc(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,s=t.inputValue,a=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,h=t.openMenuOnFocus,p=r.state,f=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;r.focusValue("previous");break;case"ArrowRight":if(!n||s)return;r.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():a&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!f||h&&r.isOptionSelected(f,g))return;r.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(r.isComposing)return;r.selectOption(f);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:s}),r.onMenuClose()):a&&o&&r.clearValue();break;case" ":if(s)return;if(!c){r.openMenu("first");break}if(!f)return;r.selectOption(f);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++fc),r.state.selectValue=Ca(e.value),e.menuIsOpen&&r.state.selectValue.length){var i=r.getFocusableOptionsWithIds(),o=r.buildFocusableOptions(),s=o.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=i,r.state.focusedOption=o[s],r.state.focusedOptionId=ac(i,o[s])}return r}return(0,bo.A)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ja(this.menuListRef,this.focusedOptionRef),(Xl()||Ql(/^iPhone/i)||Ql(/^iPad/i)||Xl()&&navigator.maxTouchPoints>1)&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ja(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),s="first"===e?0:o.length-1;if(!this.props.isMulti){var a=o.indexOf(r[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[s],focusedOptionId:this.getFocusedOptionId(o[s])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(ec):lo(lo({},ec),this.props.theme):ec}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,s=this.setValue,a=this.props,l=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:o,selectProps:a,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return uc(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return dc(this.props,e,t)}},{key:"filterOption",value:function(e,t){return hc(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,s=e.form,a=e.menuIsOpen,l=e.required,c=this.getComponents().Input,u=this.state,d=u.inputIsHidden,h=u.ariaSelection,p=this.commonProps,f=r||this.getElementId("input"),m=lo(lo(lo({"aria-autocomplete":"list","aria-expanded":a,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},a&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?Pt.createElement(c,mo({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:f,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:i},m)):Pt.createElement(Rl,mo({id:f,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Aa,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:s,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,a=t.Placeholder,l=this.commonProps,c=this.props,u=c.controlShouldRenderValue,d=c.isDisabled,h=c.isMulti,p=c.inputValue,f=c.placeholder,m=this.state,g=m.selectValue,b=m.focusedValue,y=m.isFocused;if(!this.hasValue()||!u)return p?null:Pt.createElement(a,mo({},l,{key:"placeholder",isDisabled:d,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),f);if(h)return g.map(function(t,s){var a=t===b,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return Pt.createElement(n,mo({},l,{components:{Container:r,Label:i,Remove:o},isFocused:a,isDisabled:d,key:c,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(p)return null;var v=g[0];return Pt.createElement(s,mo({},l,{data:v,isDisabled:d}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Pt.createElement(e,mo({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;return e&&i?Pt.createElement(e,mo({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return Pt.createElement(n,mo({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Pt.createElement(e,mo({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,s=t.MenuPortal,a=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,u=this.commonProps,d=this.state.focusedOption,h=this.props,p=h.captureMenuScroll,f=h.inputValue,m=h.isLoading,g=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,v=h.menuIsOpen,w=h.menuPlacement,_=h.menuPosition,x=h.menuPortalTarget,E=h.menuShouldBlockScroll,k=h.menuShouldScrollIntoView,A=h.noOptionsMessage,S=h.onMenuScrollToTop,P=h.onMenuScrollToBottom;if(!v)return null;var C,T=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,s=t.isSelected,a=t.label,l=t.value,h=d===i,p=o?void 0:function(){return e.onOptionHover(i)},f=o?void 0:function(){return e.selectOption(i)},m="".concat(e.getElementId("option"),"-").concat(n),g={id:m,onClick:f,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:s};return Pt.createElement(c,mo({},u,{innerProps:g,data:i,isDisabled:o,isSelected:s,key:m,label:a,type:r,value:l,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())C=this.getCategorizedOptions().map(function(t){if("group"===t.type){var i=t.data,o=t.options,s=t.index,a="".concat(e.getElementId("group"),"-").concat(s),l="".concat(a,"-heading");return Pt.createElement(n,mo({},u,{key:a,data:i,options:o,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return T(e,"".concat(s,"-").concat(e.index))}))}if("option"===t.type)return T(t,"".concat(t.index))});else if(m){var O=g({inputValue:f});if(null===O)return null;C=Pt.createElement(a,u,O)}else{var M=A({inputValue:f});if(null===M)return null;C=Pt.createElement(l,u,M)}var D={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:_,menuShouldScrollIntoView:k},I=Pt.createElement(Ja,mo({},u,D),function(t){var n=t.ref,r=t.placerProps,s=r.placement,a=r.maxHeight;return Pt.createElement(i,mo({},u,D,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:m,placement:s}),Pt.createElement(Jl,{captureEnabled:p,onTopArrive:S,onBottomArrive:P,lockEnabled:E},function(t){return Pt.createElement(o,mo({},u,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":u.isMulti,id:e.getElementId("listbox")},isLoading:m,maxHeight:a,focusedOption:d}),C)}))});return x||"fixed"===_?Pt.createElement(s,mo({},u,{appendTo:x,controlElement:this.controlRef,menuPlacement:w,menuPosition:_}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,s=t.required,a=this.state.selectValue;if(s&&!this.hasValue()&&!r)return Pt.createElement(Kl,{name:o,onFocus:this.onValueInputFocus});if(o&&!r){if(i){if(n){var l=a.map(function(t){return e.getOptionValue(t)}).join(n);return Pt.createElement("input",{name:o,type:"hidden",value:l})}var c=a.length>0?a.map(function(t,n){return Pt.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})}):Pt.createElement("input",{name:o,type:"hidden",value:""});return Pt.createElement("div",null,c)}var u=a[0]?this.getOptionValue(a[0]):"";return Pt.createElement("input",{name:o,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,s=t.selectValue,a=this.getFocusableOptions();return Pt.createElement(kl,mo({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:s,focusableOptions:a,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,s=o.className,a=o.id,l=o.isDisabled,c=o.menuIsOpen,u=this.state.isFocused,d=this.commonProps=this.getCommonProps();return Pt.createElement(r,mo({},d,{className:s,innerProps:{id:a,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u}),this.renderLiveRegion(),Pt.createElement(t,mo({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u,menuIsOpen:c}),Pt.createElement(i,mo({},d,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),Pt.createElement(n,mo({},d,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,s=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,d=e.menuIsOpen,h=e.inputValue,p=e.isMulti,f=Ca(u),m={};if(n&&(u!==n.value||c!==n.options||d!==n.menuIsOpen||h!==n.inputValue)){var g=d?function(e,t){return ic(rc(e,t))}(e,f):[],b=d?oc(rc(e,f),"".concat(l,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,f):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:f,focusedOption:v,focusedOptionId:ac(b,v),focusableOptionsWithIds:b,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},_=o,x=s&&a;return s&&!x&&(_={value:Ua(p,f,f[0]||null),options:f,action:"initial-input-focus"},x=!a),"initial-input-focus"===(null==o?void 0:o.action)&&(_=null),lo(lo(lo({},m),w),{},{prevProps:e,ariaSelection:_,prevWasFocused:x})}}]),n}(Pt.Component);mc.defaultProps=tc;var gc=(0,Pt.forwardRef)(function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,o=e.defaultValue,s=void 0===o?null:o,a=e.inputValue,l=e.menuIsOpen,c=e.onChange,u=e.onInputChange,d=e.onMenuClose,h=e.onMenuOpen,p=e.value,f=po(e,fo),m=uo((0,Pt.useState)(void 0!==a?a:n),2),g=m[0],b=m[1],y=uo((0,Pt.useState)(void 0!==l?l:i),2),v=y[0],w=y[1],_=uo((0,Pt.useState)(void 0!==p?p:s),2),x=_[0],E=_[1],k=(0,Pt.useCallback)(function(e,t){"function"==typeof c&&c(e,t),E(e)},[c]),A=(0,Pt.useCallback)(function(e,t){var n;"function"==typeof u&&(n=u(e,t)),b(void 0!==n?n:e)},[u]),S=(0,Pt.useCallback)(function(){"function"==typeof h&&h(),w(!0)},[h]),P=(0,Pt.useCallback)(function(){"function"==typeof d&&d(),w(!1)},[d]),C=void 0!==a?a:g,T=void 0!==l?l:v,O=void 0!==p?p:x;return lo(lo({},f),{},{inputValue:C,menuIsOpen:T,onChange:k,onInputChange:A,onMenuClose:P,onMenuOpen:S,value:O})}(e);return Pt.createElement(mc,mo({ref:t},n))}),bc=gc,yc=__webpack_require__(3662);function vc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,yc.A)(e,t)}const wc=Tt().createContext(null);var _c="unmounted",xc="exited",Ec="entering",kc="entered",Ac="exiting",Sc=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=xc,r.appearStatus=Ec):i=kc:i=t.unmountOnExit||t.mountOnEnter?_c:xc,r.state={status:i},r.nextCallback=null,r}vc(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_c?{status:xc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ec&&n!==kc&&(t=Ec):n!==Ec&&n!==kc||(t=Ac)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ec){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Dt().findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xc&&this.setState({status:_c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Dt().findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;e||n?(this.props.onEnter(o,s),this.safeSetState({status:Ec},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:kc},function(){t.props.onEntered(o,s)})})})):this.safeSetState({status:kc},function(){t.props.onEntered(o)})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Dt().findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:Ac},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:xc},function(){e.props.onExited(r)})})})):this.safeSetState({status:xc},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Dt().findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===_c)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ho(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Tt().createElement(wc.Provider,{value:null},"function"==typeof n?n(e,r):Tt().cloneElement(Tt().Children.only(n),r))},t}(Tt().Component);function Pc(){}Sc.contextType=wc,Sc.propTypes={},Sc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pc,onEntering:Pc,onEntered:Pc,onExit:Pc,onExiting:Pc,onExited:Pc},Sc.UNMOUNTED=_c,Sc.EXITED=xc,Sc.ENTERING=Ec,Sc.ENTERED=kc,Sc.EXITING=Ac;const Cc=Sc;var Tc=__webpack_require__(9417);function Oc(e,t){var n=Object.create(null);return e&&Pt.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,Pt.isValidElement)(e)?t(e):e}(e)}),n}function Mc(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Dc(e,t,n){var r=Oc(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if((0,Pt.isValidElement)(s)){var a=o in t,l=o in r,c=t[o],u=(0,Pt.isValidElement)(c)&&!c.props.in;!l||a&&!u?l||!a||u?l&&a&&(0,Pt.isValidElement)(c)&&(i[o]=(0,Pt.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:Mc(s,"exit",e),enter:Mc(s,"enter",e)})):i[o]=(0,Pt.cloneElement)(s,{in:!1}):i[o]=(0,Pt.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Mc(s,"exit",e),enter:Mc(s,"enter",e)})}}),i}var Ic=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Nc=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,Tc.A)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}vc(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,Oc(n.children,function(e){return(0,Pt.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Mc(e,"appear",n),enter:Mc(e,"enter",n),exit:Mc(e,"exit",n)})})):Dc(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=Oc(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=mo({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=ho(e,["component","childFactory"]),i=this.state.contextValue,o=Ic(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?Tt().createElement(wc.Provider,{value:i},o):Tt().createElement(wc.Provider,{value:i},Tt().createElement(t,r,o))},t}(Tt().Component);Nc.propTypes={},Nc.defaultProps={component:"div",childFactory:function(e){return e}};const jc=Nc;var Rc=["in","onExited","appear","enter","exit"],Lc=["component","duration","in","onExited"],Fc=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,i=e.in;e.onExited;var o=po(e,Lc),s=(0,Pt.useRef)(null),a={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return Pt.createElement(Cc,{mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:r,nodeRef:s},function(e){var n={style:lo({},a[e]),ref:s};return Pt.createElement(t,mo({innerProps:n},o))})},Bc=function(e){var t=e.children,n=e.in,r=e.onExited,i=(0,Pt.useRef)(null),o=uo((0,Pt.useState)("auto"),2),s=o[0],a=o[1];(0,Pt.useEffect)(function(){var e=i.current;if(e){var t=window.requestAnimationFrame(function(){return a(e.getBoundingClientRect().width)});return function(){return window.cancelAnimationFrame(t)}}},[]);var l=function(e){switch(e){default:return{width:s};case"exiting":return{width:0,transition:"width ".concat(260,"ms ease-out")};case"exited":return{width:0}}};return Pt.createElement(Cc,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:n,onExited:function(){var e=i.current;e&&(null==r||r(e))},timeout:260,nodeRef:i},function(e){return Pt.createElement("div",{ref:i,style:lo({overflow:"hidden",whiteSpace:"nowrap"},l(e))},t)})},Vc=["in","onExited"],zc=function(e){return function(t){var n=t.in,r=t.onExited,i=po(t,Vc);return Pt.createElement(Bc,{in:n,onExited:r},Pt.createElement(e,mo({cropWithEllipsis:n},i)))}},Uc=function(e){return function(t){return Pt.createElement(Fc,mo({component:e,duration:t.isMulti?260:1},t))}},qc=function(e){return function(t){return Pt.createElement(Fc,mo({component:e},t))}},Hc=["component"],$c=["children"],Wc=function(e){var t=e.component,n=po(e,Hc),r=Gc(n);return Pt.createElement(jc,mo({component:t},r))},Gc=function(e){var t=e.children,n=po(e,$c),r=n.isMulti,i=n.hasValue,o=n.innerProps,s=n.selectProps,a=s.components,l=s.controlShouldRenderValue,c=uo((0,Pt.useState)(r&&l&&i),2),u=c[0],d=c[1],h=uo((0,Pt.useState)(!1),2),p=h[0],f=h[1];(0,Pt.useEffect)(function(){i&&!u&&d(!0)},[i,u]),(0,Pt.useEffect)(function(){p&&!i&&u&&d(!1),f(!1)},[p,i,u]);var m=function(){return f(!0)},g=lo(lo({},o),{},{style:lo(lo({},null==o?void 0:o.style),{},{display:r&&i||u?"flex":"grid"})});return lo(lo({},n),{},{innerProps:g,children:Pt.Children.toArray(t).map(function(e){if(r&&Pt.isValidElement(e)){if(e.type===a.MultiValue)return Pt.cloneElement(e,{onExited:m});if(e.type===a.Placeholder&&u)return null}return e})})},Jc=function(e){return function(t){return t.isMulti?Pt.createElement(Wc,mo({component:e},t)):Pt.createElement(jc,mo({component:e},t))}},Yc=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],Kc=function(){var e,t=gl({components:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,s=t.ValueContainer,a=po(t,Yc);return lo({Input:(e=n,function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=po(t,Rc);return Pt.createElement(e,n)}),MultiValue:zc(r),Placeholder:Uc(i),SingleValue:qc(o),ValueContainer:Jc(s)},a)},Qc=Kc(),Xc=(Qc.Input,Qc.MultiValue,Qc.Placeholder,Qc.SingleValue,Qc.ValueContainer,wl(Kc));const Zc="!min-h-[42px] !bg-white !placeholder:text-b2-table transition !py-1 !px-5 !rounded !text-b3-regular \n!text-b1-notice-comment border-1 !border-solid !border-border-dark !shadow-none placeholder:text-b2-table focus:outline-none focus:!border-primary \nfocus:!shadow-none focus:ring-0 required:border-red-500 !w-full !shadow-none",eu={container:e=>({...e,width:"100%",margin:"0",padding:"0",border:"none",borderRadius:"0",boxShadow:"none",backgroundColor:"transparent","&:hover":{border:"none",boxShadow:"none",backgroundColor:"transparent"}}),control:(e,t)=>({...e,borderColor:t.isFocused?"#323DA5":"#A8ABBD",borderRadius:"10px",boxShadow:"none",padding:"2px 0","&:hover":{borderColor:"#323DA5"},overflowY:"auto",height:"auto",minHeight:"42px",fontSize:"14px"}),valueContainer:e=>({...e,padding:"0",cursor:"pointer",paddingLeft:"20px",textTransform:"capitalize"}),multiValue:e=>({...e,backgroundColor:"#323DA5"}),multiValueLabel:e=>({...e,color:"#ffffff"}),multiValueRemove:e=>({...e,color:"#ffffff",borderRadius:"0",transition:"0.3s",":hover":{backgroundColor:"#FF7F5C",color:"white"}}),placeholder:e=>({...e,color:"#767695"}),input:e=>({...e,boxShadow:"none",color:"#323232","&:focus":{boxShadow:"none !important"}}),clearIndicator:e=>({...e,display:"none"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({...e,fontSize:"10px",color:"#5D5D7A",padding:"8px 15px 8px 10px",width:"41px","&:hover":{color:"#5D5D7A"}}),menu:e=>({...e,borderRadius:"10px",zIndex:10,margin:0}),menuList:e=>({...e,width:"auto",minWidth:"200px",backgroundColor:"#FFFFFF",borderRadius:"10px",fontSize:"14px",textTransform:"capitalize"}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#323DA5":"#ffffff",color:t.isSelected?"#ffffff":"#323232","&:hover":{backgroundColor:"#323DA5",color:"#ffffff"}})},tu={container:e=>({...e,width:"100%",minWidth:"130px",margin:"0",padding:"0",border:"none",borderRadius:"0",boxShadow:"none",backgroundColor:"transparent","&:hover":{border:"none",boxShadow:"none",backgroundColor:"transparent"}}),control:(e,t)=>({...e,borderColor:(t.isFocused,"#A8ABBD"),borderRadius:"10px",boxShadow:"none","&:hover":{borderColor:"#A8ABBD"},height:"38px",minHeight:"38px",fontSize:"14px"}),valueContainer:e=>({...e,padding:"0",cursor:"pointer",paddingLeft:"15px"}),singleValue:e=>({...e,color:"#5D5D7A"}),placeholder:e=>({...e,color:"#5D5D7A"}),input:(e,t)=>({...e,boxShadow:"none",color:"#5D5D7A","&:focus":{boxShadow:"none"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({...e,color:"#5D5D7A",padding:"8px 15px 8px 10px",width:"40px","&:hover":{color:"#5D5D7A"}}),menu:e=>({...e,borderRadius:"10px",zIndex:10,margin:0}),menuList:e=>({...e,width:"auto",backgroundColor:"#FFFFFF",borderRadius:"10px",padding:"5px 0",fontSize:"14px"}),option:(e,t)=>({...e,margin:"3px 0",padding:"5px 15px",backgroundColor:t.isSelected?"#323DA5":"#ffffff",color:t.isSelected?"#ffffff":"#5D5D7A","&:hover":{backgroundColor:"#323DA5",color:"#ffffff"}})},nu=e=>{const{options:n,isMulti:r,isSearchable:i,placeholder:o,defaultValue:s,onChange:a,style:l}=e,c=Xc();return(0,t.createElement)(bc,{styles:l??eu,components:c,options:$e(n),isMulti:r,isSearchable:i??!1,value:r?$e(s):We(n,s),defaultValue:r?$e(s):We(n,s),placeholder:o||(0,ce.__)("-","ai-job-listing"),onChange:e=>{"function"==typeof a&&a(e)}})};nu.defaultProps={options:[],placeholder:"",isMulti:!1};const ru=nu,iu=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function ou(e){return!!e&&/^\d+\.\d+\.\d+/.test(e)}function su(e){return!!e&&["nightly","alpha","internal","nightly-","staging"].some(t=>e.includes(t))}function au(e){if(su(e))return 3;const{major:t}=function(e){if(!ou(e))throw new Error(`Invalid semantic version: ${e||"<blank>"}.`);const[t,n,r]=e.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(n,10),patch:Number.parseInt(r,10)}}(e);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}function lu(e,t){switch(t||=function(){const e=function(){const{CKEDITOR_VERSION:e,CKEDITOR:t}=window;return ou(n=e)||su(n)?{source:t?"cdn":"npm",version:e}:null;var n}();return e?au(e.version):null}()||void 0,t){case 1:case 2:return void 0===e;case 3:return"GPL"===e;default:return!1}}var cu=Object.defineProperty,uu=(e,t,n)=>((e,t,n)=>t in e?cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const du=class e{constructor(e,t){uu(this,"_lifecycle"),uu(this,"_element"),uu(this,"_releaseLock",null),uu(this,"_value",null),uu(this,"_afterMountCallbacks",[]),uu(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),uu(this,"release",function(e){let t=null;return(...n)=>(t||(t={current:e(...n)}),t.current)}(()=>{const{_releaseLock:e,_state:t,_element:n,_lifecycle:r}=this;t.mountingInProgress?t.mountingInProgress.then(()=>r.unmount({element:n,mountResult:this.value})).catch(e=>{console.error("Semaphore unmounting error:",e)}).then(e.resolve).then(()=>{this._value=null}):(t.destroyedBeforeInitialization=!0,e.resolve())})),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(t=>t(e)),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:n}=this;t?e(t):n.push(e)}_lock(){const{_semaphores:t}=e,{_state:n,_element:r,_lifecycle:i}=this,o=t.get(r)||Promise.resolve(null),s=function(){const e={resolve:null,promise:null};return e.promise=new Promise(t=>{e.resolve=t}),e}();this._releaseLock=s;const a=o.then(()=>n.destroyedBeforeInitialization?Promise.resolve(void 0):(n.mountingInProgress=i.mount().then(e=>(e&&this.unsafeSetValue(e),e)),n.mountingInProgress)).then(async e=>{e&&i.afterMount&&await i.afterMount({element:r,mountResult:e})}).then(()=>s.promise).catch(e=>{console.error("Semaphore mounting error:",e)}).then(()=>{t.get(r)===a&&t.delete(r)});t.set(r,a)}};uu(du,"_semaphores",new Map);let hu=du;const pu="$__CKEditorReactContextMetadata",fu=Pt.createContext(null),mu=e=>t=>(e=>!!e&&"object"==typeof e&&"status"in e&&["initializing","initialized","error"].includes(e.status))(t)&&t.status===e,gu=mu("initializing"),bu=(yu={version:"9.5.0",frameworkVersion:Pt.version},function(e){lu(e.config.get("licenseKey"))||e.on("collectUsageData",(e,{setUsageData:t})=>{t("integration.react",yu)})});var yu;const vu="Lock from React integration (@ckeditor/ckeditor5-react)";class wu extends Pt.Component{constructor(e){super(e),uu(this,"domContainer",Pt.createRef()),uu(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:n}=this;return e.id!==t.id||e.disableWatchdog!==t.disableWatchdog||(n&&(n.runAfterMount(({instance:n})=>{this._shouldUpdateEditorData(t,e,n)&&n.data.set(e.data)}),"disabled"in e&&n.runAfterMount(({instance:t})=>{e.disabled?t.enableReadOnlyMode(vu):t.disableReadOnlyMode(vu)})),!1)}componentDidMount(){gu(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){gu(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new hu(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:e})=>{const{onReady:t}=this.props;t&&null!==this.domContainer.current&&t(e.instance)},unmount:async({element:e,mountResult:t})=>{const{onAfterDestroy:n}=this.props;try{await this._destroyEditor(t),e.innerHTML=""}finally{n&&n(t.instance)}}})}render(){return Pt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=(()=>{return e=this.context,mu("initialized")(e)&&"ready"===e.watchdog.state?new _u(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig);var e})(),t={current:0};return e.setCreator(async(n,r)=>{var i;const{editorSemaphore:o}=this,{onAfterDestroy:s}=this.props;t.current>0&&s&&(null==(i=null==o?void 0:o.value)?void 0:i.instance)&&s(o.value.instance);const a=await this._createEditor(n,r);return o&&t.current>0&&(o.unsafeSetValue({instance:a,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),t.current++,a}),e.on("error",(e,{error:t,causesRestart:n})=>{(this.props.onError||console.error)(t,{phase:"runtime",willEditorRestart:n})}),await e.create(this.domContainer.current,this._getConfig()).catch(e=>{(this.props.onError||console.error)(e,{phase:"initialization",willEditorRestart:!1})}),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:n}=this.props;return n&&(t=function(e,t){return{...t,[pu]:e}}(n,t)),this.props.editor.create(e,(r=t,lu(r.licenseKey)?r:function(e,t){const n=e.extraPlugins||[];return{...e,extraPlugins:[...n,...t.filter(e=>!n.includes(e))]}}(r,[bu]))).then(e=>{"disabled"in this.props&&this.props.disabled&&e.enableReadOnlyMode(vu);const t=e.model.document,n=e.editing.view.document;return t.on("change:data",t=>{this.props.onChange&&this.props.onChange(t,e)}),n.on("focus",t=>{this.props.onFocus&&this.props.onFocus(t,e)}),n.on("blur",t=>{this.props.onBlur&&this.props.onBlur(t,e)}),e});var r}async _destroyEditor(e){const{watchdog:t,instance:n}=e;return new Promise((e,r)=>{setTimeout(async()=>{try{if(t)return await t.destroy(),e();if(n)return await n.destroy(),e();e()}catch(e){console.error(e),r(e)}})})}_shouldUpdateEditorData(e,t,n){return e.data!==t.data&&n.data.get()!==t.data}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}uu(wu,"contextType",fu);class _u{constructor(e){uu(this,"_contextWatchdog"),uu(this,"_id"),uu(this,"_creator"),this._contextWatchdog=e,this._id=function(){const[e,t,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+iu[255&e]+iu[e>>8&255]+iu[e>>16&255]+iu[e>>24&255]+iu[255&t]+iu[t>>8&255]+iu[t>>16&255]+iu[t>>24&255]+iu[255&n]+iu[n>>8&255]+iu[n>>16&255]+iu[n>>24&255]+iu[255&r]+iu[r>>8&255]+iu[r>>16&255]+iu[r>>24&255]}()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",(e,{itemId:n,error:r})=>{n===this._id&&t(null,{error:r,causesRestart:void 0})})}destroy(){return"ready"===this._contextWatchdog.state?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function xu(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}const Eu=(0,Pt.memo)((0,Pt.forwardRef)(({id:e,semaphore:t,rootName:n},r)=>{const i=(0,Pt.useRef)(null);return(0,Pt.useEffect)(()=>{let e,r;return t.runAfterMount(({instance:t})=>{if(!i.current)return;r=t;const{ui:o,model:s}=r,a=s.document.getRoot(n);a&&r.ui.getEditableElement(n)&&r.detachEditable(a),e=o.view.createEditable(n,i.current),o.addEditable(e),t.editing.view.forceRender()}),()=>{if(r&&"destroyed"!==r.state&&i.current){const e=r.model.document.getRoot(n);e&&r.detachEditable(e)}}},[t.revision]),Pt.createElement("div",{key:t.revision,id:e,ref:xu(r,i)})}));Eu.displayName="EditorEditable";(0,Pt.forwardRef)(({editor:e},t)=>{const n=(0,Pt.useRef)(null);return(0,Pt.useEffect)(()=>{const t=n.current;if(!e||!t)return;const r=e.ui.view.toolbar.element;return t.appendChild(r),()=>{t.contains(r)&&t.removeChild(r)}},[e&&e.id]),Pt.createElement("div",{ref:xu(n,t)})}).displayName="EditorToolbarWrapper";var ku=__webpack_require__(6087);let Au;try{Au={window,document}}catch(Lr){Au={window:{},document:{}}}var Su=Au;function Pu(){try{return navigator.userAgent.toLowerCase()}catch(e){return""}}const Cu=Pu(),Tu={isMac:Ou(Cu),isWindows:Mu(Cu),isGecko:Du(Cu),isSafari:Iu(Cu),isiOS:Nu(Cu),isAndroid:ju(Cu),isBlink:Ru(Cu),get isMediaForcedColors(){return!!Su.window.matchMedia&&Su.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!Su.window.matchMedia&&Su.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:Lu()}};function Ou(e){return e.indexOf("macintosh")>-1}function Mu(e){return e.indexOf("windows")>-1}function Du(e){return!!e.match(/gecko\/\d+/)}function Iu(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}function Nu(e){return!!e.match(/iphone|ipad/i)||Ou(e)&&navigator.maxTouchPoints>0}function ju(e){return e.indexOf("android")>-1}function Ru(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function Lu(){let e=!1;try{e=0==="".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}function Fu(e,t,n,r){n=n||function(e,t){return e===t};const i=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(e,t,n){const r=Bu(e,t,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=Bu(Vu(e,r),Vu(t,r),n);return{firstIndex:r,lastIndexOld:e.length-i,lastIndexNew:t.length-i}}(i,o,n),a=r?function(e,t){const{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=e;if(-1===n)return Array(t).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),i-n>0&&(o=o.concat(Array(i-n).fill("insert"))),r-n>0&&(o=o.concat(Array(r-n).fill("delete"))),i<t&&(o=o.concat(Array(t-i).fill("equal"))),o}(s,o.length):function(e,t){const n=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:o}=t;return o-r>0&&n.push({index:r,type:"insert",values:e.slice(r,o)}),i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r}),n}(o,s);return a}function Bu(e,t,n){for(let r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function Vu(e,t){return e.slice(t).reverse()}function zu(e,t,n){n=n||function(e,t){return e===t};const r=e.length,i=t.length;if(r>200||i>200||r+i>300)return zu.fastDiff(e,t,n,!0);let o,s;if(i<r){const n=e;e=t,t=n,o="delete",s="insert"}else o="insert",s="delete";const a=e.length,l=t.length,c=l-a,u={},d={};function h(r){const i=(void 0!==d[r-1]?d[r-1]:-1)+1,c=void 0!==d[r+1]?d[r+1]:-1,h=i>c?-1:1;u[r+h]&&(u[r]=u[r+h].slice(0)),u[r]||(u[r]=[]),u[r].push(i>c?o:s);let p=Math.max(i,c),f=p-r;for(;f<a&&p<l&&n(e[f],t[p]);)f++,p++,u[r].push("equal");return p}let p,f=0;do{for(p=-f;p<c;p++)d[p]=h(p);for(p=c+f;p>c;p--)d[p]=h(p);d[c]=h(c),f++}while(d[c]!==l);return u[c].slice(1)}zu.fastDiff=Fu;class Uu{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}const qu=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function Hu(){const[e,t,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+qu[255&e]+qu[e>>8&255]+qu[e>>16&255]+qu[e>>24&255]+qu[255&t]+qu[t>>8&255]+qu[t>>16&255]+qu[t>>24&255]+qu[255&n]+qu[n>>8&255]+qu[n>>16&255]+qu[n>>24&255]+qu[255&r]+qu[r>>8&255]+qu[r>>16&255]+qu[r>>24&255]}const $u={get(e="normal"){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Wu(e,t){const n=$u.get(t.priority);for(let r=0;r<e.length;r++)if($u.get(e[r].priority)<n)return void e.splice(r,0,t);e.push(t)}class Gu extends Error{context;data;constructor(e,t,n){super(function(e,t){const n=new WeakSet,r=t?` ${JSON.stringify(t,(e,t)=>{if("object"==typeof t&&null!==t){if(n.has(t))return`[object ${t.constructor.name}]`;n.add(t)}return t})}`:"";return e+r+Yu(e)}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new Gu(e.message,t);throw n.stack=e.stack,n}}function Ju(e,t){console.warn(...function(e,t){const n=Yu(e);return t?[e,t,n]:[e,n]}(e,t))}function Yu(e){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${e}`}const Ku=new Date(2024,10,6);if(globalThis.CKEDITOR_VERSION)throw new Gu("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="43.3.1";const Qu=Symbol("listeningTo"),Xu=Symbol("emitterId"),Zu=Symbol("delegations"),ed=td(Object);function td(e){return e?class extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let r=!1;this.listenTo(this,e,(e,...n)=>{r||(r=!0,e.off(),t.call(this,e,...n))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,r={}){let i,o;this[Qu]||(this[Qu]={});const s=this[Qu];rd(e)||nd(e);const a=rd(e);(i=s[a])||(i=s[a]={emitter:e,callbacks:{}}),(o=i.callbacks[t])||(o=i.callbacks[t]=[]),o.push(n),function(e,t,n,r,i){t._addEventListener?t._addEventListener(n,r,i):e._addEventListener.call(t,n,r,i)}(this,e,t,n,r)}stopListening(e,t,n){const r=this[Qu];let i=e&&rd(e);const o=r&&i?r[i]:void 0,s=o&&t?o.callbacks[t]:void 0;if(!(!r||e&&!o||t&&!s))if(n)cd(this,e,t,n),-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[t]:cd(this,e,t,n));else if(s){for(;n=s.pop();)cd(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[Qu]}}fire(e,...t){try{const n=e instanceof Uu?e:new Uu(this,e),r=n.name;let i=ad(this,r);if(n.path.push(this),i){const e=[n,...t];i=Array.from(i);for(let t=0;t<i.length&&(i[t].callback.apply(this,e),n.off.called&&(delete n.off.called,this._removeEventListener(r,i[t].callback)),!n.stop.called);t++);}const o=this[Zu];if(o){const e=o.get(r),i=o.get("*");e&&ld(e,n,t),i&&ld(i,n,t)}return n.return}catch(e){Gu.rethrowUnexpectedError(e,this)}}delegate(...e){return{to:(t,n)=>{this[Zu]||(this[Zu]=new Map),e.forEach(e=>{const r=this[Zu].get(e);r?r.set(t,n):this[Zu].set(e,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[Zu])if(e)if(t){const n=this[Zu].get(e);n&&n.delete(t)}else this[Zu].delete(e);else this[Zu].clear()}_addEventListener(e,t,n){!function(e,t){const n=id(e);if(n[t])return;let r=t,i=null;const o=[];for(;""!==r&&!n[r];)n[r]=od(),o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const e of o)e.callbacks=n[r].callbacks.slice();n[r].childEvents.push(i)}}(this,e);const r=sd(this,e),i={callback:t,priority:$u.get(n.priority)};for(const e of r)Wu(e,i)}_removeEventListener(e,t){const n=sd(this,e);for(const e of n)for(let n=0;n<e.length;n++)e[n].callback==t&&(e.splice(n,1),n--)}}:ed}function nd(e,t){e[Xu]||(e[Xu]=t||Hu())}function rd(e){return e[Xu]}function id(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function od(){return{callbacks:[],childEvents:[]}}function sd(e,t){const n=id(e)[t];if(!n)return[];let r=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const i=sd(e,n.childEvents[t]);r=r.concat(i)}return r}function ad(e,t){let n;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?ad(e,t.substr(0,t.lastIndexOf(":"))):null}function ld(e,t,n){for(let[r,i]of e){i?"function"==typeof i&&(i=i(t.name)):i=t.name;const e=new Uu(t.source,i);e.path=[...t.path],r.fire(e,...n)}}function cd(e,t,n,r){t._removeEventListener?t._removeEventListener(n,r):e._removeEventListener.call(t,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{td[e]=ed.prototype[e]});const ud=Symbol("observableProperties"),dd=Symbol("boundObservables"),hd=Symbol("boundProperties"),pd=Symbol("decoratedMethods"),fd=Symbol("decoratedOriginal"),md=gd(td());function gd(e){return e?class extends e{set(e,t){if((0,ku.isObject)(e))return void Object.keys(e).forEach(t=>{this.set(t,e[t])},this);bd(this);const n=this[ud];if(e in this&&!n.has(e))throw new Gu("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const r=n.get(e);let i=this.fire(`set:${e}`,e,t,r);void 0===i&&(i=t),r===i&&n.has(e)||(n.set(e,i),this.fire(`change:${e}`,e,i,r))}}),this[e]=t}bind(...e){if(!e.length||!wd(e))throw new Gu("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new Gu("observable-bind-duplicate-properties",this);bd(this);const t=this[hd];e.forEach(e=>{if(t.has(e))throw new Gu("observable-bind-rebind",this)});const n=new Map;return e.forEach(e=>{const r={property:e,to:[]};t.set(e,r),n.set(e,r)}),{to:yd,toMany:vd,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[ud])return;const t=this[hd],n=this[dd];if(e.length){if(!wd(e))throw new Gu("observable-unbind-wrong-properties",this);e.forEach(e=>{const r=t.get(e);r&&(r.to.forEach(([e,t])=>{const i=n.get(e),o=i[t];o.delete(r),o.size||delete i[t],Object.keys(i).length||(n.delete(e),this.stopListening(e,"change"))}),t.delete(e))})}else n.forEach((e,t)=>{this.stopListening(t,"change")}),n.clear(),t.clear()}decorate(e){bd(this);const t=this[e];if(!t)throw new Gu("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(e,n)=>{e.return=t.apply(this,n)}),this[e]=function(...t){return this.fire(e,t)},this[e][fd]=t,this[pd]||(this[pd]=[]),this[pd].push(e)}stopListening(e,t,n){if(!e&&this[pd]){for(const e of this[pd])this[e]=this[e][fd];delete this[pd]}super.stopListening(e,t,n)}[ud];[pd];[hd];[dd]}:md}function bd(e){e[ud]||(Object.defineProperty(e,ud,{value:new Map}),Object.defineProperty(e,dd,{value:new Map}),Object.defineProperty(e,hd,{value:new Map}))}function yd(...e){const t=function(...e){if(!e.length)throw new Gu("observable-bind-to-parse-error",null);const t={to:[]};let n;return"function"==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach(e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new Gu("observable-bind-to-parse-error",null);n={observable:e,properties:[]},t.to.push(n)}}),t}(...e),n=Array.from(this._bindings.keys()),r=n.length;if(!t.callback&&t.to.length>1)throw new Gu("observable-bind-to-no-callback",this);if(r>1&&t.callback)throw new Gu("observable-bind-to-extra-callback",this);var i;t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==r)throw new Gu("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),i=this._observable,this._to.forEach(e=>{const t=i[dd];let n;t.get(e.observable)||i.listenTo(e.observable,"change",(r,o)=>{n=t.get(e.observable)[o],n&&n.forEach(e=>{_d(i,e.property)})})}),function(e){let t;e._bindings.forEach((n,r)=>{e._to.forEach(i=>{t=i.properties[n.callback?0:e._bindProperties.indexOf(r)],n.to.push([i.observable,t]),function(e,t,n,r){const i=e[dd],o=i.get(n),s=o||{};s[r]||(s[r]=new Set),s[r].add(t),o||i.set(n,s)}(e._observable,n,i.observable,t)})})}(this),this._bindProperties.forEach(e=>{_d(this._observable,e)})}function vd(e,t,n){if(this._bindings.size>1)throw new Gu("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const n=e.map(e=>[e,t]);return Array.prototype.concat.apply([],n)}(e,t),n)}function wd(e){return e.every(e=>"string"==typeof e)}function _d(e,t){const n=e[hd].get(t);let r;n.callback?r=n.callback.apply(e,n.to.map(e=>e[0][e[1]])):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=r:e.set(t,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{gd[e]=md.prototype[e]});class xd{_replacedElements;constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function Ed(e){let t=0;for(const n of e)t++;return t}function kd(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}function Ad(e){return!(!e||!e[Symbol.iterator])}function Sd(e,t,n={},r=[]){const i=n&&n.xmlns,o=i?e.createElementNS(i,t):e.createElement(t);for(const e in n)o.setAttribute(e,n[e]);!(0,ku.isString)(r)&&Ad(r)||(r=[r]);for(let t of r)(0,ku.isString)(t)&&(t=e.createTextNode(t)),o.appendChild(t);return o}class Pd{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(Cd(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,r=!1){if((0,ku.isPlainObject)(t))return void this._setObjectToTarget(e,t,r);const i=t.split(".");t=i.pop();for(const t of i)(0,ku.isPlainObject)(e[t])||(e[t]=Object.create(null)),e=e[t];if((0,ku.isPlainObject)(n))return(0,ku.isPlainObject)(e[t])||(e[t]=Object.create(null)),e=e[t],void this._setObjectToTarget(e,n,r);r&&void 0!==e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const t of n){if(!(0,ku.isPlainObject)(e[t])){e=null;break}e=e[t]}return e?Cd(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(r=>{this._setToTarget(e,r,t[r],n)})}}function Cd(e){return(0,ku.cloneDeepWith)(e,Td)}function Td(e){return(0,ku.isElement)(e)||"function"==typeof e?e:void 0}function Od(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function Md(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}const Dd=Id(td());function Id(e){return e?class extends e{listenTo(e,t,n,r={}){if(Od(e)||Md(e)){const i={capture:!!r.useCapture,passive:!!r.usePassive},o=this._getProxyEmitter(e,i)||new Nd(e,i);this.listenTo(o,t,n,r)}else super.listenTo(e,t,n,r)}stopListening(e,t,n){if(Od(e)||Md(e)){const r=this._getAllProxyEmitters(e);for(const e of r)this.stopListening(e,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(e,t){const n=e[Qu];return n&&n[t]?n[t].emitter:null}(this,jd(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(e=>!!e)}}:Dd}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{Id[e]=Dd.prototype[e]});class Nd extends(td()){_domNode;_options;constructor(e,t){super(),nd(this,jd(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),td().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){td().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function jd(e,t){let n=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Hu())}(e);for(const e of Object.keys(t).sort())t[e]&&(n+="-"+e);return n}function Rd(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Ld(e){if(!e.target)return null;const t=e.target.ownerDocument,n=e.clientX,r=e.clientY;let i=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,r)?i=t.caretRangeFromPoint(n,r):e.rangeParent&&(i=t.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0)),i}function Fd(e){return"[object Text]"==Object.prototype.toString.call(e)}function Bd(e){return"[object Range]"==Object.prototype.toString.apply(e)}function Vd(e){return e&&e.parentNode?e.offsetParent===Su.document.body?null:e.offsetParent:null}const zd=["top","right","bottom","left","width","height"];class Ud{top;right;bottom;left;width;height;_source;constructor(e){const t=Bd(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),$d(e)||t)if(t){const t=Ud.getDomRangeRects(e);qd(this,Ud.getBoundingRect(t))}else qd(this,e.getBoundingClientRect());else if(Md(e)){const{innerWidth:t,innerHeight:n}=e;qd(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else qd(this,e)}clone(){return new Ud(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const e=new Ud(t);return e._source=this._source,e}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Hd(e))return t;let n,r=e,i=e.parentNode||e.commonAncestorContainer;for(;i&&!Hd(i);){const e="visible"===Gd(i);r instanceof HTMLElement&&"absolute"===Wd(r)&&(n=r);const o=Wd(i);if(e||n&&("relative"===o&&e||"relative"!==o)){r=i,i=i.parentNode;continue}const s=new Ud(i),a=t.getIntersection(s);if(!a)return null;a.getArea()<t.getArea()&&(t=a),r=i,i=i.parentNode}return t}isEqual(e){for(const t of zd)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Su.window,n=this.clone().moveBy(e,t);if($d(n._source)){const e=Vd(n._source);e&&function(e,t){const n=new Ud(t),r=Rd(t);let i=0,o=0;i-=n.left,o-=n.top,i+=t.scrollLeft,o+=t.scrollTop,i-=r.left,o-=r.top,e.moveBy(i,o)}(n,e)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,r;if(Md(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const i=Rd(e);t=e.offsetWidth-e.clientWidth-i.left-i.right,n=e.offsetHeight-e.clientHeight-i.top-i.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const e of n)t.push(new Ud(e));else{let n=e.startContainer;Fd(n)&&(n=n.parentNode);const r=new Ud(n.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of e)n++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Ud(t))}}function qd(e,t){for(const n of zd)e[n]=t[n]}function Hd(e){return!!$d(e)&&e===e.ownerDocument.body}function $d(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect}function Wd(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}function Gd(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).overflow:"visible"}class Jd{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){Jd._observerInstance||Jd._createObserver(),this._element=e,this._callback=t,Jd._addElementCallback(e,t),Jd._observerInstance.observe(e)}get element(){return this._element}destroy(){Jd._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Jd._elementCallbacks||(Jd._elementCallbacks=new Map);let n=Jd._elementCallbacks.get(e);n||(n=new Set,Jd._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=Jd._getElementCallbacks(e);n&&(n.delete(t),n.size||(Jd._elementCallbacks.delete(e),Jd._observerInstance.unobserve(e))),Jd._elementCallbacks&&!Jd._elementCallbacks.size&&(Jd._observerInstance=null,Jd._elementCallbacks=null)}static _getElementCallbacks(e){return Jd._elementCallbacks?Jd._elementCallbacks.get(e):null}static _createObserver(){Jd._observerInstance=new Su.window.ResizeObserver(e=>{for(const t of e){const e=Jd._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}})}}function Yd(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function Kd(e){return t=>t+e}function Qd(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function Xd(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Zd(e){return e&&e.nodeType===Node.COMMENT_NODE}function eh(e){return!!e&&(Fd(e)?eh(e.parentElement):!!e.getClientRects&&!!e.getClientRects().length)}function th({element:e,target:t,positions:n,limiter:r,fitInViewport:i,viewportOffsetConfig:o}){(0,ku.isFunction)(t)&&(t=t()),(0,ku.isFunction)(r)&&(r=r());const s=Vd(e),a=function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new Ud(Su.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(o),l=new Ud(e),c=nh(t,a);let u;if(!c||!a.getIntersection(c))return null;const d={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(r||i){if(r){const e=nh(r,a);e&&(d.limiterRect=e)}u=function(e,t){const{elementRect:n}=t,r=n.getArea(),i=e.map(e=>new rh(e,t)).filter(e=>!!e.name);let o=0,s=null;for(const e of i){const{limiterIntersectionArea:t,viewportIntersectionArea:n}=e;if(t===r)return e;const i=n**2+t**2;i>o&&(o=i,s=e)}return s}(n,d)}else u=new rh(n[0],d);return u}function nh(e,t){const n=new Ud(e).getVisible();return n?n.getIntersection(t):null}class rh{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:r,top:i,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCoordinates={left:r,top:i},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function ih(e){const t=e.parentNode;t&&t.removeChild(e)}function oh({window:e,rect:t,alignToTop:n,forceScroll:r,viewportOffset:i}){const o=t.clone().moveBy(0,i.bottom),s=t.clone().moveBy(0,-i.top),a=new Ud(e).excludeScrollbarsAndBorders(),l=n&&r,c=[s,o].every(e=>a.contains(e));let{scrollX:u,scrollY:d}=e;const h=u,p=d;l?d-=a.top-t.top+i.top:c||(lh(s,a)?d-=a.top-t.top+i.top:ah(o,a)&&(d+=n?t.top-a.top-i.top:t.bottom-a.bottom+i.bottom)),c||(ch(t,a)?u-=a.left-t.left+i.left:uh(t,a)&&(u+=t.right-a.right+i.right)),u==h&&d===p||e.scrollTo(u,d)}function sh({parent:e,getRect:t,alignToTop:n,forceScroll:r,ancestorOffset:i=0,limiterElement:o}){const s=dh(e),a=n&&r;let l,c,u;const d=o||s.document.body;for(;e!=d;)c=t(),l=new Ud(e).excludeScrollbarsAndBorders(),u=l.contains(c),a?e.scrollTop-=l.top-c.top+i:u||(lh(c,l)?e.scrollTop-=l.top-c.top+i:ah(c,l)&&(e.scrollTop+=n?c.top-l.top-i:c.bottom-l.bottom+i)),u||(ch(c,l)?e.scrollLeft-=l.left-c.left+i:uh(c,l)&&(e.scrollLeft+=c.right-l.right+i)),e=e.parentNode}function ah(e,t){return e.bottom>t.bottom}function lh(e,t){return e.top<t.top}function ch(e,t){return e.left<t.left}function uh(e,t){return e.right>t.right}function dh(e){return Bd(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function hh(e){if(Bd(e)){let t=e.commonAncestorContainer;return Fd(t)&&(t=t.parentNode),t}return e.parentNode}function ph(e,t){const n=dh(e),r=new Ud(e);if(n===t)return r;{let e=n;for(;e!=t;){const t=e.frameElement,n=new Ud(t).excludeScrollbarsAndBorders();r.moveBy(n.left,n.top),e=e.parent}}return r}const fh={ctrl:"",cmd:"",alt:"",shift:""},mh={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},gh={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},bh=Eh(),yh=Object.fromEntries(Object.entries(bh).map(([e,t])=>{let n;return n=t in gh?gh[t]:e.charAt(0).toUpperCase()+e.slice(1),[t,n]}));function vh(e){let t;if("string"==typeof e){if(t=bh[e.toLowerCase()],!t)throw new Gu("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?bh.alt:0)+(e.ctrlKey?bh.ctrl:0)+(e.shiftKey?bh.shift:0)+(e.metaKey?bh.cmd:0);return t}function wh(e){return"string"==typeof e&&(e=function(e){return e.split("+").map(e=>e.trim())}(e)),e.map(e=>"string"==typeof e?function(e){if(e.endsWith("!"))return vh(e.slice(0,-1));const t=vh(e);return(Tu.isMac||Tu.isiOS)&&t==bh.ctrl?bh.cmd:t}(e):e).reduce((e,t)=>t+e,0)}function _h(e){let t=wh(e);return Object.entries(Tu.isMac||Tu.isiOS?fh:mh).reduce((e,[n,r])=>(0!=(t&bh[n])&&(t&=~bh[n],e+=r),e),"")+(t?yh[t]:"")}function xh(e,t){const n="ltr"===t;switch(e){case bh.arrowleft:return n?"left":"right";case bh.arrowright:return n?"right":"left";case bh.arrowup:return"up";case bh.arrowdown:return"down"}}function Eh(){const e={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}const kh=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Ah(e){return kh.includes(e)?"rtl":"ltr"}function Sh(e){return Array.isArray(e)?e:[e]}Su.window.CKEDITOR_TRANSLATIONS||(Su.window.CKEDITOR_TRANSLATIONS={});class Ph{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Ah(this.uiLanguage),this.contentLanguageDirection=Ah(this.contentLanguage),this.translations=function(e){return Array.isArray(e)?e.reduce((e,t)=>(0,ku.merge)(e,t)):e}(n),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Sh(t),"string"==typeof e&&(e={string:e});const n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,(e,n)=>n<t.length?t[n]:e)}(function(e,t,n=1,r){if("number"!=typeof n)throw new Gu("translation-service-quantity-not-a-number",null,{quantity:n});const i=r||Su.window.CKEDITOR_TRANSLATIONS,o=function(e){return Object.keys(e).length}(i);1===o&&(e=Object.keys(i)[0]);const s=t.id||t.string;if(0===o||!function(e,t,n){return!!n[e]&&!!n[e].dictionary[t]}(e,s,i))return 1!==n?t.plural:t.string;const a=i[e].dictionary,l=i[e].getPluralForm||(e=>1===e?0:1),c=a[s];return"string"==typeof c?c:c[Number(l(n))]}(this.uiLanguage,e,n,this.translations),t)}}class Ch extends(td()){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const n=Ad(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const t of e)this._items.push(t),this._itemMap.set(this._getItemIdBeforeAdding(t),t)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new Gu("collection-add-item-invalid-index",this);let n=0;for(const r of e){const e=this._getItemIdBeforeAdding(r),i=t+n;this._items.splice(i,0,r),this._itemMap.set(e,r),this.fire("add",r,i),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new Gu("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new Gu("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding(t=>new e(t))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding(t=>t[e])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,r,i)=>{const o=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(r);if(o&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=e(r);if(!n)return void this._skippedIndexesFromExternal.push(i);let o=i;for(const e of this._skippedIndexesFromExternal)i>e&&o--;for(const e of t._skippedIndexesFromExternal)o>=e&&o++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,o);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)o<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const e of t)n(0,e,t.getIndex(e));this.listenTo(t,"add",n),this.listenTo(t,"remove",(e,t,n)=>{const r=this._bindToExternalToInternalMap.get(t);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],"string"!=typeof n)throw new Gu("collection-add-invalid-id",this);if(this.get(n))throw new Gu("collection-add-item-already-exists",this)}else e[t]=n=Hu();return n}_remove(e){let t,n,r,i=!1;const o=this._idProperty;if("string"==typeof e?(n=e,r=this._itemMap.get(n),i=!r,r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,r=this._items[t],i=!r,r&&(n=r[o])):(r=e,n=r[o],t=this._items.indexOf(r),i=-1==t||!this._itemMap.get(n)),i)throw new Gu("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Th(e){const t=e.next();return t.done?null:t.value}class Oh extends(Id(gd())){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(Dh(e))this._addElement(e);else if(Mh(e))this._addView(e);else{if(!e.element)throw new Gu("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){Dh(e)?this._removeElement(e):Mh(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new Gu("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const t=this.externalViews.find(t=>function(e,t){return!!Ih(e,t)||!!t.focusTracker.externalViews.find(t=>Ih(e,t))}(e,t));t?this._focus(t.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(e=>e.contains(document.activeElement))||this.externalViews.find(e=>e.focusTracker.isFocused&&!e.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function Mh(e){return"focusTracker"in e&&e.focusTracker instanceof Oh}function Dh(e){return(0,ku.isElement)(e)}function Ih(e,t){return!!t.element&&t.element.contains(document.activeElement)&&e.contains(t.element)}class Nh{_listener;constructor(){this._listener=new(Id())}listenTo(e){this._listener.listenTo(e,"keydown",(e,t)=>{this._listener.fire("_keydown:"+vh(t),t)})}set(e,t,n={}){const r=wh(e),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(e,r)=>{n.filter&&!n.filter(r)||(t(r,()=>{r.preventDefault(),r.stopPropagation(),e.stop()}),e.return=!0)},{priority:i})}press(e){return!!this._listener.fire("_keydown:"+vh(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function jh(e){return Ad(e)?new Map(e):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(e)}function Rh(e,t,n,r){if(Math.max(t.length,e.length)>1e4)return e.slice(0,n).concat(t).concat(e.slice(n+r,e.length));{const i=Array.from(e);return i.splice(n,r,...t),i}}function Lh(e,t){let n;function r(...i){r.cancel(),n=setTimeout(()=>e(...i),t)}return r.cancel=()=>{clearTimeout(n)},r}function Fh(e,t){return function(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}(e.charAt(t-1))&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t))}function Bh(e,t){return function(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}(e.charAt(t))}const Vh=Uh();function zh(e,t){const n=String(e).matchAll(Vh);return Array.from(n).some(e=>e.index<t&&t<e.index+e[0].length)}function Uh(){const e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(e=>e.source).join("|")+")";return new RegExp(`${e}|${t}(?:${t})*`,"ug")}const qh=new WeakMap;let Hh=!1;function $h(e,t){const n=qh.get(e),r=[];let i=!1;for(const[e,o]of n)o.isDirectHost&&(r.push(e),Wh(t,e,o)&&(i=!0));for(const[e,o]of n){if(o.isDirectHost)continue;const n=Gh(e);n&&(r.includes(n)||(o.hostElement=n,Wh(t,e,o)&&(i=!0)))}return i}function Wh(e,t,n){const{text:r,isDirectHost:i,hostElement:o}=n;let s=!1;return o.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),s=!0),(i||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;const n=Array.from(e.getChildren()).some(e=>!e.is("uiElement"));if(n)return!1;const r=e.document,i=r.selection.anchor;return!(r.isComposing&&i&&i.parent===e||!t&&r.isFocused&&(!i||i.parent===e))}(o,n.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,o)&&(s=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,o)&&(s=!0),s}function Gh(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}let Jh=class{is(){throw new Error("is() method is abstract")}},Yh=class extends(td(Jh)){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Gu("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=kd(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=(0,ku.clone)(this);return delete e.parent,e}};Yh.prototype.is=function(e){return"node"===e||"view:node"===e};let Kh=class e extends Yh{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(t){return t instanceof e&&(this===t||this.data===t.data)}_clone(){return new e(this.document,this.data)}};Kh.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};let Qh=class extends Jh{textNode;data;offsetInText;constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new Gu("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new Gu("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}};Qh.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};class Xh{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const n=Zh(t,e);if(n)return{element:t,pattern:e,match:n}}return null}matchAll(...e){const t=[];for(const n of e)for(const e of this._patterns){const r=Zh(n,e);r&&t.push({element:n,pattern:e,match:r})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function Zh(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?!!t.match(e):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=new Set(t.getAttributeKeys());return(0,ku.isPlainObject)(e)?(void 0!==e.style&&Ju("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&Ju("matcher-pattern-deprecated-attributes-class-key",e)):(n.delete("style"),n.delete("class")),ep(e,n,e=>t.getAttribute(e))}(t.attributes,e),!n.attributes)||t.classes&&(n.classes=function(e,t){return ep(e,t.getClassNames(),()=>{})}(t.classes,e),!n.classes)||t.styles&&(n.styles=function(e,t){return ep(e,t.getStyleNames(!0),e=>t.getStyle(e))}(t.styles,e),!n.styles)?null:n}function ep(e,t,n){const r=function(e){return Array.isArray(e)?e.map(e=>(0,ku.isPlainObject)(e)?(void 0!==e.key&&void 0!==e.value||Ju("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):(0,ku.isPlainObject)(e)?Object.entries(e):[[e,!0]]}(e),i=Array.from(t),o=[];if(r.forEach(([e,t])=>{i.forEach(r=>{(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(e,r)&&function(e,t,n){if(!0===e)return!0;const r=n(t);return e===r||e instanceof RegExp&&!!String(r).match(e)}(t,r,n)&&o.push(r)})}),r.length&&!(o.length<r.length))return o}class tp{_styles;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(e){let t=null,n=0,r=0,i=null;const o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===t)switch(a){case":":i||(i=e.substr(n,s-n),r=s+1);break;case'"':case"'":t=a;break;case";":{const t=e.substr(r,s-r);i&&o.set(i.trim(),t.trim()),i=null,n=s+1;break}}else a===t&&(t=null)}return o}(e);for(const[e,n]of t)this._styleProcessor.toNormalizedForm(e,n,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([t])=>t===e);return Array.isArray(t)}set(e,t){if((0,ku.isObject)(e))for(const[t,n]of Object.entries(e))this._styleProcessor.toNormalizedForm(t,n,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=rp(e);(0,ku.unset)(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,ku.isObject)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([t])=>t===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([e])=>e)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),r=(0,ku.get)(this._styles,n);r&&!Object.keys(r).length&&this.remove(n)}}class np{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if((0,ku.isObject)(t))ip(n,rp(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:i,value:o}=r(t);ip(n,i,o)}else ip(n,e,t)}getNormalized(e,t){if(!e)return(0,ku.merge)({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if("string"==typeof n)return(0,ku.get)(t,n);const r=n(e,t);if(r)return r}return(0,ku.get)(t,rp(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=new Set;for(const n of this._consumables.keys()){const r=this.getNormalized(n,e);r&&("object"!=typeof r||Object.keys(r).length)&&t.add(n)}for(const n of Object.keys(e))t.add(n);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function rp(e){return e.replace("-",".")}function ip(e,t,n){let r=n;(0,ku.isObject)(n)&&(r=(0,ku.merge)({},(0,ku.get)(e,t),n)),(0,ku.set)(e,t,r)}let op=class e extends Yh{name;_unsafeAttributesToRender=[];_attrs;_children;_classes;_styles;_customProperties=new Map;constructor(e,t,n,r){if(super(e),this.name=t,this._attrs=function(e){const t=jh(e);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");sp(this._classes,e),this._attrs.delete("class")}this._styles=new tp(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Xh(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(e=>`${e[0]}="${e[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const n of this.getChildren())t.push(n._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){return"string"==typeof t?[new Kh(e,t)]:(Ad(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Kh(e,t):t instanceof Qh?new Kh(e,t.data):t))}(this.document,t);for(const t of r)null!==t.parent&&t._remove(),t.parent=this,t.document=this.document,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),"class"==e?sp(this._classes,n):"style"==e?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Sh(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Sh(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),"string"!=typeof e?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Sh(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};function sp(e,t){const n=t.split(/\s+/);e.clear(),n.forEach(t=>e.add(t))}op.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};class ap extends op{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=lp}}function lp(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const t of e)if(!t.is("uiElement"))return null;return this.childCount}ap.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class cp extends(gd(ap)){constructor(e,t,n,r){super(e,t,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",t=>t&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}cp.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};const up=Symbol("rootName");class dp extends cp{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(up)}set rootName(e){this._setCustomProperty(up,e)}set _name(e){this.name=e}}dp.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let hp=class{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Gu("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new Gu("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=pp._createAt(e.startPosition):this._position=pp._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do{n=this.position,t=this.next()}while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(n instanceof Kh){if(e.isAtEnd)return this._position=pp._createAfter(n),this._next();r=n.data[e.offset]}else r=n.getChild(e.offset);if(r instanceof op){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new pp(r,0);return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r instanceof Kh){if(this.singleCharacters)return e=new pp(r,0),this._position=e,this._next();let n,i=r.data.length;return r==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new Qh(r,0,i),e=pp._createAfter(n)):(n=new Qh(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",n,t,e,i)}if("string"==typeof r){let r;r=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const i=new Qh(n,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",i,t,e,r)}return e=pp._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(n instanceof Kh){if(e.isAtStart)return this._position=pp._createBefore(n),this._previous();r=n.data[e.offset-1]}else r=n.getChild(e.offset-1);if(r instanceof op)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new pp(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof Kh){if(this.singleCharacters)return e=new pp(r,r.data.length),this._position=e,this._previous();let n,i=r.data.length;if(r==this._boundaryStartParent){const t=this.boundaries.start.offset;n=new Qh(r,t,r.data.length-t),i=n.data.length,e=pp._createBefore(n)}else n=new Qh(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",n,t,e,i)}if("string"==typeof r){let r;if(this.singleCharacters)r=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-t}e.offset-=r;const i=new Qh(n,e.offset,r);return this._position=e,this._formatReturnValue("text",i,t,e,r)}return e=pp._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,r,i){return t instanceof Qh&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=pp._createAfter(t.textNode):(r=pp._createAfter(t.textNode),this._position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=pp._createBefore(t.textNode):(r=pp._createBefore(t.textNode),this._position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}},pp=class e extends Jh{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof cp);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(t){const n=e._createAt(this),r=n.offset+t;return n.offset=r<0?0:r,n}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new hp(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const r=kd(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new hp(e)}clone(){return new e(this.parent,this.offset)}static _createAt(t,n){if(t instanceof e)return new this(t.parent,t.offset);{const r=t;if("end"==n)n=r.is("$text")?r.data.length:r.childCount;else{if("before"==n)return this._createBefore(r);if("after"==n)return this._createAfter(r);if(0!==n&&!n)throw new Gu("view-createpositionat-offset-required",r)}return new e(r,n)}}static _createAfter(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new Gu("view-position-after-root",t,{root:t});return new e(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new Gu("view-position-before-root",t,{root:t});return new e(t.parent,t.index)}};pp.prototype.is=function(e){return"position"===e||"view:position"===e};let fp=class e extends Jh{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new hp({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(mp,{direction:"backward"}),n=this.end.getLastMatchingPosition(mp);return t.parent.is("$text")&&t.isAtStart&&(t=pp._createBefore(t.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=pp._createAfter(n.parent)),new e(t,n)}getTrimmed(){let t=this.start.getLastMatchingPosition(mp);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);let n=this.end.getLastMatchingPosition(mp,{direction:"backward"});const r=t.nodeAfter,i=n.nodeBefore;return r&&r.is("$text")&&(t=new pp(r,0)),i&&i.is("$text")&&(n=new pp(i,i.data.length)),new e(t,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}getDifference(t){const n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}getIntersection(t){if(this.isIntersecting(t)){let n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}getWalker(e={}){return e.boundaries=this,new hp(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new e(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new hp(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new hp(e);yield t.position;for(const e of t)yield e.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new pp(e,t),new pp(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(pp._createBefore(e),t)}};function mp(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}fp.prototype.is=function(e){return"range"===e||"view:range"===e};let gp=class e extends(td(Jh)){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Ed(this.getRanges());if(t!=Ed(e.getRanges()))return!1;if(0==t)return!0;for(let t of this.getRanges()){t=t.getTrimmed();let n=!1;for(let r of e.getRanges())if(r=r.getTrimmed(),t.start.isEqual(r.start)&&t.end.isEqual(r.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[n,r,i]=t;if("object"==typeof r&&(i=r,r=void 0),null===n)this._setRanges([]),this._setFakeOptions(i);else if(n instanceof e||n instanceof bp)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof fp)this._setRanges([n],i&&i.backward),this._setFakeOptions(i);else if(n instanceof pp)this._setRanges([new fp(n)]),this._setFakeOptions(i);else if(n instanceof Yh){const e=!!i&&!!i.backward;let t;if(void 0===r)throw new Gu("view-selection-setto-required-second-parameter",this);t="in"==r?fp._createIn(n):"on"==r?fp._createOn(n):new fp(pp._createAt(n,r)),this._setRanges([t],e),this._setFakeOptions(i)}else{if(!Ad(n))throw new Gu("view-selection-setto-not-selectable",this);this._setRanges(n,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new Gu("view-selection-setfocus-no-ranges",this);const n=pp._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new fp(n,r),!0):this._addRange(new fp(r,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const t of e)this._addRange(t);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof fp))throw new Gu("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new Gu("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new fp(e.start,e.end))}};gp.prototype.is=function(e){return"selection"===e||"view:selection"===e};let bp=class extends(td(Jh)){_selection;constructor(...e){super(),this._selection=new gp,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};bp.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};class yp extends Uu{startRange;_eventPhase;_currentTarget;constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const vp=Symbol("bubbling contexts");function _p(e){return class extends e{fire(e,...t){try{const n=e instanceof Uu?e:new Uu(this,e),r=Ap(this);if(!r.size)return;if(xp(n,"capturing",this),Ep(r,"$capture",n,...t))return n.return;const i=n.startRange||this.selection.getFirstRange(),o=i?i.getContainedElement():null,s=!!o&&Boolean(kp(r,o));let a=o||function(e){if(!e)return null;const t=e.start.parent,n=e.end.parent,r=t.getPath(),i=n.getPath();return r.length>i.length?t:n}(i);if(xp(n,"atTarget",a),!s){if(Ep(r,"$text",n,...t))return n.return;xp(n,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(Ep(r,"$root",n,...t))return n.return}else if(a.is("element")&&Ep(r,a.name,n,...t))return n.return;if(Ep(r,a,n,...t))return n.return;a=a.parent,xp(n,"bubbling",a)}return xp(n,"bubbling",this),Ep(r,"$document",n,...t),n.return}catch(e){Gu.rethrowUnexpectedError(e,this)}}_addEventListener(e,t,n){const r=Sh(n.context||"$document"),i=Ap(this);for(const o of r){let r=i.get(o);r||(r=new(td()),i.set(o,r)),this.listenTo(r,e,t,n)}}_removeEventListener(e,t){const n=Ap(this);for(const r of n.values())this.stopListening(r,e,t)}}}{const e=_p(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{_p[t]=e.prototype[t]})}function xp(e,t,n){e instanceof yp&&(e._eventPhase=t,e._currentTarget=n)}function Ep(e,t,n,...r){const i="string"==typeof t?e.get(t):kp(e,t);return!!i&&(i.fire(n,...r),n.stop.called)}function kp(e,t){for(const[n,r]of e)if("function"==typeof n&&n(t))return r;return null}function Ap(e){return e[vp]||(e[vp]=new Map),e[vp]}let Sp=class extends(_p(gd())){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new bp,this.roots=new Ch({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}};class Pp extends op{static DEFAULT_PRIORITY=10;_priority=10;_id=null;_clonesGroup=null;constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Cp}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new Gu("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Cp(){if(Tp(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(Tp(e)>1)return null;e=e.parent}return!e||Tp(e)>1?null:this.childCount}function Tp(e){return Array.from(e.getChildren()).filter(e=>!e.is("uiElement")).length}Pp.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Op extends op{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Mp}_insertChild(e,t){if(t&&(t instanceof Yh||Array.from(t).length>0))throw new Gu("view-emptyelement-cannot-add",[this,t]);return 0}}function Mp(){return null}Op.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Dp extends op{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Ip}_insertChild(e,t){if(t&&(t instanceof Yh||Array.from(t).length>0))throw new Gu("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys())t.setAttribute(e,this.getAttribute(e));return t}}function Ip(){return null}Dp.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Np extends op{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=jp}_insertChild(e,t){if(t&&(t instanceof Yh||Array.from(t).length>0))throw new Gu("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function jp(){return null}Np.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let Rp=class extends(td(Jh)){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){return"string"==typeof t?[new Kh(e,t)]:(Ad(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Kh(e,t):t instanceof Qh?new Kh(e,t.data):t))}(this.document,t);for(const t of r)null!==t.parent&&t._remove(),t.parent=this,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Rp.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};class Lp{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Rp(this.document,e)}createText(e){return new Kh(this.document,e)}createAttributeElement(e,t,n={}){const r=new Pp(this.document,e,t);return"number"==typeof n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createContainerElement(e,t,n={},r={}){let i=null;(0,ku.isPlainObject)(n)?r=n:i=n;const o=new ap(this.document,e,t,i);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(e,t,n={}){const r=new cp(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEmptyElement(e,t,n={}){const r=new Op(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createUIElement(e,t,n){const r=new Dp(this.document,e,t);return n&&(r.render=n),r}createRawElement(e,t,n,r={}){const i=new Np(this.document,e,t);return n&&(i.render=n),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){(0,ku.isPlainObject)(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof pp?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new Gu("view-writer-break-non-container-element",this.document);if(!t.parent)throw new Gu("view-writer-break-root",this.document);if(e.isAtStart)return pp._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(pp._createAfter(t),n);const r=new fp(e,pp._createAt(t,"end")),i=new pp(n,0);this.move(r,i)}return pp._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new pp(e,t))}const r=n.getChild(t-1),i=n.getChild(t);if(!r||!i)return e;if(r.is("$text")&&i.is("$text"))return Up(r,i);if(r.is("attributeElement")&&i.is("attributeElement")&&r.isSimilar(i)){const e=r.childCount;return r._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new pp(r,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new Gu("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),i=r instanceof Kh?pp._createAt(r,"end"):pp._createAt(t,"end");return this.move(fp._createIn(n),pp._createAt(t,"end")),this.remove(fp._createOn(n)),i}insert(e,t){Hp(t=Ad(t)?[...t]:[t],this.document);const n=t.reduce((e,t)=>{const n=e[e.length-1],r=!t.is("uiElement");return n&&n.breakAttributes==r?n.nodes.push(t):e.push({breakAttributes:r,nodes:[t]}),e},[]);let r=null,i=e;for(const{nodes:e,breakAttributes:t}of n){const n=this._insertNodes(i,e,t);r||(r=n.start),i=n.end}return r?new fp(r,i):new fp(e)}remove(e){const t=e instanceof fp?e:fp._createOn(e);if(Wp(t,this.document),t.isCollapsed)return new Rp(this.document);const{start:n,end:r}=this._breakAttributesRange(t,!0),i=n.parent,o=r.offset-n.offset,s=i._removeChildren(n.offset,o);for(const e of s)this._removeFromClonedElementsGroup(e);const a=this.mergeAttributes(n);return t.start=a,t.end=a.clone(),new Rp(this.document,s)}clear(e,t){Wp(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let i;if(n.is("element")&&t.isSimilar(n))i=fp._createOn(n);else if(!r.nextPosition.isAfter(e.start)&&n.is("$textProxy")){const e=n.getAncestors().find(e=>e.is("element")&&t.isSimilar(e));e&&(i=fp._createIn(e))}i&&(i.end.isAfter(e.end)&&(i.end=e.end),i.start.isBefore(e.start)&&(i.start=e.start),this.remove(i))}}move(e,t){let n;if(t.isAfter(e.end)){const r=(t=this._breakAttributes(t,!0)).parent,i=r.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Pp))throw new Gu("view-writer-wrap-invalid-attribute",this.document);if(Wp(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&(n=r.parent,!Array.from(n.getChildren()).some(e=>!e.is("uiElement")))&&(r=r.getLastMatchingPosition(e=>e.item.is("uiElement"))),r=this._wrapPosition(r,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new fp(r)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Pp))throw new Gu("view-writer-unwrap-invalid-attribute",this.document);if(Wp(e,this.document),e.isCollapsed)return e;const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._unwrapChildren(i,n.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new fp(s,a)}rename(e,t){const n=new ap(this.document,e,t.getAttributes());return this.insert(pp._createAfter(t),n),this.move(fp._createIn(t),pp._createAt(n,0)),this.remove(fp._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return pp._createAt(e,t)}createPositionAfter(e){return pp._createAfter(e)}createPositionBefore(e){return pp._createBefore(e)}createRange(e,t){return new fp(e,t)}createRangeOn(e){return fp._createOn(e)}createRangeIn(e){return fp._createIn(e)}createSelection(...e){return new gp(...e)}createSlot(e="children"){if(!this._slotFactory)throw new Gu("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let r,i;if(r=n?Fp(e):e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new Gu("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(e,!0):e.parent.is("$text")?zp(e):e;const o=r._insertChild(i.offset,t);for(const e of t)this._addToClonedElementsGroup(e);const s=i.getShiftedBy(o),a=this.mergeAttributes(i);a.isEqual(i)||s.offset--;const l=this.mergeAttributes(s);return new fp(a,l)}_wrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i),n=t.is("$text"),s=t.is("attributeElement");if(s&&this._wrapAttributeElement(r,t))o.push(new pp(e,i));else if(n||!s||Bp(r,t)){const n=r._clone();t._remove(),n._appendChild(t),e._insertChild(i,n),this._addToClonedElementsGroup(n),o.push(new pp(e,i))}else this._wrapChildren(t,0,t.childCount,r);i++}let s=0;for(const e of o)e.offset-=s,e.offset!=t&&(this.mergeAttributes(e).isEqual(e)||(s++,n--));return fp._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i);if(t.is("attributeElement")){if(t.isSimilar(r)){const r=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(i,r),this._removeFromClonedElementsGroup(t),o.push(new pp(e,i),new pp(e,i+s)),i+=s,n+=s-1;continue}this._unwrapAttributeElement(r,t)?(o.push(new pp(e,i),new pp(e,i+1)),i++):(this._unwrapChildren(t,0,t.childCount,r),i++)}else i++}let s=0;for(const e of o)e.offset-=s,e.offset!=t&&e.offset!=n&&(this.mergeAttributes(e).isEqual(e)||(s++,n--));return fp._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._wrapChildren(i,n.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new fp(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Vp(e.clone());e.parent.is("$text")&&(e=zp(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const r=new fp(e,e.getShiftedBy(1));this.wrap(r,t);const i=new pp(n.parent,n.index);n._remove();const o=i.nodeBefore,s=i.nodeAfter;return o instanceof Kh&&s instanceof Kh?Up(o,s):Vp(i)}_wrapAttributeElement(e,t){if(!Gp(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Gp(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,r=e.end;if(Wp(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new fp(n,n)}const i=this._breakAttributes(r,t),o=i.parent.childCount,s=this._breakAttributes(n,t);return i.offset+=i.parent.childCount-o,new fp(s,i)}_breakAttributes(e,t=!1){const n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new Gu("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Gu("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new Gu("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&$p(r.parent))return e.clone();if($p(r))return e.clone();if(r.is("$text"))return this._breakAttributes(zp(e),t);if(n==r.childCount){const e=new pp(r.parent,r.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new pp(r.parent,r.index);return this._breakAttributes(e,t)}{const e=r.index+1,i=r._clone();r.parent._insertChild(e,i),this._addToClonedElementsGroup(i);const o=r.childCount-n,s=r._removeChildren(n,o);i._appendChild(s);const a=new pp(r.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const t of e.getChildren())this._addToClonedElementsGroup(t);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function Fp(e){let t=e.parent;for(;!$p(t);){if(!t)return;t=t.parent}return t}function Bp(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function Vp(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new pp(t,t.data.length);const n=e.nodeAfter;return n&&n.is("$text")?new pp(n,0):e}function zp(e){if(e.offset==e.parent.data.length)return new pp(e.parent.parent,e.parent.index+1);if(0===e.offset)return new pp(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new Kh(e.root.document,t)),new pp(e.parent.parent,e.parent.index+1)}function Up(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new pp(e,n)}const qp=[Kh,Pp,ap,Op,Np,Dp];function Hp(e,t){for(const n of e){if(!qp.some(e=>n instanceof e))throw new Gu("view-writer-insert-invalid-node-type",t);n.is("$text")||Hp(n.getChildren(),t)}}function $p(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function Wp(e,t){const n=Fp(e.start),r=Fp(e.end);if(!n||!r||n!==r)throw new Gu("view-writer-invalid-range-container",t)}function Gp(e,t){return null===e.id&&null===t.id}const Jp=e=>e.createTextNode(""),Yp=e=>{const t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText="",t},Kp=e=>{const t=e.createElement("br");return t.dataset.ckeFiller="true",t},Qp="".repeat(7);function Xp(e){return"string"==typeof e?e.substr(0,7)===Qp:Fd(e)&&e.data.substr(0,7)===Qp}function Zp(e){return 7==e.data.length&&Xp(e)}function ef(e){const t="string"==typeof e?e:e.data;return Xp(e)?t.slice(7):t}function tf(e,t){if(t.keyCode==bh.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;Xp(t)&&n<=7&&e.collapse(t,0)}}}class nf extends(gd()){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Tu.isBlink&&!Tu.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new Gu("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!Tu.isAndroid)return;let e=null;const t=!(Tu.isBlink&&!Tu.isAndroid&&this.isSelecting);for(const e of this.markedChildren)this._updateChildrenMappings(e);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=pp._createBefore(e.parent)));for(const e of this.markedAttributes)this._updateAttrs(e);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(t)if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;Xp(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=rf(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),i=this._diffNodeLists(n,r),o=this._findUpdateActions(i,n,r,of);if(-1!==o.indexOf("update")){const t={equal:0,insert:0,delete:0};for(const i of o)if("update"===i){const i=t.equal+t.insert,o=t.equal+t.delete,s=e.getChild(i);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[o]),ih(r[i]),t.equal++}else t[i]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?pp._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Fd(t.parent)&&Xp(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Xp(e))throw new Gu("view-renderer-filler-was-lost",this);Zp(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;const r=e.nodeBefore,i=e.nodeAfter;return!(r instanceof Kh||i instanceof Kh||!(n!==t.getFillerOffset()||r&&r.is("element","br"))||Tu.isAndroid&&(r||i))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const i=t.inlineFillerPosition;i&&i.parent==e.parent&&i.offset==e.index&&(r=Qp+r),this._updateTextNode(n,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const n of t.attributes){const r=n.name;e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}for(const n of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,n,e.getAttribute(n),e)}}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(Tu.isAndroid){let e=null;for(const t of Array.from(n.childNodes)){if(e&&Fd(e)&&Fd(t)){n.normalize();break}e=t}}const r=t.inlineFillerPosition,i=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&rf(n.ownerDocument,o,r.offset);const s=this._diffNodeLists(i,o),a=this._findUpdateActions(s,i,o,sf);let l=0;const c=new Set;for(const e of a)"delete"===e?(c.add(i[l]),ih(i[l])):"equal"!==e&&"update"!==e||l++;l=0;for(const e of a)"insert"===e?(Xd(n,l,o[l]),l++):"update"===e?(this._updateTextNode(i[l],o[l].data),l++):"equal"===e&&(this._markDescendantTextToSync(this.domConverter.domToView(o[l])),l++);for(const e of c)e.parentNode||this.domConverter.unbindDomElement(e)}_diffNodeLists(e,t){return zu(e=function(e,t){const n=Array.from(e);if(0==n.length||!t)return n;return n[n.length-1]==t&&n.pop(),n}(e,this._fakeSelectionContainer),t,af.bind(null,this.domConverter))}_findUpdateActions(e,t,n,r){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let i=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of e)"insert"===l?s.push(n[a.equal+a.insert]):"delete"===l?o.push(t[a.equal+a.delete]):(i=i.concat(zu(o,s,r).map(e=>"equal"===e?"update":e)),i.push("equal"),o=[],s=[]),a[l]++;return i.concat(zu(o,s,r).map(e=>"equal"===e?"update":e))}_updateTextNode(e,t){const n=e.data;n!=t&&(Tu.isAndroid&&this.isComposing&&n.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const n=Fu(e.data,t);for(const t of n)"insert"===t.type?e.insertData(t.index,t.values.join("")):e.deleteData(t.index,t.howMany)}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(Tu.isBlink&&!Tu.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Tu.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const r=t.getSelection(),i=t.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,r.parent,r.offset),Tu.isGecko&&function(e,t){let n=e.parent,r=e.offset;if(Fd(n)&&Zp(n)&&(r=Qd(n)+1,n=n.parentNode),n.nodeType!=Node.ELEMENT_NODE||r!=n.childNodes.length-1)return;const i=n.childNodes[r];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,r=this.domConverter.mapDomToView(n);n&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function rf(e,t,n){const r=t instanceof Array?t:t.childNodes,i=r[n];if(Fd(i))return i.data=Qp+i.data,i;{const i=e.createTextNode(Qp);return Array.isArray(t)?r.splice(n,0,i):Xd(t,n,i),i}}function of(e,t){return Od(e)&&Od(t)&&!Fd(e)&&!Fd(t)&&!Zd(e)&&!Zd(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function sf(e,t){return Od(e)&&Od(t)&&Fd(e)&&Fd(t)}function af(e,t,n){return t===n||(Fd(t)&&Fd(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}const lf=Kp(Su.document),cf=Jp(Su.document),uf=Yp(Su.document),df="data-ck-unsafe-attribute-",hf="data-ck-unsafe-element";class pf{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new Xh;_inlineObjectElementMatcher=new Xh;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this.document=e,this.renderingMode=n,this.blockFillerMode=t||("editing"===n?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Su.document:Su.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new gp(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of e.children)this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===e||"srcset"===e)||"source"===n&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const n=(new DOMParser).parseFromString(t,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);const o=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const e of s){for(const t of e.getAttributeNames())this.setDomElementAttribute(e,t,e.getAttribute(t));const t=e.tagName.toLowerCase();this._shouldRenameElement(t)&&(gf(t),e.replaceWith(this._createReplacementDomElement(t,e)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let r;if(n.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,n);else{if(n.is("uiElement"))return r="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(r,n),r;this._shouldRenameElement(n.name)?(gf(n.name),r=this._createReplacementDomElement(n.name)):r=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(r,this),t.bind&&this.bindElements(r,n);for(const e of n.getAttributeKeys())this.setDomElementAttribute(r,e,n.getAttribute(e),n)}if(!1!==t.withChildren)for(const e of this.viewChildrenToDom(n,t))r instanceof HTMLTemplateElement?r.content.appendChild(e):r.appendChild(e);return r}}setDomElementAttribute(e,t,n,r){const i=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);i||Ju("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(e){try{Su.document.createAttribute(e)}catch(e){return!1}return!0}(t)?(e.hasAttribute(t)&&!i?e.removeAttribute(t):e.hasAttribute(df+t)&&i&&e.removeAttribute(df+t),e.setAttribute(i?t:df+t,n)):Ju("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=hf&&(e.removeAttribute(t),e.removeAttribute(df+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const i of e.getChildren()){n===r&&(yield this._getBlockFiller());const e=i.is("element")&&!!i.getCustomProperty("dataPipeline:transparentRendering")&&!Th(i.getAttributes());if(e&&"data"==this.renderingMode)if(i.is("rawElement")){const e=this._domDocument.createElement(i.name);i.render(e,this),yield*[...e.childNodes]}else yield*this.viewChildrenToDom(i,t);else e&&Ju("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:i}),yield this.viewToDom(i,t);r++}n===r&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let r=e.offset;return Xp(n)&&(r+=7),{parent:n,offset:r}}{let n,r,i;if(0===e.offset){if(n=this.mapViewToDom(t),!n)return null;i=n.childNodes[0]}else{const t=e.nodeBefore;if(r=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t),!r)return null;n=r.parentNode,i=r.nextSibling}return Fd(i)&&Xp(i)?{parent:i,offset:7}:{parent:n,offset:r?Qd(r)+1:0}}}domToView(e,t={}){const n=[],r=this._domToView(e,t,n),i=r.next().value;return i?(r.next(),this._processDomInlineNodes(null,n,t),i.is("$text")&&0==i.data.length?null:i):null}*domChildrenToView(e,t={},n=[]){let r=[];r=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let i=0;i<r.length;i++){const o=r[i],s=this._domToView(o,t,n),a=s.next().value;null!==a&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(e,n,t),yield a,s.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(e){if(!Tu.isGecko)return!1;if(!e.rangeCount)return!1;const t=e.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch(e){return!0}return!1}(e))return new gp([]);if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;Fd(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let t=0;t<e.rangeCount;t++){const r=e.getRangeAt(t),i=this.domRangeToView(r);i&&n.push(i)}return new gp(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new fp(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Qd(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return pp._createBefore(n);if(Fd(e)){if(Zp(e))return this.domPositionToView(e.parentNode,Qd(e));const n=this.findCorrespondingViewText(e);let r=t;return n?(Xp(e)&&(r-=7,r=r<0?0:r),new pp(n,r)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new pp(t,0)}else{const n=e.childNodes[t-1];if(Fd(n)&&Zp(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Qd(n));const r=Fd(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new pp(r.parent,r.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Zp(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e){const t=e.nextSibling;return t instanceof Kh?t:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof Kh?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=Su.window,r=[];ff(t,e=>{const{scrollLeft:t,scrollTop:n}=e;r.push([t,n])}),t.focus(),ff(t,e=>{const[t,n]=r.shift();e.scrollLeft=t,e.scrollTop=n}),Su.window.scrollTo(e,n)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(lf):!("BR"!==e.tagName||!mf(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(uf)||function(e,t){return e.isEqualNode(cf)&&mf(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(e){return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Jp(this._domDocument);case"markedNbsp":return Yp(this._domDocument);case"br":return Kp(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Fd(e)&&Xp(e)&&t<7)return!1;if(this.isElement(e)&&Xp(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const r=this.getHostViewElement(e);if(r)return r;if(Zd(e)&&t.skipComments)return null;if(Fd(e)){if(Zp(e))return null;{const t=e.data;if(""===t)return null;const r=new Kh(this.document,t);return n.push(r),r}}{let r=this.mapDomToView(e);if(r)return this._isInlineObjectElement(r)&&n.push(r),r;if(this.isDocumentFragment(e))r=new Rp(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const i=e.attributes;if(i)for(let e=i.length,t=0;t<e;t++)r._setAttribute(i[t].name,i[t].value);if(this._isViewElementWithRawContent(r,t))return r._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(r)||n.push(r),r;if(Zd(e))return r._setCustomProperty("$rawContent",e.data),r}yield r;const i=[];if(!1!==t.withChildren)for(const n of this.domChildrenToView(e,t,i))r._appendChild(n);if(this._isInlineObjectElement(r))n.push(r),this._processDomInlineNodes(null,i,t);else for(const e of i)n.push(e)}}_processDomInlineNodes(e,t,n){if(!t.length)return;if(e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let e=0;e<t.length;e++){const i=t[e];if(!i.is("$text")){r=!1;continue}let o,s=!1;if(this._isPreFormatted(i))o=ef(i.data);else{o=i.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(o.charAt(o.length-1));const a=e>0?t[e-1]:null,l=e+1<t.length?t[e+1]:null,c=!a||a.is("element")&&"br"==a.name||r,u=!l&&!Xp(i.data);!1!==n.withChildren&&(c&&(o=o.replace(/^ /,"")),u&&(o=o.replace(/ $/,""))),o=ef(o),o=o.replace(/ \u00A0/g,"  ");const d=l&&l.is("element")&&"br"!=l.name,h=l&&l.is("$text")&&" "==l.data.charAt(0);(/[ \u00A0]\u00A0$/.test(o)||!l||d||h)&&(o=o.replace(/\u00A0$/," ")),(c||a&&a.is("element")&&"br"!=a.name)&&(o=o.replace(/^\u00A0/," "))}0==o.length&&i.parent?(i._remove(),t.splice(e,1),e--):(i._data=o,r=s)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(" "==t.charAt(0)){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=""+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingInlineViewNode(e,!0),r=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=t.charAt(t.length-2)&&n&&!r||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_isPreFormatted(e){if(function(e,t){return e.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(t.is("element")&&t.hasStyle("white-space")&&"inherit"!==t.getStyle("white-space"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const n=new hp({startPosition:t?pp._createAfter(e):pp._createBefore(e),direction:t?"forward":"backward"});for(const{item:e}of n){if(e.is("$textProxy"))return e;if(!e.is("element")||!e.getCustomProperty("dataPipeline:transparentRendering")){if(e.is("element","br"))return null;if(this._isInlineObjectElement(e))return e;if(e.is("containerElement"))return null}}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&("br"==e.name||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(Zd(e))return new Dp(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new op(this.document,n)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(hf,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const e of t.getAttributeNames())n.setAttribute(e,t.getAttribute(e))}return n}}function ff(e,t){let n=e;for(;n;)t(n),n=n.parentElement}function mf(e,t){const n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function gf(e){"script"===e&&Ju("domconverter-unsafe-script-element-detected"),"style"===e&&Ju("domconverter-unsafe-style-element-detected")}class bf extends(Id()){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class yf{view;document;domEvent;domTarget;constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,ku.extend)(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class vf extends bf{useCapture=!1;usePassive=!1;observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new yf(this.view,t,n))}}class wf extends vf{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return vh(this)}};this.fire(e.type,e,t)}}class _f extends bf{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,ku.debounce)(e=>{this.document.fire("selectionChangeDone",e)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new gp(t.getRanges(),{backward:t.isBackward,fake:!1});e!=bh.arrowleft&&e!=bh.arrowup||n.setTo(n.getFirstPosition()),e!=bh.arrowright&&e!=bh.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}class xf extends bf{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Set,r=new Set;for(const n of e){const e=t.mapDomToView(n.target);e&&(e.is("uiElement")||e.is("rawElement")||"childList"!==n.type||this._isBogusBrMutation(n)||r.add(e))}for(const i of e){const e=t.mapDomToView(i.target);if((!e||!e.is("uiElement")&&!e.is("rawElement"))&&"characterData"===i.type){const e=t.findCorrespondingViewText(i.target);e&&!r.has(e.parent)?n.add(e):!e&&Xp(i.target)&&r.add(t.mapDomToView(i.target.parentNode))}}const i=[];for(const e of n)i.push({type:"text",node:e});for(const e of r){const n=t.mapViewToDom(e),r=Array.from(e.getChildren()),o=Array.from(t.domChildrenToView(n,{withChildren:!1}));(0,ku.isEqualWith)(r,o,Ef)||i.push({type:"children",node:e})}i.length&&this.document.fire("mutations",{mutations:i})}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Ef(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}class kf extends vf{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(e,t)=>this._handleBlur(t)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;null!==t&&t!==e.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class Af extends bf{mutationObserver;focusObserver;selection;domConverter;_documents;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter;constructor(e){super(e),this.mutationObserver=e.getObserver(xf),this.focusObserver=e.getObserver(kf),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,ku.debounce)(e=>{this.document.fire("selectionChangeDone",e)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,ku.debounce)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!Tu.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(t))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(n))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Sf extends vf{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Pf{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?Cf(e):null,this._native=e}get files(){return this._files||(this._files=Cf(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function Cf(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter(e=>"file"===e.kind).map(e=>e.getAsFile())}class Tf extends vf{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),n=this.view,r=n.document;let i=null,o=null,s=[];if(e.dataTransfer&&(i=new Pf(e.dataTransfer)),null!==e.data?o=e.data:i&&(o=i.getData("text/plain")),r.selection.isFake)s=Array.from(r.selection.getRanges());else if(t.length)s=t.map(e=>{const t=n.domConverter.domPositionToView(e.startContainer,e.startOffset),r=n.domConverter.domPositionToView(e.endContainer,e.endOffset);return t?n.createRange(t,r):r?n.createRange(r):void 0}).filter(e=>!!e);else if(Tu.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(t).getRanges())}if(Tu.isAndroid&&"insertCompositionText"==e.inputType&&o&&o.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else{if("insertText"==e.inputType&&o&&o.includes("\n")){const t=o.split(/\n{1,2}/g);let n=s;for(let o=0;o<t.length;o++){const s=t[o];""!=s&&(this.fire(e.type,e,{data:s,dataTransfer:i,targetRanges:n,inputType:e.inputType,isComposing:e.isComposing}),n=[r.selection.getFirstRange()]),o+1<t.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:n}),n=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:i,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}}class Of extends bf{constructor(e){super(e),this.document.on("keydown",(e,t)=>{if(this.isEnabled&&((n=t.keyCode)==bh.arrowright||n==bh.arrowleft||n==bh.arrowup||n==bh.arrowdown)){const n=new yp(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,t),n.stop.called&&e.stop()}var n})}observe(){}stopObserving(){}}class Mf extends bf{constructor(e){super(e);const t=this.document;t.on("keydown",(e,n)=>{if(!this.isEnabled||n.keyCode!=bh.tab||n.ctrlKey)return;const r=new yp(t,"tab",t.selection.getFirstRange());t.fire(r,n),r.stop.called&&e.stop()})}observe(){}stopObserving(){}}class Df extends(gd()){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){var t;super(),this.document=new Sp(e),this.domConverter=new pf(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new nf(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Lp(this.document),this.addObserver(xf),this.addObserver(kf),this.addObserver(Af),this.addObserver(wf),this.addObserver(_f),this.addObserver(Sf),this.addObserver(Of),this.addObserver(Tf),this.addObserver(Mf),this.document.on("arrowKey",tf,{priority:"low"}),(t=this).document.on("arrowKey",(e,n)=>function(e,t,n){if(t.keyCode==bh.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),r=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(r||t.shiftKey){const t=e.focusNode,i=e.focusOffset,o=n.domPositionToView(t,i);if(null===o)return;let s=!1;const a=o.getLastMatchingPosition(e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))));if(s){const t=n.viewPositionToDom(a);r?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}(0,n,t.domConverter),{priority:"low"}),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Tu.isiOS&&this.listenTo(this.document,"blur",(e,t)=>{this.domConverter.mapDomToView(t.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(e,{mutations:t})=>{t.forEach(e=>this._renderer.markToSync(e.type,e.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const r={};for(const{name:t,value:i}of Array.from(e.attributes))r[t]=i,"class"===t?this._writer.addClass(i.split(" "),n):n.hasAttribute(t)||this._writer.setAttribute(t,i,n);this._initialDomRootAttributes.set(e,r);const i=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(e,t)=>this._renderer.markToSync("children",t)),n.on("change:attributes",(e,t)=>this._renderer.markToSync("attributes",t)),n.on("change:text",(e,t)=>this._renderer.markToSync("text",t)),n.on("change:isReadOnly",()=>this.change(i)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const n of this._observers.values())n.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));const n=this._initialDomRootAttributes.get(t);for(const e in n)t.setAttribute(e,n[e]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const e of this._observers.values())e.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[e,n]of this.domRoots)t.observe(n,e);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:r=20}={}){const i=this.document.selection.getFirstRange();if(!i)return;const o=(0,ku.cloneDeep)({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:r});"number"==typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(i),viewportOffset:n,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,o),function({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:r,forceScroll:i}){const o=dh(e);let s=o,a=null;for(t=function(e){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:e}(t);s;){let l;l=hh(s==o?e:a),sh({parent:l,getRect:()=>ph(e,s),alignToTop:r,ancestorOffset:n,forceScroll:i});const c=ph(e,s);if(oh({window:s,rect:c,viewportOffset:t,alignToTop:r,forceScroll:i}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Gu("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){Gu.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(kf).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return pp._createAt(e,t)}createPositionAfter(e){return pp._createAfter(e)}createPositionBefore(e){return pp._createBefore(e)}createRange(e,t){return new fp(e,t)}createRangeOn(e){return fp._createOn(e)}createRangeIn(e){return fp._createIn(e)}createSelection(...e){return new gp(...e)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class If{is(){throw new Error("is() method is abstract")}}let Nf=class extends If{parent=null;_attrs;_index=null;_startOffset=null;constructor(e){super(),this._attrs=jh(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=kd(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((e,t)=>(e[t[0]]=t[1],e),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=jh(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Nf.prototype.is=function(e){return"node"===e||"model:node"===e};class jf{_nodes=[];_offsetToNode=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new Gu("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new Gu("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){for(const e of t)if(!(e instanceof Nf))throw new Gu("model-nodelist-insertnodes-not-node",this);const n=Array.from(t),r=function(e){const t=[];for(const n of e){const e=t.length;t.length+=n.offsetSize,t.fill(n,e)}return t}(n);let i=this.indexToOffset(e);this._nodes=Rh(this._nodes,n,e,0),this._offsetToNode=Rh(this._offsetToNode,r,i,0);for(let t=e;t<this._nodes.length;t++)this._nodes[t]._index=t,this._nodes[t]._startOffset=i,i+=this._nodes[t].offsetSize}_removeNodes(e,t=1){if(0==t)return[];let n=this.indexToOffset(e);const r=this._nodes.splice(e,t),i=r[r.length-1],o=i.startOffset+i.offsetSize-n;this._offsetToNode.splice(n,o);for(const e of r)e._index=null,e._startOffset=null;for(let t=e;t<this._nodes.length;t++)this._nodes[t]._index=t,this._nodes[t]._startOffset=n,n+=this._nodes[t].offsetSize;return r}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Rf extends Nf{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Rf(this.data,this.getAttributes())}static fromJSON(e){return new Rf(e.data,e.attributes)}}Rf.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};class Lf extends If{textNode;data;offsetInText;constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new Gu("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new Gu("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Lf.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};class Ff extends Nf{name;_children=new jf;constructor(e,t,n){super(t),this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChildAtOffset(n);return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(e=>e._clone(!0)):void 0;return new Ff(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Rf(e)]:(Ad(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Rf(e):e instanceof Lf?new Rf(e.data,e.getAttributes()):e))}(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Ff.fromJSON(n)):t.push(Rf.fromJSON(n))}return new Ff(e.name,e.attributes,t)}}Ff.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};class Bf{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new Gu("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new Gu("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=zf._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,r,i;do{r=this.position,i=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this._position=r,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=Uf(t,n),i=r||qf(t,n,r);if(i instanceof Ff){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=i;return this._position=t,Vf("elementStart",i,e,t,1)}if(i instanceof Rf){let r;if(this.singleCharacters)r=1;else{let e=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),r=e-t.offset}const o=t.offset-i.startOffset,s=new Lf(i,o,r);return t.offset+=r,this._position=t,Vf("text",s,e,t,r)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Vf("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,i=Uf(t,r),o=i||Hf(t,r,i);if(o instanceof Ff)return t.offset--,this.shallow?(this._position=t,Vf("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Vf("elementEnd",o,e,t));if(o instanceof Rf){let r;if(this.singleCharacters)r=1;else{let e=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),r=t.offset-e}const i=t.offset-o.startOffset,s=new Lf(o,i-r,r);return t.offset-=r,this._position=t,Vf("text",s,e,t,r)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Vf("elementStart",n,e,t,1)}}function Vf(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}class zf extends If{root;path;stickiness;constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new Gu("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new Gu("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new Gu("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Gu("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Uf(this,this.parent)}get nodeAfter(){const e=this.parent;return qf(this,e,Uf(this,e))}get nodeBefore(){const e=this.parent;return Hf(this,e,Uf(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=kd(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Bf(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=kd(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const t=this.path[n]-e.path[n];if(t<-1||t>1)return!1;if(1===t)return $f(e,this,n);if(-1===t)return $f(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Wf(this.path,t):Wf(e.path,t))}hasSameParentAs(e){return this.root===e.root&&"same"==kd(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=zf._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?zf._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=zf._createAt(this);if(this.root!=e.root)return n;if("same"==kd(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==kd(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}_getTransformedByInsertion(e,t){const n=zf._createAt(this);if(this.root!=e.root)return n;if("same"==kd(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==kd(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;e.offset<=this.path[r]&&(n.path[r]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return zf._createAt(this);const r=this._getTransformedByDeletion(e,n);return null===r||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,r=zf._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-e.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof zf)return new zf(e.root,e.path,e.stickiness);{const r=e;if("end"==t)t=r.maxOffset;else{if("before"==t)return this._createBefore(r,n);if("after"==t)return this._createAfter(r,n);if(0!==t&&!t)throw new Gu("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new Gu("model-position-parent-incorrect",[this,e]);const i=r.getPath();return i.push(t),new this(r.root,i,n)}}static _createAfter(e,t){if(!e.parent)throw new Gu("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new Gu("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new zf(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new Gu("model-position-fromjson-no-root",t,{rootName:e.root});return new zf(t.getRoot(e.root),e.path,e.stickiness)}}function Uf(e,t){const n=t.getChildAtOffset(e.offset);return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function qf(e,t,n){return null!==n?null:t.getChildAtOffset(e.offset)}function Hf(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}function $f(e,t,n){return n+1!==e.path.length&&!!Wf(t.path,n+1)&&!!function(e,t){let n=e.parent,r=e.path.length-1,i=0;for(;r>=t;){if(e.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}(e,n+1)}function Wf(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}zf.prototype.is=function(e){return"position"===e||"model:position"===e};class Gf extends If{start;end;constructor(e,t){super(),this.start=zf._createAt(e),this.end=t?zf._createAt(t):zf._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Bf({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==kd(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}containsItem(e){const t=zf._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Gf(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Gf(e.end,this.end))):t.push(new Gf(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Gf(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let r=this.start,i=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(i)&&(i=e.end),new Gf(r,i)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=zf._createAt(this.start);let r=n.parent;for(;n.path.length>t+1;){const t=r.maxOffset-n.offset;0!==t&&e.push(new Gf(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],r=t-n.offset;0!==r&&e.push(new Gf(n,n.getShiftedBy(r))),n.offset=t,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Bf(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Bf(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new Bf(e);yield t.position;for(const e of t)yield e.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Gf(this.start,this.end)]}getTransformedByOperations(e){const t=[new Gf(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const r=t[e].getTransformedByOperation(n);t.splice(e,1,...r),e+=r.length-1}for(let e=0;e<t.length;e++){const n=t[e];for(let r=e+1;r<t.length;r++){const e=t[r];(n.containsRange(e)||e.containsRange(n)||n.isEqual(e))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,r=e.howMany,i=e.targetPosition;return this._getTransformedByMove(n,i,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Gf(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Gf(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=zf._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Gf(t,n)):new Gf(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Gf(this.start,e),new Gf(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new Gf(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(e,t,n);return[new Gf(r)]}const i=Gf._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const r=this.start._getTransformedByMove(e,t,n),i=this.end._getTransformedByMove(e,t,n);return[new Gf(r,i)]}let s;const a=this.getDifference(i);let l=null;const c=this.getIntersection(i);if(1==a.length?l=new Gf(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(l=new Gf(this.start,this.end._getTransformedByDeletion(e,n))),s=l?l._getTransformedByInsertion(o,n,null!==c||r):[],c){const e=new Gf(c.start._getCombined(i.start,o),c.end._getCombined(i.start,o));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return null==n&&null==r?null:(null==n&&(n=e),null==r&&(r=e),new Gf(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return new this(zf._createAt(e,0),zf._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(zf._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new Gu("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const n=e.indexOf(t),r=new this(t.start,t.end);for(let t=n-1;t>=0&&e[t].end.isEqual(r.start);t--)r.start=zf._createAt(e[t].start);for(let t=n+1;t<e.length&&e[t].start.isEqual(r.end);t++)r.end=zf._createAt(e[t].end);return r}static fromJSON(e,t){return new this(zf.fromJSON(e.start,t),zf.fromJSON(e.end,t))}}Gf.prototype.is=function(e){return"range"===e||"model:range"===e};class Jf extends(td()){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new Gu("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(n),i=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=zf._createAt(r,i)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const t of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(t);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),0==r.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Gf(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new fp(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const e of t)if(e.is("attributeElement"))for(const t of e.getElementsWithSameId())n.add(t);else n.add(e);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let r=0;for(let n=0;n<t;n++)r+=this.getModelLength(e.getChild(n));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,r=0,i=0,o=0;if(e.is("$text"))return new pp(e,t);for(;i<t;)n=e.getChild(o),r=this.getModelLength(n),i+=r,o++;return i==t?this._moveViewPositionToTextNode(new pp(e,o)):this.findPositionIn(n,t-(i-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Kh?new pp(t,t.data.length):n instanceof Kh?new pp(n,0):e}}class Yf{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=Kf(t),e instanceof Lf&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Kf(t),e instanceof Lf&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Kf(t),e instanceof Lf&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const r=n.get(t);return void 0===r?null:r}revert(e,t){t=Kf(t),e instanceof Lf&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}verifyAllConsumed(e){const t=[];for(const[n,r]of this._consumable)for(const[i,o]of r){const r=i.split(":")[0];o&&e==r&&t.push({event:i,item:n.name||n.description})}if(t.length)throw new Gu("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,r=e.parent,i=Symbol("$textProxy:"+e.data);let o,s;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(r,i),i}}function Kf(e){const t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}class Qf extends(td()){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const r=this._createConversionApi(n,e.getRefreshedItems());for(const t of e.getMarkersToRemove())this._convertMarkerRemove(t.name,t.range,r);const i=this._reduceChanges(e.getChanges());for(const e of i)"insert"===e.type?this._convertInsert(Gf._createFromPositionAndShift(e.position,e.length),r):"reinsert"===e.type?this._convertReinsert(Gf._createFromPositionAndShift(e.position,e.length),r):"remove"===e.type?this._convertRemove(e.position,e.length,e.name,r):this._convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const e of r.mapper.flushUnboundMarkerNames()){const n=t.get(e).getRange();this._convertMarkerRemove(e,n,r),this._convertMarkerAdd(e,n,r)}for(const t of e.getMarkersToAdd())this._convertMarkerAdd(t.name,t.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,n,r={}){const i=this._createConversionApi(n,void 0,r);this._convertInsert(e,i);for(const[e,n]of t)this._convertMarkerAdd(e,n,i);i.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const r=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},r);const i=e.getFirstPosition().root;if(!r.mapper.toViewElement(i))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,o),this.fire("selection",{selection:e},r),e.isCollapsed){for(const t of o)if(r.consumable.test(e,"addMarker:"+t.name)){const n=t.getRange();if(!Xf(e.getFirstPosition(),t,r.mapper))continue;const i={item:e,markerName:t.name,markerRange:n};this.fire(`addMarker:${t.name}`,i,r)}for(const t of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+t)){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.fire(`attribute:${t}:$text`,n,r)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const n of Array.from(e.getWalker({shallow:!0})).map(Zf))this._testAndFire("insert",n,t)}_convertRemove(e,t,n,r){this.fire(`remove:${n}`,{position:e,length:t},r)}_convertAttribute(e,t,n,r,i){this._addConsumablesForRange(i.consumable,e,`attribute:${t}`);for(const o of e){const e={item:o.item,range:Gf._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire(`attribute:${t}`,e,i)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const e of n.map(Zf))this._testAndFire("insert",{...e,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if("$graveyard"==t.root.rootName)return;const r=`addMarker:${e}`;if(n.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},n),n.consumable.consume(t,r)){this._addConsumablesForRange(n.consumable,t,r);for(const i of t.getItems()){if(!n.consumable.test(i,r))continue;const o={item:i,range:Gf._createOn(i),markerName:e,markerRange:t};this.fire(r,o,n)}}}_convertMarkerRemove(e,t,n){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const t=n.item;if(null===e.test(t,"insert")){e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}}return e}_addConsumablesForRange(e,t,n){for(const r of t.getItems())e.add(r,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const r of n)e.add(t,"addMarker:"+r.name);for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n);return e}_testAndFire(e,t,n){const r=function(e,t){return`${e}:${t.item.is("element")?t.item.name:"$text"}`}(e,t),i=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),s=o.get(i);if(s){if(s.has(r))return;s.add(r)}else o.set(i,new Set([r]));this.fire(r,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Gf._createOn(e)};for(const e of n.item.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(e),this._testAndFire(`attribute:${e}`,n,t)}_createConversionApi(e,t=new Set,n={}){const r={...this._conversionApi,consumable:new Yf,writer:e,options:n,convertItem:e=>this._convertInsert(Gf._createOn(e),r),convertChildren:e=>this._convertInsert(Gf._createIn(e),r,{doNotAddConsumables:!0}),convertAttributes:e=>this._testAndFireAddAttributes(e,r),canReuseView:e=>!t.has(r.mapper.toModelElement(e))};return this._firedEventsMap.set(r,new Map),r}}function Xf(e,t,n){const r=t.getRange(),i=Array.from(e.getAncestors());return i.shift(),i.reverse(),!i.some(e=>{if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")})}function Zf(e){return{item:e.item,range:Gf._createFromPositionAndShift(e.previousPosition,e.length)}}class em extends(td(If)){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Gf(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Gf(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Gf(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,r]=e;if("object"==typeof n&&(r=n,n=void 0),null===t)this._setRanges([]);else if(t instanceof em)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Gf)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof zf)this._setRanges([new Gf(t)]);else if(t instanceof Nf){const e=!!r&&!!r.backward;let i;if("in"==n)i=Gf._createIn(t);else if("on"==n)i=Gf._createOn(t);else{if(void 0===n)throw new Gu("model-selection-setto-required-second-parameter",[this,t]);i=new Gf(zf._createAt(t,n))}this._setRanges([i],e)}else{if(!Ad(t))throw new Gu("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,r&&!!r.backward)}}_setRanges(e,t=!1){const n=Array.from(e),r=n.some(t=>{if(!(t instanceof Gf))throw new Gu("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(e=>!e.isEqual(t))});(n.length!==this._ranges.length||r)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new Gu("model-selection-setfocus-no-ranges",[this,e]);const n=zf._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new Gf(n,r)),this._lastRangeBackward=!0):(this._pushRange(new Gf(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=rm(t.start,e);om(n,t)&&(yield n);for(const n of t.getWalker()){const r=n.item;"elementEnd"==n.type&&nm(r,e,t)&&(yield r)}const r=rm(t.end,e);sm(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=zf._createAt(e,0),n=zf._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Gf(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Gu("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function tm(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function nm(e,t,n){return tm(e,t)&&im(e,n)}function rm(e,t){const n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=r.find(e=>!i&&(i=n.isLimit(e),!i&&tm(e,t)));return r.forEach(e=>t.add(e)),o}function im(e,t){const n=function(e){const t=e.root.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(Gf._createOn(n),!0)}function om(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.start.isTouching(zf._createAt(e,e.maxOffset))&&im(e,t))}function sm(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.end.isTouching(zf._createAt(e,0))&&im(e,t))}em.prototype.is=function(e){return"selection"===e||"model:selection"===e};class am extends(td(Gf)){constructor(e,t){super(e,t),lm.call(this)}detach(){this.stopListening()}toRange(){return new Gf(this.start,this.end)}static fromRange(e){return new am(e.start,e.end)}}function lm(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&cm.call(this,n)},{priority:"low"})}function cm(e){const t=this.getTransformedByOperation(e),n=Gf._createFromRanges(t),r=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}am.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};const um="selection:";class dm extends(td(If)){_selection;constructor(e){super(),this._selection=new hm(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return um+e}static _isStoreAttributeKey(e){return e.startsWith(um)}}dm.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};class hm extends em{markers=new Ch({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(e,t,n,r)=>{this._updateMarker(t,r)}),this.listenTo(this._document,"change",(e,t)=>{!function(e,t){const n=e.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&e.enqueueChange(t,e=>{const t=Array.from(n.getAttributeKeys()).filter(e=>e.startsWith(um));for(const r of t)e.removeAttribute(r,n)})}}(this._model,t)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Hu();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Gu("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new Gu("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=am.fromRange(e);return t.on("change:range",(e,n,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const t of this._model.markers){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))continue;const r=t.getRange();for(const n of this.getRanges())r.containsRange(n,!n.isCollapsed)&&e.push(t)}const n=Array.from(this.markers);for(const n of e)this.markers.has(n)||(this.markers.add(n),t=!0);for(const n of Array.from(this.markers))e.includes(n)||(this.markers.remove(n),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let r=!1;const i=Array.from(this.markers),o=this.markers.has(e);if(t){let n=!1;for(const e of this.getRanges())if(t.containsRange(e,!e.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(e),r=!0):!n&&o&&(this.markers.remove(e),r=!0)}else o&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(e){const t=jh(this._getSurroundingAttributes()),n=jh(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)"low"==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const r=[];for(const[e,t]of this.getAttributes())n.has(e)&&n.get(e)===t||r.push(e);for(const[e]of n)this.hasAttribute(e)||r.push(e);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,n=!0){const r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(e))&&(super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,r),!0))}_removeAttribute(e,t=!0){const n=t?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,n),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[t,n]of this.getAttributes())e.get(t)!==n&&this._removeAttribute(t,!1);for(const[n,r]of e)this._setAttribute(n,r,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(um)){const n=t.substr(10);yield[n,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if("$graveyard"==e.root.rootName)return null;let n=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,i=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=pm(r,t)),n||(n=pm(i,t)),!this.isGravityOverridden&&!n){let e=r;for(;e&&!n;)e=e.previousSibling,n=pm(e,t)}if(!n){let e=i;for(;e&&!n;)e=e.nextSibling,n=pm(e,t)}n||(n=this.getStoredAttributes())}else{const e=this.getFirstRange();for(const r of e){if(r.item.is("element")&&t.isObject(r.item)){n=pm(r.item,t);break}if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function pm(e,t){if(!e)return null;if(e instanceof Lf||e instanceof Rf)return e.getAttributes();if(!t.isInline(e))return null;if(!t.isObject(e))return[];const n=[];for(const[r,i]of e.getAttributes())t.checkAttribute("$text",r)&&!1!==t.getAttributeProperties(r).copyFromObject&&n.push([r,i]);return n}class fm{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class mm extends fm{elementToElement(e){return this.add(function(e){const t=ym(e.model),n=vm(e.view,"container");return t.attributes.length&&(t.children=!0),r=>{r.on(`insert:${t.name}`,function(e,t=Pm){return(n,r,i)=>{if(!t(r.item,i.consumable,{preflight:!0}))return;const o=e(r.item,i,r);if(!o)return;t(r.item,i.consumable);const s=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(s,o),i.convertAttributes(r.item),Am(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}(n,km(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&r.on("reduceChanges",Em(t),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(e){const t=ym(e.model),n=vm(e.view,"container");return t.children=!0,r=>{if(r._conversionApi.schema.checkChild(t.name,"$text"))throw new Gu("conversion-element-to-structure-disallowed-text",r,{elementName:t.name});var i,o;r.on(`insert:${t.name}`,(i=n,o=km(t),(e,t,n)=>{if(!o(t.item,n.consumable,{preflight:!0}))return;const r=new Map;n.writer._registerSlotFactory(function(e,t,n){return(r,i)=>{const o=r.createContainerElement("$slot");let s=null;if("children"===i)s=Array.from(e.getChildren());else{if("function"!=typeof i)throw new Gu("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});s=Array.from(e.getChildren()).filter(e=>i(e))}return t.set(o,s),o}}(t.item,r,n));const s=i(t.item,n,t);if(n.writer._clearSlotFactory(),!s)return;!function(e,t,n){const r=Array.from(t.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new Gu("conversion-slot-filter-overlap",n.dispatcher,{element:e});if(i.size!=e.childCount)throw new Gu("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}(t.item,r,n),o(t.item,n.consumable);const a=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(t.item,s),n.writer.insert(a,s),n.convertAttributes(t.item),function(e,t,n,r){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let i=null,o=null;for([i,o]of t)Am(e,o,n,r),n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)),n.writer.remove(i);function s(e,t){const n=t.modelPosition.nodeAfter,r=o.indexOf(n);r<0||(t.viewPosition=t.mapper.findPositionIn(i,r))}n.mapper.off("modelToViewPosition",s)}(s,r,n,{reconversion:t.reconversion})}),{priority:e.converterPriority||"normal"}),r.on("reduceChanges",Em(t),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(e){let t=(e=(0,ku.cloneDeep)(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const n of t.values)e.view[n]=vm(e.view[n],"attribute");else e.view=vm(e.view,"attribute");const r=wm(e);return t=>{t.on(n,function(e){return(t,n,r)=>{if(!r.consumable.test(n.item,t.name))return;const i=e(n.attributeOldValue,r,n),o=e(n.attributeNewValue,r,n);if(!i&&!o)return;r.consumable.consume(n.item,t.name);const s=r.writer,a=s.document.selection;if(n.item instanceof em||n.item instanceof dm)s.wrap(a.getFirstRange(),o);else{let e=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(e=s.unwrap(e,i)),null!==n.attributeNewValue&&o&&s.wrap(e,o)}}}(r),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=(e=(0,ku.cloneDeep)(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const n of t.values)e.view[n]=_m(e.view[n]);else e.view=_m(e.view);const r=wm(e);return t=>{var i;t.on(n,(i=r,(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const r=i(t.attributeOldValue,n,t),o=i(t.attributeNewValue,n,t);if(!r&&!o)return;n.consumable.consume(t.item,e.name);const s=n.mapper.toViewElement(t.item),a=n.writer;if(!s)throw new Gu("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(null!==t.attributeOldValue&&r)if("class"==r.key){const e="string"==typeof r.value?r.value.split(/\s+/):r.value;for(const t of e)a.removeClass(t,s)}else if("style"==r.key)if("string"==typeof r.value){const e=new tp(a.document.stylesProcessor);e.setTo(r.value);for(const[t]of e.getStylesEntries())a.removeStyle(t,s)}else{const e=Object.keys(r.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(r.key,s);if(null!==t.attributeNewValue&&o)if("class"==o.key){const e="string"==typeof o.value?o.value.split(/\s+/):o.value;for(const t of e)a.addClass(t,s)}else if("style"==o.key)if("string"==typeof o.value){const e=new tp(a.document.stylesProcessor);e.setTo(o.value);for(const[t,n]of e.getStylesEntries())a.setStyle(t,n,s)}else{const e=Object.keys(o.value);for(const t of e)a.setStyle(t,o.value[t],s)}else a.setAttribute(o.key,o.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){const t=vm(e.view,"ui");return n=>{var r;n.on(`addMarker:${e.model}`,(r=t,(e,t,n)=>{t.isOpening=!0;const i=r(t,n);t.isOpening=!1;const o=r(t,n);if(!i||!o)return;const s=t.markerRange;if(s.isCollapsed&&!n.consumable.consume(s,e.name))return;for(const t of s)if(!n.consumable.consume(t.item,e.name))return;const a=n.mapper,l=n.writer;l.insert(a.toViewPosition(s.start),i),n.mapper.bindElementToMarker(i,t.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),o),n.mapper.bindElementToMarker(o,t.markerName)),e.stop()}),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,(e,t,n)=>{const r=n.mapper.markerNameToElements(t.markerName);if(r){for(const e of r)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}},{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on(`addMarker:${e.model}`,(n=e.view,(e,t,r)=>{if(!t.item)return;if(!(t.item instanceof em||t.item instanceof dm||t.item.is("$textProxy")))return;const i=xm(n,t,r);if(!i)return;if(!r.consumable.consume(t.item,e.name))return;const o=r.writer,s=gm(o,i),a=o.document.selection;if(t.item instanceof em||t.item instanceof dm)o.wrap(a.getFirstRange(),s);else{const e=r.mapper.toViewRange(t.range),n=o.wrap(e,s);for(const e of n.getItems())if(e.is("attributeElement")&&e.isSimilar(s)){r.mapper.bindElementToMarker(e,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on(`addMarker:${e.model}`,function(e){return(t,n,r)=>{if(!n.item)return;if(!(n.item instanceof Ff))return;const i=xm(e,n,r);if(!i)return;if(!r.consumable.test(n.item,t.name))return;const o=r.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(n.item,t.name);for(const e of Gf._createIn(n.item))r.consumable.consume(e.item,t.name);o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on(`removeMarker:${e.model}`,function(e){return(t,n,r)=>{if(n.markerRange.isCollapsed)return;const i=xm(e,n,r);if(!i)return;const o=gm(r.writer,i),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const e of s)r.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(e),o):e.getCustomProperty("removeHighlight")(e,i.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(e){const t=(e=(0,ku.cloneDeep)(e)).model;let n=e.view;return n||(n=n=>({group:t,name:n.substr(e.model.length+1)})),r=>{var i;r.on(`addMarker:${t}`,(i=n,(e,t,n)=>{const r=i(t.markerName,n);if(!r)return;const o=t.markerRange;n.consumable.consume(o,e.name)&&(bm(o,!1,n,t,r),bm(o,!0,n,t,r),e.stop())}),{priority:e.converterPriority||"normal"}),r.on(`removeMarker:${t}`,function(e){return(t,n,r)=>{const i=e(n.markerName,r);if(!i)return;const o=r.mapper.markerNameToElements(n.markerName);if(o){for(const e of o)r.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("containerElement")?(s(`data-${i.group}-start-before`,e),s(`data-${i.group}-start-after`,e),s(`data-${i.group}-end-before`,e),s(`data-${i.group}-end-after`,e)):r.writer.clear(r.writer.createRangeOn(e),e);r.writer.clearClonedElementsGroup(n.markerName),t.stop()}function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(n),{priority:e.converterPriority||"normal"})}}(e))}}function gm(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),"number"==typeof t.priority&&(n._priority=t.priority),n._id=t.id,n}function bm(e,t,n,r,i){const o=t?e.start:e.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let e,o;t&&s||!t&&!a?(e=s,o=!0):(e=a,o=!1);const l=n.mapper.toViewElement(e);if(l)return void function(e,t,n,r,i,o){const s=`data-${o.group}-${t?"start":"end"}-${n?"before":"after"}`,a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(o.name),r.writer.setAttribute(s,a.join(","),e),r.mapper.bindElementToMarker(e,i.markerName)}(l,t,o,n,r,i)}!function(e,t,n,r,i){const o=`${i.group}-${t?"start":"end"}`,s=i.name?{name:i.name}:null,a=n.writer.createUIElement(o,s);n.writer.insert(e,a),n.mapper.bindElementToMarker(a,r.markerName)}(n.mapper.toViewPosition(o),t,n,r,i)}function ym(e){return"string"==typeof e&&(e={name:e}),{name:e.name,attributes:e.attributes?Sh(e.attributes):[],children:!!e.children}}function vm(e,t){return"function"==typeof e?e:(n,r)=>function(e,t,n){let r;"string"==typeof e&&(e={name:e});const i=t.writer,o=Object.assign({},e.attributes);if("container"==n)r=i.createContainerElement(e.name,o);else if("attribute"==n){const t={priority:e.priority||Pp.DEFAULT_PRIORITY};r=i.createAttributeElement(e.name,o,t)}else r=i.createUIElement(e.name,o);if(e.styles){const t=Object.keys(e.styles);for(const n of t)i.setStyle(n,e.styles[n],r)}if(e.classes){const t=e.classes;if("string"==typeof t)i.addClass(t,r);else for(const e of t)i.addClass(e,r)}return r}(e,r,t)}function wm(e){return e.model.values?(t,n,r)=>{const i=e.view[t];return i?i(t,n,r):null}:e.view}function _m(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function xm(e,t,n){const r="function"==typeof e?e(t,n):e;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}function Em(e){const t=function(e){return(t,n)=>{if(!t.is("element",e.name))return!1;if("attribute"==n.type){if(e.attributes.includes(n.attributeKey))return!0}else if(e.children)return!0;return!1}}(e);return(e,n)=>{const r=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const e of n.changes){const i="attribute"==e.type?e.range.start.nodeAfter:e.position.parent;if(i&&t(i,e)){if(!n.reconvertedElements.has(i)){n.reconvertedElements.add(i);const e=zf._createBefore(i);let t=r.length;for(let n=r.length-1;n>=0;n--){const i=r[n],o=("attribute"==i.type?i.range.start:i.position).compareWith(e);if("before"==o||"remove"==i.type&&"same"==o)break;t=n}r.splice(t,0,{type:"remove",name:i.name,position:e,length:1},{type:"reinsert",name:i.name,position:e,length:1})}}else r.push(e)}n.changes=r}}function km(e){return(t,n,r={})=>{const i=["insert"];for(const n of e.attributes)t.hasAttribute(n)&&i.push(`attribute:${n}`);return!!i.every(e=>n.test(t,e))&&(r.preflight||i.forEach(e=>n.consume(t,e)),!0)}}function Am(e,t,n,r){for(const i of t)Sm(e.root,i,n,r)||n.convertItem(i)}function Sm(e,t,n,r){const{writer:i,mapper:o}=n;if(!r.reconversion)return!1;const s=o.toViewElement(t);return!(!s||s.root==e||!n.canReuseView(s)||(i.move(i.createRangeOn(s),o.toViewPosition(zf._createBefore(t))),0))}function Pm(e,t,{preflight:n}={}){return n?t.test(e,"insert"):t.consume(e,"insert")}function Cm(e){const{schema:t,document:n}=e.model;for(const r of n.getRoots())if(r.isEmpty&&!t.checkChild(r,"$text")&&t.checkChild(r,"paragraph"))return e.insertElement("paragraph",r),!0;return!1}function Tm(e,t,n){const r=n.createContext(e);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),t)}function Om(e,t){const n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}class Mm extends fm{elementToElement(e){return this.add(Dm(e))}elementToAttribute(e){return this.add(function(e){jm(e=(0,ku.cloneDeep)(e));const t=Rm(e,!1),n=Im(e.view),r=n?`element:${n}`:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=null;("string"==typeof(e=(0,ku.cloneDeep)(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key,n=void 0===e.view.value?/[\s\S]*/:e.view.value;let r;if("class"==t||"style"==t){const e="class"==t?"classes":"styles";r={[e]:n}}else r={attributes:{[t]:n}};return e.view.name&&(r.name=e.view.name),e.view=r,t}(e)),jm(e,t);const n=Rm(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){const t=function(e){return(t,n)=>{const r="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":r})}}(e.model);return Dm({...e,model:t})}(e))}dataToMarker(e){return this.add(function(e){(e=(0,ku.cloneDeep)(e)).model||(e.model=t=>t?e.view+":"+t:e.view);const t={view:e.view,model:e.model},n=Nm(Lm(t,"start")),r=Nm(Lm(t,"end"));return i=>{i.on(`element:${e.view}-start`,n,{priority:e.converterPriority||"normal"}),i.on(`element:${e.view}-end`,r,{priority:e.converterPriority||"normal"});const o=$u.low,s=$u.highest,a=$u.get(e.converterPriority)/s;i.on("element",function(e){return(t,n,r)=>{const i=`data-${e.view}`;function o(t,i){for(const o of i){const i=e.model(o,r),s=r.writer.createElement("$marker",{"data-name":i});r.writer.insert(s,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}(r.consumable.test(n.viewItem,{attributes:i+"-end-after"})||r.consumable.test(n.viewItem,{attributes:i+"-start-after"})||r.consumable.test(n.viewItem,{attributes:i+"-end-before"})||r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(t),{priority:o+a})}}(e))}}function Dm(e){const t=Nm(e=(0,ku.cloneDeep)(e)),n=Im(e.view),r=n?`element:${n}`:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"normal"})}}function Im(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function Nm(e){const t=new Xh(e.view);return(n,r,i)=>{const o=t.match(r.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!i.consumable.test(r.viewItem,s))return;const a=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,s),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function jm(e,t=null){const n=null===t||(e=>e.getAttribute(t)),r="object"!=typeof e.model?e.model:e.model.key,i="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:r,value:i}}function Rm(e,t){const n=new Xh(e.view);return(r,i,o)=>{if(!i.modelRange&&t)return;const s=n.match(i.viewItem);if(!s)return;if(function(e,t){const n="function"==typeof e?e(t):e;return!("object"==typeof n&&!Im(n))&&(!n.classes&&!n.attributes&&!n.styles)}(e.view,i.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(i.viewItem,s.match))return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(i.viewItem,o):e.model.value;if(null===l)return;i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor));const c=function(e,t,n,r){let i=!1;for(const o of Array.from(e.getItems({shallow:n})))r.schema.checkAttribute(o,t.key)&&(i=!0,o.hasAttribute(t.key)||r.writer.setAttribute(t.key,t.value,o));return i}(i.modelRange,{key:a,value:l},t,o);c&&(o.consumable.test(i.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(i.viewItem,s.match))}}function Lm(e,t){return{view:`${e.view}-${t}`,model:(t,n)=>{const r=t.getAttribute("name"),i=e.model(r,n);return n.writer.createElement("$marker",{"data-name":i})}}}function Fm(e,t){return e.isCollapsed?function(e,t){const n=e.start,r=t.getNearestSelectionRange(n);if(!r){const e=n.getAncestors().reverse().find(e=>t.isObject(e));return e?Gf._createOn(e):null}if(!r.isCollapsed)return r;const i=r.start;return n.isEqual(i)?null:new Gf(i)}(e,t):function(e,t){const{start:n,end:r}=e,i=t.checkChild(n,"$text"),o=t.checkChild(r,"$text"),s=t.getLimitElement(n),a=t.getLimitElement(r);if(s===a){if(i&&o)return null;if(function(e,t,n){const r=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),i=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return r||i}(n,r,t)){const e=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),i=r.nodeBefore&&t.isSelectable(r.nodeBefore)?null:t.getNearestSelectionRange(r,"backward"),o=e?e.start:n,s=i?i.end:r;return new Gf(o,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,i=l&&(!e||!Vm(n.nodeAfter,t)),o=c&&(!e||!Vm(r.nodeBefore,t));let u=n,d=r;return i&&(u=zf._createBefore(Bm(s,t))),o&&(d=zf._createAfter(Bm(a,t))),new Gf(u,d)}return null}(e,t)}function Bm(e,t){let n=e,r=n;for(;t.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function Vm(e,t){return e&&t.isSelectable(e)}class zm extends(gd()){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new Df(t),this.mapper=new Jf,this.downcastDispatcher=new Qf({mapper:this.mapper,schema:e.schema});const n=this.model.document,r=n.selection,i=this.model.markers;var o,s,a;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(n.differ,i,e),this.downcastDispatcher.convertSelection(r,i,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,r)=>{const i=r.newSelection,o=[];for(const e of i.getRanges())o.push(t.toModelRange(e));const s=e.createSelection(o,{backward:i.isBackward});s.isEqual(e.document.selection)||e.change(e=>{e.setSelection(s)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(o=this.mapper,s=this.model.schema,a=this.view,(e,t)=>{if(!a.document.isComposing||Tu.isAndroid)for(let e=0;e<t.targetRanges.length;e++){const n=t.targetRanges[e],r=o.toModelRange(n),i=Fm(r,s);i&&!i.isEqual(r)&&(t.targetRanges[e]=o.toViewRange(i))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(e,t,n)=>{const r=n.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),o=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(r,o),a=n.writer.remove(s.getTrimmed());for(const e of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(e,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(e,t,n)=>{const r=n.writer,i=r.document.selection;for(const e of i.getRanges())e.isCollapsed&&e.end.parent.isAttached()&&n.writer.mergeAttributes(e.start);r.setSelection(null)}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=[];for(const e of r.getRanges())i.push(n.mapper.toViewRange(e));n.writer.setSelection(i,{backward:r.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=n.writer,o=r.getFirstPosition(),s=n.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if("$graveyard"==e.rootName)return null;const t=new dp(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,n=this.model.markers.get(t);if(!n)throw new Gu("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Um{_consumables=new Map;add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Hm(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const e of n)"style"!=e&&"class"!=e&&t.attributes.push(e);const r=e.getClassNames();for(const e of r)t.classes.push(e);const i=e.getStyleNames();for(const e of i)t.styles.push(e);return t}static createFrom(e,t){if(t||(t=new Um),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Um.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=Um.createFrom(n,t);return t}}const qm=["attributes","classes","styles"];class Hm{element;_canConsumeName;_consumables;constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of qm)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of qm)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of qm)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of qm)t in e&&this._revert(t,e[t])}_add(e,t){const n=Sh(t),r=this._consumables[e];for(const t of n){if("attributes"===e&&("class"===t||"style"===t))throw new Gu("viewconsumable-invalid-attribute",this);if(r.set(t,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))r.set(e,!0)}}_test(e,t){const n=Sh(t),r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){const e=r.get(t);if(void 0===e)return null;if(!e)return!1}else{const e="class"==t?"classes":"styles",n=this._test(e,[...this._consumables[e].keys()]);if(!0!==n)return n}return!0}_consume(e,t){const n=Sh(t),r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){if(r.set(t,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))r.set(e,!1)}else{const e="class"==t?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=Sh(t),r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t)!1===r.get(t)&&r.set(t,!0);else{const e="class"==t?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class $m extends(gd()){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Wm(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Wm(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new Gu("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Gu("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!(!t||!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!(!t||!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(e,t)}checkAttribute(e,t){const n=this.getDefinition(e.last);if(!n)return!1;const r=this._evaluateAttributeChecks(e,t);return void 0!==r?r:n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof zf){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof Ff))throw new Gu("schema-check-merge-no-element-before",this);if(!(n instanceof Ff))throw new Gu("schema-check-merge-no-element-after",this);return this.checkMerge(t,n)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e,t){const n=void 0!==t?t:this._genericCheckSymbol,r=this._customChildChecks.get(n)||[];r.push(e),this._customChildChecks.set(n,r)}addAttributeCheck(e,t){const n=void 0!==t?t:this._genericCheckSymbol,r=this._customAttributeChecks.get(n)||[];r.push(e),this._customAttributeChecks.set(n,r)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(t=e instanceof zf?e.parent:(e instanceof Gf?[e]:Array.from(e.getRanges())).reduce((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Rf("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if("$graveyard"==e.root.rootName)return null;if(this.checkChild(e,"$text"))return new Gf(e);let n,r;const i=e.getAncestors().reverse().find(e=>this.isLimit(e))||e.root;"both"!=t&&"backward"!=t||(n=new Bf({boundaries:Gf._createIn(i),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(r=new Bf({boundaries:Gf._createIn(i),startPosition:e}));for(const e of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(n,r)){const t=e.walker==n?"elementEnd":"elementStart",r=e.value;if(r.type==t&&this.isObject(r.item))return Gf._createOn(r.item);if(this.checkChild(r.nextPosition,"$text"))return new Gf(r.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const r=n.model;for(const[i,o]of Object.entries(t))r.schema.checkAttribute(e,i)&&n.setAttribute(i,o,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))og(this,n,t);else{const e=Gf._createIn(n).getPositions();for(const n of e)og(this,n.nodeBefore||n.parent,t)}}getAttributesWithProperty(e,t,n){const r={};for(const[i,o]of e.getAttributes()){const e=this.getAttributeProperties(i);void 0!==e[t]&&(void 0!==n&&n!==e[t]||(r[i]=o))}return r}createContext(e){return new Wm(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const r of n)e[r]=Gm(t[r],r);const r=Object.values(e);for(const t of r)Jm(e,t),Ym(e,t),Km(e,t),Qm(e,t);for(const e of r)Xm(0,e);for(const t of r)Zm(e,t);for(const t of r)eg(e,t);for(const t of r)tg(e,t);for(const t of r)ng(e,t);this._compiledDefinitions=function(e){const t={};for(const n of Object.values(e))t[n.name]={name:n.name,isBlock:!!n.isBlock,isContent:!!n.isContent,isInline:!!n.isInline,isLimit:!!n.isLimit,isObject:!!n.isObject,isSelectable:!!n.isSelectable,allowIn:Array.from(n.allowIn).filter(t=>!!e[t]),allowChildren:Array.from(n.allowChildren).filter(t=>!!e[t]),allowAttributes:Array.from(n.allowAttributes)};return t}(e)}_checkContextMatch(e,t){const n=e.last;let r=this._evaluateChildChecks(e,t);if(r=void 0!==r?r:t.allowIn.includes(n.name),!r)return!1;const i=this.getDefinition(n),o=e.trimLast();return!!i&&(0==o.length||this._checkContextMatch(o,i))}_evaluateChildChecks(e,t){const n=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(t.name)||[];for(const i of[...n,...r]){const n=i(e,t);if(void 0!==n)return n}}_evaluateAttributeChecks(e,t){const n=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(t)||[];for(const i of[...n,...r]){const n=i(e,t);if(void 0!==n)return n}}*_getValidRangesForRange(e,t){let n=e.start,r=e.start;for(const i of e.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(Gf._createIn(i),t)),this.checkAttribute(i,t)||(n.isEqual(r)||(yield new Gf(n,r)),n=zf._createAfter(i)),r=zf._createAfter(i);n.isEqual(r)||(yield new Gf(n,r))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==t||"after"==t?new Gf(zf._createAt(n,t)):Gf._createOn(n);const r=Th(e.getSelectedBlocks());if(!r)return new Gf(e.focus);if(r.isEmpty)return new Gf(zf._createAt(r,0));const i=zf._createAfter(r);return e.focus.isTouching(i)?new Gf(i):new Gf(zf._createBefore(r))}}class Wm{_items;constructor(e){if(e instanceof Wm)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(ig)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Wm([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new Wm([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Gm(e,t){const n={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(e,t){for(const n of e){const e=Object.keys(n).filter(e=>e.startsWith("is"));for(const r of e)t[r]=!!n[r]}}(e,n),rg(e,n,"allowIn"),rg(e,n,"allowChildren"),rg(e,n,"disallowIn"),rg(e,n,"disallowChildren"),rg(e,n,"allowContentOf"),rg(e,n,"allowWhere"),rg(e,n,"allowAttributes"),rg(e,n,"disallowAttributes"),rg(e,n,"allowAttributesOf"),rg(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.add(e),t.allowWhere.add(e),t.allowAttributesOf.add(e),t.inheritTypesFrom.add(e))}}(e,n),n}function Jm(e,t){for(const n of t.allowIn){const r=e[n];r?r.allowChildren.add(t.name):t.allowIn.delete(n)}}function Ym(e,t){for(const n of t.allowChildren){const r=e[n];r?r.allowIn.add(t.name):t.allowChildren.delete(n)}}function Km(e,t){for(const n of t.disallowIn){const r=e[n];r?r.disallowChildren.add(t.name):t.disallowIn.delete(n)}}function Qm(e,t){for(const n of t.disallowChildren){const r=e[n];r?r.disallowIn.add(t.name):t.disallowChildren.delete(n)}}function Xm(e,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function Zm(e,t){for(const n of t.allowContentOf){const r=e[n];r&&(r.disallowChildren.forEach(n=>{t.allowChildren.has(n)||(t.disallowChildren.add(n),e[n].disallowIn.add(t.name))}),r.allowChildren.forEach(n=>{t.disallowChildren.has(n)||(t.allowChildren.add(n),e[n].allowIn.add(t.name))}))}}function eg(e,t){for(const n of t.allowWhere){const r=e[n];r&&(r.disallowIn.forEach(n=>{t.allowIn.has(n)||(t.disallowIn.add(n),e[n].disallowChildren.add(t.name))}),r.allowIn.forEach(n=>{t.disallowIn.has(n)||(t.allowIn.add(n),e[n].allowChildren.add(t.name))}))}}function tg(e,t){for(const n of t.allowAttributesOf){const r=e[n];if(!r)return;r.allowAttributes.forEach(e=>{t.disallowAttributes.has(e)||t.allowAttributes.add(e)})}}function ng(e,t){for(const n of t.inheritTypesFrom){const r=e[n];if(r){const e=Object.keys(r).filter(e=>e.startsWith("is"));for(const n of e)n in t||(t[n]=r[n])}}}function rg(e,t,n){for(const r of e){let e=r[n];"string"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach(e=>t[n].add(e))}}function ig(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function og(e,t,n){for(const r of t.getAttributeKeys())e.checkAttribute(t,r)||n.removeAttribute(r,t)}class sg extends(td()){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const r of new Wm(e)){const e={};for(const t of r.getAttributeKeys())e[t]=r.getAttribute(t);const i=t.createElement(r.name,e);n&&t.insert(i,n),n=zf._createAt(i,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Um.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),i=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=function(e,t){const n=new Set,r=new Map,i=Gf._createIn(e).getItems();for(const e of i)e.is("element","$marker")&&n.add(e);for(const e of n){const n=e.getAttribute("data-name"),i=t.createPositionBefore(e);r.has(n)?r.get(n).end=i.clone():r.set(n,new Gf(i.clone())),t.remove(e)}return r}(i,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Gf))throw new Gu("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:zf._createAt(t,0);const r=new Gf(n);for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,n);e.modelRange instanceof Gf&&(r.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));const i=this._cursorParents.get(e);t.modelCursor=i?r.createPositionAt(i,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:r}=this.conversionApi;let i=n.findAllowedParent(t,e);if(i){if(i===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return Tm(t,e,n)?{position:Om(t,r)}:null;const o=this.conversionApi.writer.split(t,i),s=[];for(const e of o.range.getWalker())if("elementEnd"==e.type)s.push(e.item);else{const t=s.pop(),n=e.item;this._registerSplitPair(t,n)}const a=o.range.end.parent;return this._cursorParents.set(e,a),{position:o.position,cursorParent:a}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class ag{getHtml(e){const t=Su.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class lg{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new pf(e,{renderingMode:"data"}),this.htmlWriter=new ag}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class cg extends(td()){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new Jf,this.downcastDispatcher=new Qf({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)},{priority:"lowest"}),this.upcastDispatcher=new sg({schema:e.schema}),this.viewDocument=new Sp(t),this.stylesProcessor=t,this.htmlProcessor=new lg(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Lp(this.viewDocument),this.upcastDispatcher.on("text",(e,t,{schema:n,consumable:r,writer:i})=>{let o=t.modelCursor;if(!r.test(t.viewItem))return;if(!n.checkChild(o,"$text")){if(!Tm(o,"$text",n))return;if(0==t.viewItem.data.trim().length)return;o=Om(o,i)}r.consume(t.viewItem);const s=i.createText(t.viewItem.data);i.insert(s,o),t.modelRange=i.createRange(o,o.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),gd().prototype.decorate.call(this,"init"),gd().prototype.decorate.call(this,"set"),gd().prototype.decorate.call(this,"get"),gd().prototype.decorate.call(this,"toView"),gd().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Cm)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new Gu("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||Ju("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const i=Gf._createIn(e),o=new Rp(n);this.mapper.bindElements(e,o);const s=e.is("documentFragment")?e.markers:function(e){const t=[],n=e.root.document;if(!n)return new Map;const r=Gf._createIn(e);for(const e of n.model.markers){const n=e.getRange(),i=n.isCollapsed,o=n.start.isEqual(r.start)||n.end.isEqual(r.end);if(i&&o)t.push([e.name,n]);else{const i=r.getIntersection(n);i&&t.push([e.name,i])}}return t.sort(([e,t],[n,r])=>{if("after"!==t.end.compareWith(r.start))return 1;if("before"!==t.start.compareWith(r.end))return-1;switch(t.start.compareWith(r.start)){case"before":return 1;case"after":return-1;default:switch(t.end.compareWith(r.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(e)}}}),new Map(t)}(e);return this.downcastDispatcher.convert(i,s,r,t),o}init(e){if(this.model.document.version)throw new Gu("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new Gu("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},e=>{for(const n of Object.keys(t)){const r=this.model.document.getRoot(n);e.insert(this.parse(t[n],r),r,0)}}),Promise.resolve()}set(e,t={}){let n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new Gu("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(n)){const r=this.model.document.getRoot(t);e.remove(e.createRangeIn(r)),e.insert(this.parse(n[t],r),r,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class ug{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Sh(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Sh(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new Gu("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new Gu("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of dg(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of dg(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of dg(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new Gu("conversion-group-exists",this);const r=n?new mm(t):new Mm(t);this._helpers.set(e,r)}}function*dg(e){if(e.model.values)for(const t of e.model.values){const n={key:e.model.key,value:t},r=e.view[t],i=e.upcastAlso?e.upcastAlso[t]:void 0;yield*hg(n,r,i)}else yield*hg(e.model,e.view,e.upcastAlso)}function*hg(e,t,n){if(yield{model:e,view:t},n)for(const t of Sh(n))yield{model:e,view:t}}class pg{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function fg(e,t){const n=bg(t),r=n.reduce((e,t)=>e+t.offsetSize,0),i=e.parent;vg(e);const o=e.index;return i._insertChild(o,n),yg(i,o+n.length),yg(i,o),new Gf(e,e.getShiftedBy(r))}function mg(e){if(!e.isFlat)throw new Gu("operation-utils-remove-range-not-flat",this);const t=e.start.parent;vg(e.start),vg(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return yg(t,e.start.index),n}function gg(e,t){if(!e.isFlat)throw new Gu("operation-utils-move-range-not-flat",this);const n=mg(e);return fg(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function bg(e){const t=[];!function e(n){if("string"==typeof n)t.push(new Rf(n));else if(n instanceof Lf)t.push(new Rf(n.data,n.getAttributes()));else if(n instanceof Nf)t.push(n);else if(Ad(n))for(const t of n)e(t)}(e);for(let e=1;e<t.length;e++){const n=t[e],r=t[e-1];n instanceof Rf&&r instanceof Rf&&wg(n,r)&&(t.splice(e-1,2,new Rf(r.data+n.data,r.getAttributes())),e--)}return t}function yg(e,t){const n=e.getChild(t-1),r=e.getChild(t);if(n&&r&&n.is("$text")&&r.is("$text")&&wg(n,r)){const i=new Rf(n.data+r.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function vg(e){const t=e.textNode,n=e.parent;if(t){const r=e.offset-t.startOffset,i=t.index;n._removeChildren(i,1);const o=new Rf(t.data.substr(0,r),t.getAttributes()),s=new Rf(t.data.substr(r),t.getAttributes());n._insertChild(i,[o,s])}}function wg(e,t){const n=e.getAttributes(),r=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0]))return!1;r.next()}return r.next().done}class _g extends pg{sourcePosition;howMany;targetPosition;constructor(e,t,n,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[Gf._createFromPositionAndShift(this.sourcePosition,this.howMany),Gf._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new _g(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new _g(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new Gu("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new Gu("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==kd(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new Gu("move-operation-node-into-itself",this)}}_execute(){gg(Gf._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=zf.fromJSON(e.sourcePosition,t),r=zf.fromJSON(e.targetPosition,t);return new this(n,e.howMany,r,e.baseVersion)}}class xg extends pg{position;nodes;shouldReceiveAttributes;constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new jf(bg(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new jf([...this.nodes].map(e=>e._clone(!0))),t=new xg(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new zf(e,[0]);return new _g(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Gu("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new jf([...e].map(e=>e._clone(!0))),fg(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const t of e.nodes)t.name?n.push(Ff.fromJSON(t)):n.push(Rf.fromJSON(t));const r=new xg(zf.fromJSON(e.position,t),n,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class Eg extends pg{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,n,r,i){super(i),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new zf(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gf(this.splitPosition,e)}get affectedSelectable(){const e=[Gf._createFromPositionAndShift(this.splitPosition,0),Gf._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Gf._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Eg(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new zf(e,[0]);return new kg(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new Gu("split-operation-position-invalid",this);if(!e.parent)throw new Gu("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Gu("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Gu("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)gg(Gf._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();fg(this.insertionPosition,t)}gg(new Gf(zf._createAt(e,this.splitPosition.offset),zf._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new zf(e.root,t,"toPrevious")}static fromJSON(e,t){const n=zf.fromJSON(e.splitPosition,t),r=zf.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?zf.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,i,e.baseVersion)}}class kg extends pg{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,n,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new zf(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gf(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Gf._createOn(e),Gf._createFromPositionAndShift(this.targetPosition,0),Gf._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kg(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new zf(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Eg(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new Gu("merge-operation-source-position-invalid",this);if(!t.parent)throw new Gu("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new Gu("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;gg(Gf._createIn(e),this.targetPosition),gg(Gf._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=zf.fromJSON(e.sourcePosition,t),r=zf.fromJSON(e.targetPosition,t),i=zf.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,i,e.baseVersion)}}class Ag extends pg{name;oldRange;newRange;affectsData;_markers;constructor(e,t,n,r,i,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Ag(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ag(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Ag(e.name,e.oldRange?Gf.fromJSON(e.oldRange,t):null,e.newRange?Gf.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class Sg extends pg{range;key;oldValue;newValue;constructor(e,t,n,r,i){super(i),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Sg(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Sg(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new Gu("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!(0,ku.isEqual)(e.getAttribute(this.key),this.oldValue))throw new Gu("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new Gu("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){(0,ku.isEqual)(this.oldValue,this.newValue)||function(e,t,n){vg(e.start),vg(e.end);for(const r of e.getItems({shallow:!0})){const e=r.is("$textProxy")?r.textNode:r;null!==n?e._setAttribute(t,n):e._removeAttribute(t),yg(e.parent,e.index)}yg(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Sg(Gf.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Pg extends pg{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Pg(this.baseVersion)}getReversed(){return new Pg(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Cg extends pg{position;oldName;newName;constructor(e,t,n,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Cg(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Cg(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Ff))throw new Gu("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new Gu("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Cg(zf.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Tg extends pg{root;key;oldValue;newValue;constructor(e,t,n,r,i){super(i),this.root=e,this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Tg(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Tg(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Gu("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Gu("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Gu("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Gu("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Tg(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Og extends pg{rootName;elementName;isAdd;_document;constructor(e,t,n,r,i){super(i),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=r,this._document.getRoot(this.rootName)||(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Og(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Og(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Og(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Mg={};Mg[Sg.className]=Sg,Mg[xg.className]=xg,Mg[Ag.className]=Ag,Mg[_g.className]=_g,Mg[Pg.className]=Pg,Mg[pg.className]=pg,Mg[Cg.className]=Cg,Mg[Tg.className]=Tg,Mg[Og.className]=Og,Mg[Eg.className]=Eg,Mg[kg.className]=kg;class Dg{static fromJSON(e,t){return Mg[e.__className].fromJSON(e,t)}}const Ig=new Map;function Ng(e,t,n){let r=Ig.get(e);r||(r=new Map,Ig.set(e,r)),r.set(t,n)}function jg(e){return[e]}function Rg(e,t,n={}){const r=function(e,t){const n=Ig.get(e);return n&&n.has(t)?n.get(t):jg}(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(e){throw e}}function Lg(e,t,n){e=e.slice(),t=t.slice();const r=new Fg(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(e),r.setOriginalOperations(t);const i=r.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};const o=new WeakMap;for(const t of e)o.set(t,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const n=e[a],i=o.get(n);if(i==t.length){a++;continue}const s=t[i],l=Rg(n,s,r.getContext(n,s,!0)),c=Rg(s,n,r.getContext(s,n,!1));r.updateRelation(n,s),r.setOriginalOperations(l,n),r.setOriginalOperations(c,s);for(const e of l)o.set(e,i+c.length);e.splice(a,1,...l),t.splice(i,1,...c)}if(zg(e),zg(t),n.padWithNoOps){const n=e.length-s.originalOperationsACount,r=t.length-s.originalOperationsBCount;Vg(e,r-n),Vg(t,n-r)}return Bg(e,s.nextBaseVersionB),Bg(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}class Fg{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const t of e)this.originalOperations.set(t,n||t)}updateRelation(e,t){if(e instanceof _g)t instanceof kg?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof _g&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Eg){if(t instanceof kg)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof _g)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const r=n.end.offset-e.splitPosition.offset,i=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:r,offset:i})}}}else if(e instanceof kg)t instanceof kg?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Eg?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof _g&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Ag){const n=e.newRange;if(!n)return;if(t instanceof kg){const r=n.start.isEqual(t.targetPosition),i=n.start.isEqual(t.deletionPosition),o=n.end.isEqual(t.deletionPosition),s=n.end.isEqual(t.sourcePosition);(r||i||o||s)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),r=this._history.getUndoneOperation(n);if(!r)return null;const i=this.originalOperations.get(e),o=this._relations.get(i);return o&&o.get(r)||null}_setRelation(e,t,n){const r=this.originalOperations.get(e),i=this.originalOperations.get(t);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(i,n)}}function Bg(e,t){for(const n of e)n.baseVersion=t++}function Vg(e,t){for(let n=0;n<t;n++)e.push(new Pg(0))}function zg(e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n];r instanceof Ag&&(-1!==r.baseVersion?t.set(r.name,{op:r,ranges:r.newRange?[r.newRange]:[]}):(r.newRange&&t.get(r.name).ranges.push(r.newRange),e.splice(n,1),n--))}for(const{op:e,ranges:n}of t.values())n.length?e.newRange=Gf._createFromRanges(n):e.newRange=null}function Ug(e,t,n){const r=e.nodes.getNode(0).getAttribute(t);if(r==n)return null;const i=new Gf(e.position,e.position.getShiftedBy(e.howMany));return new Sg(i,t,r,n,0)}function qg(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function Hg(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=new _g(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(let t=r+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Ng(Sg,Sg,(e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const r=e.range.getDifference(t.range).map(t=>new Sg(t,e.key,e.oldValue,e.newValue,0)),i=e.range.getIntersection(t.range);return i&&n.aIsStrong&&r.push(new Sg(i,t.key,t.newValue,e.newValue,0)),0==r.length?[new Pg(0)]:r}return[e]}),Ng(Sg,xg,(e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(t=>new Sg(t,e.key,e.oldValue,e.newValue,e.baseVersion));if(t.shouldReceiveAttributes){const r=Ug(t,e.key,e.oldValue);r&&n.unshift(r)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]}),Ng(Sg,kg,(e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Gf._createFromPositionAndShift(t.graveyardPosition,1));const r=e.range._getTransformedByMergeOperation(t);return r.isCollapsed||n.push(r),n.map(t=>new Sg(t,e.key,e.oldValue,e.newValue,e.baseVersion))}),Ng(Sg,_g,(e,t)=>{const n=function(e,t){const n=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];const o=[];for(let e of i){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart(),r=e.start.hasSameParentAs(n),i=e._getTransformedByInsertion(n,t.howMany,r);o.push(...i)}return r&&o.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}(e.range,t);return n.map(t=>new Sg(t,e.key,e.oldValue,e.newValue,e.baseVersion))}),Ng(Sg,Eg,(e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new Gf(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]}),Ng(xg,Sg,(e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const r=Ug(e,t.key,t.newValue);r&&n.push(r)}return n}),Ng(xg,xg,(e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e])),Ng(xg,_g,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Ng(xg,Eg,(e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e])),Ng(xg,kg,(e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e])),Ng(Ag,xg,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e])),Ng(Ag,Ag,(e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new Pg(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),Ng(Ag,kg,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e])),Ng(Ag,_g,(e,t)=>{const n=[e];if(e.oldRange&&(e.oldRange=Gf._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){const r=e.newRange._getTransformedByMoveOperation(t);e.newRange=r[0];for(let t=1;t<r.length;t++){const i=e.clone();i.oldRange=null,i.newRange=r[t],i.baseVersion=-1,n.push(i)}}return n}),Ng(Ag,Eg,(e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const r=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=zf._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement?e.newRange.start=zf._createAt(t.moveTargetPosition):e.newRange.start=r.start,e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=zf._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=zf._createAt(t.insertionPosition):e.newRange.end=r.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),Ng(kg,xg,(e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e])),Ng(kg,kg,(e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new zf(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new Pg(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==e.targetPosition.root.rootName,i="$graveyard"==t.targetPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),r=e.targetPosition._getTransformedByMergeOperation(t);return[new _g(n,e.howMany,r,0)]}return[new Pg(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Ng(kg,_g,(e,t,n)=>{const r=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new Pg(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(e.sourcePosition)?e.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(e.sourcePosition)&&"mergeSourceAffected"==n.abRelation?e.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(e.targetPosition)?(e.targetPosition.stickiness="toNone",e.howMany-=t.howMany):t.targetPosition.isEqual(e.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(e.targetPosition.stickiness="toPrevious",e.howMany+=t.howMany):(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany)),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.sourcePosition.stickiness="toPrevious",e.targetPosition.stickiness="toNext",e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),Ng(kg,Eg,(e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition)||"mergeTargetNotMoved"==n.abRelation))return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e];if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),Ng(_g,xg,(e,t)=>{const n=Gf._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),Ng(_g,_g,(e,t,n)=>{const r=Gf._createFromPositionAndShift(e.sourcePosition,e.howMany),i=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),qg(e,t)&&qg(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Hg([r],o);if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Hg([r],o);const l=kd(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Hg([r],o);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const c=[],u=r.getDifference(i);for(const e of u){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany),e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n="same"==kd(e.start.getParentPath(),t.getMovedRangeStart().getParentPath()),r=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);c.push(...r)}const d=r.getIntersection(i);return null!==d&&s&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new Pg(e.baseVersion)]:Hg(c,o)}),Ng(_g,Eg,(e,t,n)=>{let r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));const i=Gf._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let e=new Gf(t.splitPosition,i.end);return e=e._getTransformedBySplitOperation(t),Hg([new Gf(i.start,t.splitPosition),e],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);const o=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);e.howMany>1&&r&&!n.aWasUndone&&o.push(Gf._createFromPositionAndShift(t.insertionPosition,1))}return Hg(o,r)}),Ng(_g,kg,(e,t,n)=>{const r=Gf._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Pg(0)]}else if(!n.aWasUndone){const n=[];let r=t.graveyardPosition.clone(),i=t.targetPosition._getTransformedByMergeOperation(t);const o=e.targetPosition.getTransformedByOperation(t);e.howMany>1&&(n.push(new _g(e.sourcePosition,e.howMany-1,o,0)),r=r._getTransformedByMove(e.sourcePosition,o,e.howMany-1),i=i._getTransformedByMove(e.sourcePosition,o,e.howMany-1));const s=t.deletionPosition._getCombined(e.sourcePosition,o),a=new _g(r,1,s,0),l=a.getMovedRangeStart().path.slice();l.push(0);const c=new zf(a.targetPosition.root,l);i=i._getTransformedByMove(r,s,1);const u=new _g(i,t.howMany,c,0);return n.push(a),n.push(u),n}const i=Gf._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]}),Ng(Cg,xg,(e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e])),Ng(Cg,kg,(e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])),Ng(Cg,_g,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Ng(Cg,Cg,(e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Pg(0)];e.oldName=t.newName}return[e]}),Ng(Cg,Eg,(e,t)=>{if("same"==kd(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new Cg(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]}),Ng(Tg,Tg,(e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Pg(0)];e.oldValue=t.newValue}return[e]}),Ng(Og,Og,(e,t)=>e.rootName===t.rootName&&e.isAdd===t.isAdd?[new Pg(0)]:[e]),Ng(Eg,xg,(e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e])),Ng(Eg,kg,(e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const r=new zf(t.graveyardPosition.root,n),i=Eg.getInsertionPosition(new zf(t.graveyardPosition.root,n)),o=new Eg(r,0,i,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Ng(Eg,_g,(e,t,n)=>{const r=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){const n=e.splitPosition._getTransformedByMoveOperation(t),r=e.graveyardPosition._getTransformedByMoveOperation(t),i=r.path.slice();i.push(0);const o=new zf(r.root,i);return[new _g(n,e.howMany,o,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const i=e.splitPosition.isEqual(t.targetPosition);if(i&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),[e];if(i&&n.abRelation&&n.abRelation.howMany){const{howMany:t,offset:r}=n.abRelation;return e.howMany+=t,e.splitPosition=e.splitPosition.getShiftedBy(r),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),[e]}),Ng(Eg,Eg,(e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Pg(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Pg(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const r="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new _g(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new _g(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new Pg(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const r=new zf(t.insertionPosition.root,n);return[e,new _g(e.insertionPosition,1,r,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Eg.getInsertionPosition(e.splitPosition),[e]});class $g extends(td(zf)){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new Gu("model-liveposition-root-not-rootelement",e);Wg.call(this)}detach(){this.stopListening()}toPosition(){return new zf(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Wg(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&Gg.call(this,n)},{priority:"low"})}function Gg(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}$g.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};class Jg{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},Ju("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:r=!1,isTyping:i=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=r,this.isTyping=i}get type(){return Ju("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class Yg{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const r=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const e of r.getItems({shallow:!0}))this._setElementState(e,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=Gf._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const e=t.splitPosition.parent;if(!this._isInInsertedElement(e)){this._markRemove(e,t.splitPosition.offset,t.howMany);const n=Gf._createFromPositionAndShift(t.splitPosition,t.howMany);for(const e of n.getItems({shallow:!0}))this._setElementState(e,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1),this._setElementState(e,"move");const r=t.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,t.targetPosition.offset,e.maxOffset);const n=Gf._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const e of n.getItems({shallow:!0}))this._setElementState(e,"move")}break}case"detachRoot":case"addRoot":{const e=t.affectedSelectable;if(!e._isLoaded)return;if(e.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=n:(r={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,r)),null==r.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldMarkerData.range&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newMarkerData.range&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,r=!e.range&&t.range,i=e.range&&t.range&&!e.range.isEqual(t.range);if(n||r||i)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const e of this._changesInElement.keys()){const n=this._changesInElement.get(e).sort((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1),r=this._elementChildrenSnapshots.get(e),i=Qg(e.getChildren()),o=Xg(r.length,n);let s=0,a=0;for(const n of o)if("i"===n){const n=this._getDiffActionForNode(i[s].node,"insert"),r=this._elementsSnapshots.get(i[s].node),o=this._getInsertDiff(e,s,n,i[s],r);t.push(o),s++}else if("r"===n){const n=this._getDiffActionForNode(r[a].node,"remove"),i=this._getRemoveDiff(e,s,n,r[a]);t.push(i),a++}else if("a"===n){const n=r[a].attributes,o=i[s].attributes;let l;if("$text"==i[s].name)l=new Gf(zf._createAt(e,s),zf._createAt(e,s+1));else{const t=e.offsetToIndex(s);l=new Gf(zf._createAt(e,s),zf._createAt(e.getChild(t),0))}const c=this._getAttributesDiff(l,n,o);t.push(...c),s++,a++}else s++,a++}t.sort((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1);for(let e=1,n=0;e<t.length;e++){const r=t[n],i=t[e],o="remove"==r.type&&"remove"==i.type&&"$text"==r.name&&"$text"==i.name&&r.position.isEqual(i.position),s="insert"==r.type&&"insert"==i.type&&"$text"==r.name&&"$text"==i.name&&r.position.parent==i.position.parent&&r.position.offset+r.length==i.position.offset,a="attribute"==r.type&&"attribute"==i.type&&r.position.parent==i.position.parent&&r.range.isFlat&&i.range.isFlat&&r.position.offset+r.length==i.position.offset&&r.attributeKey==i.attributeKey&&r.attributeOldValue==i.attributeOldValue&&r.attributeNewValue==i.attributeNewValue;o||s||a?(r.length++,a&&(r.range.end=r.range.end.getShiftedBy(1)),t[e]=null):n=e}t=t.filter(e=>e);for(const e of t)delete e.changeCount,"attribute"==e.type&&(delete e.position,delete e.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Zg),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return void 0!==t.state&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=Gf._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const e=t.getData();this.bufferMarkerChange(t.name,{...e,range:null},e)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,r){const i=this._changedRoots.get(e)||{name:e},o=i.attributes||{};if(o[t]){const e=o[t];r===e.oldValue?delete o[t]:e.newValue=r}else o[t]={oldValue:n,newValue:r};0===Object.entries(o).length?(delete i.attributes,void 0===i.state&&this._changedRoots.delete(e)):(i.attributes=o,this._changedRoots.set(e,i))}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let e=0;e<n.length;e++)n[e].howMany<1&&(n.splice(e,1),e--)}_setElementState(e,t){if(!e.is("element"))return;const n=Yg._statesPriority.indexOf(this._elementState.get(e));Yg._statesPriority.indexOf(t)>n&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element"))return t;if(!this._elementsSnapshots.has(e))return t;const n=this._elementState.get(e);return n&&"move"!=n?n:t}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=Qg(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const e of t)this._elementsSnapshots.set(e.node,e)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const r=e.offset+e.howMany,i=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<i&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<i){const i=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:r,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(r<=i)if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<i){const t=i-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(r<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<i)if(r<=i){const r=n.howMany;n.howMany=e.offset-n.offset;const i=r-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:i,count:this._changeCount++})}else n.howMany-=i-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&r>n.offset){if(r>i){const e={type:"attribute",offset:i,howMany:r-i,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<i&&(r>i?(e.nodesToHandle=r-i,e.offset=i):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&r>n.offset){const i={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(i,t),t.push(i),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&r<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&r>=i&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n,r,i){const o={type:"insert",position:zf._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:n};return"insert"!=n&&i&&(o.before={name:i.name,attributes:new Map(i.attributes)}),o}_getRemoveDiff(e,t,n,r){return{type:"remove",action:n,position:zf._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const r=[];n=new Map(n);for(const[i,o]of t){const t=n.has(i)?n.get(i):null;t!==o&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:o,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(i)}for(const[t,i]of n)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:i,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),r=e.startOffset;if(n)for(const e of n)if("insert"==e.type&&r>=e.offset&&r<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const r=new Gf(zf._createAt(e,t),zf._createAt(e,t+n));for(const e of r.getItems({shallow:!0}))e.is("element")&&(this._changesInElement.delete(e),this._removeAllNestedChanges(e,0,e.maxOffset))}}function Kg(e){return{node:e,name:e.is("$text")?"$text":e.name,attributes:new Map(e.getAttributes())}}function Qg(e){const t=[];for(const n of e)if(n.is("$text"))for(let e=0;e<n.data.length;++e)t.push(Kg(n));else t.push(Kg(n));return t}function Xg(e,t){const n=[];let r=0,i=0;for(const e of t){if(e.offset>r){for(let t=0;t<e.offset-r;t++)n.push("e");i+=e.offset-r}if("insert"==e.type){for(let t=0;t<e.howMany;t++)n.push("i");r=e.offset+e.howMany}else if("remove"==e.type){for(let t=0;t<e.howMany;t++)n.push("r");r=e.offset,i+=e.howMany}else{if(e.howMany>1500)for(let t=0;t<e.howMany;t++)n.push("a");else n.push(..."a".repeat(e.howMany).split(""));r=e.offset+e.howMany,i+=e.howMany}}if(i<e)for(let t=0;t<e-i-r;t++)n.push("e");return n}function Zg(e){const t="position"in e&&"$graveyard"==e.position.root.rootName,n="range"in e&&"$graveyard"==e.range.root.rootName;return!t&&!n}class eb{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new Gu("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===e&&(e=n.baseVersion);let r=t-1;for(const[t,n]of this._gaps)e>t&&e<n&&(e=n),r>t&&r<n&&(r=t-1);if(r<n.baseVersion||e>this.lastOperation.baseVersion)return[];let i=this._baseVersionToOperationIndex.get(e);void 0===i&&(i=0);let o=this._baseVersionToOperationIndex.get(r);return void 0===o&&(o=this._operations.length-1),this._operations.slice(i,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class tb extends Ff{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,n="main"){super(t),this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}tb.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};const nb="$graveyard";class rb extends(td()){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new eb,this.selection=new dm(this),this.roots=new Ch({idProperty:"rootName"}),this.differ=new Yg(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",nb),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&this.history.addOperation(n)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(e,t,n,r,i)=>{const o={...t.getData(),range:r};this.differ.bufferMarkerChange(t.name,i,o),null===n&&t.on("change",(e,n)=>{const r=t.getData();this.differ.bufferMarkerChange(t.name,{...r,range:n},r)})}),this.registerPostFixer(e=>{let t=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(e.remove(e.createRangeIn(n)),t=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(e.removeMarker(n),t=!0);return t})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(nb)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new Gu("model-document-createroot-name-exists",this,{name:t});const n=new tb(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(e=>e.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=(0,ku.clone)(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&ib(e.start)&&ib(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function ib(e){const t=e.textNode;if(t){const n=t.data,r=e.offset-t.startOffset;return!Fh(n,r)&&!Bh(n,r)}return!0}class ob extends(td()){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof sb?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,r=!1){const i=e instanceof sb?e.name:e;if(i.includes(","))throw new Gu("markercollection-incorrect-marker-name",this);const o=this._markers.get(i);if(o){const e=o.getData(),s=o.getRange();let a=!1;return s.isEqual(t)||(o._attachLiveRange(am.fromRange(t)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,a=!0),a&&this.fire(`update:${i}`,o,s,t,e),o}const s=am.fromRange(t),a=new sb(i,s,n,r);return this._markers.set(i,a),this.fire(`update:${i}`,a,null,t,{...a.getData(),range:null}),a}_remove(e){const t=e instanceof sb?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof sb?e.name:e,n=this._markers.get(t);if(!n)throw new Gu("markercollection-refresh-marker-not-exists",this);const r=n.getRange();this.fire(`update:${t}`,n,r,r,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class sb extends(td(If)){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,n,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new Gu("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Gu("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Gu("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Gu("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Gu("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}sb.prototype.is=function(e){return"marker"===e||"model:marker"===e};class ab extends pg{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new Gu("detach-operation-on-document-node",this)}_execute(){mg(Gf._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class lb extends If{markers=new Map;_children=new jf;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChildAtOffset(n);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Ff.fromJSON(n)):t.push(Rf.fromJSON(n));return new lb(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Rf(e)]:(Ad(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Rf(e):e instanceof Lf?new Rf(e.data,e.getAttributes()):e))}(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}}lb.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};class cb{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Rf(e,t)}createElement(e,t){return new Ff(e,t)}createDocumentFragment(){return new lb}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Rf&&""==e.data)return;const r=zf._createAt(t,n);if(e.parent){if(fb(e.root,r.root))return void this.move(Gf._createOn(e),r);if(e.root.document)throw new Gu("model-writer-insert-forbidden-move",this);this.remove(e)}const i=r.root.document?r.root.document.version:null,o=new xg(r,e,i);if(e instanceof Rf&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof lb)for(const[t,n]of e.markers){const e=zf._createAt(n.root,0),i={range:new Gf(n.start._getCombined(e,r),n.end._getCombined(e,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(t)?this.updateMarker(t,i):this.addMarker(t,i)}}insertText(e,t,n,r){t instanceof lb||t instanceof Ff||t instanceof zf?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}insertElement(e,t,n,r){t instanceof lb||t instanceof Ff||t instanceof zf?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof lb||t instanceof Ff?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof lb||t instanceof Ff?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Gf){const r=n.getMinimalFlatRanges();for(const n of r)ub(this,e,t,n)}else db(this,e,t,n)}setAttributes(e,t){for(const[n,r]of jh(e))this.setAttribute(n,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Gf){const n=t.getMinimalFlatRanges();for(const t of n)ub(this,e,null,t)}else db(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof Gf)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Gf))throw new Gu("writer-move-invalid-range",this);if(!e.isFlat)throw new Gu("writer-move-range-not-flat",this);const r=zf._createAt(t,n);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!fb(e.root,r.root))throw new Gu("writer-move-different-document",this);const i=e.root.document?e.root.document.version:null,o=new _g(e.start,e.end.offset-e.start.offset,r,i);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Gf?e:Gf._createOn(e)).getMinimalFlatRanges().reverse();for(const e of t)this._addOperationForAffectedMarkers("move",e),pb(e.start,e.end.offset-e.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Ff))throw new Gu("writer-merge-no-element-before",this);if(!(n instanceof Ff))throw new Gu("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Gf._createIn(n),zf._createAt(t,"end")),this.remove(n)}_merge(e){const t=zf._createAt(e.nodeBefore,"end"),n=zf._createAt(e.nodeAfter,0),r=e.root.document.graveyard,i=new zf(r,[0]),o=e.root.document.version,s=new kg(n,e.nodeAfter.maxOffset,t,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Ff))throw new Gu("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,r=new Cg(zf._createBefore(e),e.name,t,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let n,r,i=e.parent;if(!i.parent)throw new Gu("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Gu("writer-split-invalid-limit-element",this);do{const t=i.root.document?i.root.document.version:null,o=i.maxOffset-e.offset,s=Eg.getInsertionPosition(e),a=new Eg(e,o,s,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new Gf(zf._createAt(n,"end"),zf._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Gu("writer-wrap-range-not-flat",this);const n=t instanceof Ff?t:new Ff(t);if(n.childCount>0)throw new Gu("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new Gu("writer-wrap-element-attached",this);this.insert(n,e.start);const r=new Gf(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,zf._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Gu("writer-unwrap-element-no-parent",this);this.move(Gf._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new Gu("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,r=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new Gu("writer-addmarker-marker-exists",this);if(!r)throw new Gu("writer-addmarker-no-range",this);return n?(hb(this,e,null,r,i),this.model.markers.get(e)):this.model.markers._set(e,r,n,i)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new Gu("writer-updatemarker-marker-not-exists",this);if(!t)return Ju("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(r);const i="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,s=o?t.affectsData:r.affectsData;if(!i&&!t.range&&!o)throw new Gu("writer-updatemarker-wrong-options",this);const a=r.getRange(),l=t.range?t.range:a;i&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?hb(this,n,null,l,s):(hb(this,n,a,null,s),this.model.markers._set(n,l,void 0,s)):r.managedUsingOperations?hb(this,n,a,l,s):this.model.markers._set(n,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Gu("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);n.managedUsingOperations?hb(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new Gu("writer-addroot-root-exists",this);const r=this.model.document,i=new Og(e,t,!0,r,r.version);return this.batch.addOperation(i),this.model.applyOperation(i),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new Gu("writer-detachroot-no-root",this);for(const e of this.model.markers)e.getRange().root===t&&this.removeMarker(e);for(const e of t.getAttributeKeys())this.removeAttribute(e,t);this.remove(this.createRangeIn(t));const n=this.model.document,r=new Og(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[t,n]of jh(e))this._setSelectionAttribute(t,n)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=dm._getStoreAttributeKey(e);this.setAttribute(r,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=dm._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Gu("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let i=!1;if("move"===e){const e=t;i=e.containsPosition(r.start)||e.start.isEqual(r.start)||e.containsPosition(r.end)||e.end.isEqual(r.end)}else{const e=t,n=e.nodeBefore,o=e.nodeAfter,s=r.start.parent==n&&r.start.isAtEnd,a=r.end.parent==o&&0==r.end.offset,l=r.end.nodeAfter==o,c=r.start.nodeAfter==o;i=s||a||l||c}i&&this.updateMarker(n.name,{range:r})}}}function ub(e,t,n,r){const i=e.model,o=i.document;let s,a,l,c=r.start;for(const e of r.getWalker({shallow:!0}))l=e.item.getAttribute(t),s&&a!=l&&(a!=n&&u(),c=s),s=e.nextPosition,a=l;function u(){const r=new Gf(c,s),l=r.root.document?o.version:null,u=new Sg(r,t,a,n,l);e.batch.addOperation(u),i.applyOperation(u)}s instanceof zf&&s!=c&&a!=n&&u()}function db(e,t,n,r){const i=e.model,o=i.document,s=r.getAttribute(t);let a,l;if(s!=n){if(r.root===r){const e=r.document?o.version:null;l=new Tg(r,t,s,n,e)}else{a=new Gf(zf._createBefore(r),e.createPositionAfter(r));const i=a.root.document?o.version:null;l=new Sg(a,t,s,n,i)}e.batch.addOperation(l),i.applyOperation(l)}}function hb(e,t,n,r,i){const o=e.model,s=o.document,a=new Ag(t,n,r,o.markers,!!i,s.version);e.batch.addOperation(a),o.applyOperation(a)}function pb(e,t,n,r){let i;if(e.root.document){const n=r.document,o=new zf(n.graveyard,[0]);i=new _g(e,t,o,n.version)}else i=new ab(e,t);n.addOperation(i),r.applyOperation(i)}function fb(e,t){return e===t||e instanceof tb&&t instanceof tb}function mb(e,t,n={}){if(t.isCollapsed)return;const r=t.getFirstRange();if("$graveyard"==r.root.rootName)return;const i=e.schema;e.change(e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const r=t.getFirstRange();return r.start.parent!=r.end.parent&&e.checkChild(n,"paragraph")}(i,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),vb(e,e.createPositionAt(n,0),t)}(e,t);const o={};if(!n.doNotAutoparagraph){const e=t.getSelectedElement();e&&Object.assign(o,i.getAttributesWithProperty(e,"copyOnReplace",!0))}const[s,a]=function(e){const t=e.root.document.model,n=e.start;let r=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const n=function(e){const t=e.parent,n=t.root.document.model.schema,r=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const e of r){if(n.isLimit(e))return null;if(n.isBlock(e))return e}}(r);if(n&&r.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=t.createRange(i,r);t.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[$g.fromPosition(n,"toPrevious"),$g.fromPosition(r,"toNext")]}(r);s.isTouching(a)||e.remove(e.createRange(s,a)),n.leaveUnmerged||(function(e,t,n){const r=e.model;if(!yb(e.model.schema,t,n))return;const[i,o]=function(e,t){const n=e.getAncestors(),r=t.getAncestors();let i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(t,n);i&&o&&(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(o,{ignoreMarkers:!0})?bb(e,t,n,i.parent):gb(e,t,n,i.parent))}(e,s,a),i.removeDisallowedAttributes(s.parent.getChildren(),e)),wb(e,t,s),!n.doNotAutoparagraph&&function(e,t){const n=e.checkChild(t,"$text"),r=e.checkChild(t,"paragraph");return!n&&r}(i,s)&&vb(e,s,t,o),s.detach(),a.detach()})}function gb(e,t,n,r){const i=t.parent,o=n.parent;if(i!=r&&o!=r){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(o,t),e.merge(t);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}yb(e.model.schema,t,n)&&gb(e,t,n,r)}}function bb(e,t,n,r){const i=t.parent,o=n.parent;if(i!=r&&o!=r){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(i,n);t.parent.isEmpty;){const n=t.parent;t=e.createPositionBefore(n),e.remove(n)}n=e.createPositionBefore(o),function(e,t){const n=t.nodeBefore,r=t.nodeAfter;n.name!=r.name&&e.rename(n,r.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(r.getAttributes()),n),e.merge(t)}(e,n),yb(e.model.schema,t,n)&&bb(e,t,n,r)}}function yb(e,t,n){const r=t.parent,i=n.parent;return r!=i&&!e.isLimit(r)&&!e.isLimit(i)&&function(e,t,n){const r=new Gf(e,t);for(const e of r.getWalker())if(n.isLimit(e.item))return!1;return!0}(t,n,e)}function vb(e,t,n,r={}){const i=e.createElement("paragraph");e.model.schema.setAllowedAttributes(i,r,e),e.insert(i,t),wb(e,n,e.createPositionAt(i,0))}function wb(e,t,n){t instanceof dm?e.setSelection(n):t.setTo(n)}function _b(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map(e=>t.createRangeOn(e)).filter(t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))).forEach(e=>{n.push(e.start.parent),t.remove(e)}),n.forEach(e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}})}class xb{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,n){this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new Gu("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Gf._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Gf(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this.schema.isObject(e)||this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=$g.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new Gu("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=$g.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=$g.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Ff))return;if(!this._canMergeLeft(e))return;const t=$g._createBefore(e);t.stickiness="toNext";const n=$g.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=$g._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=$g._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Ff))return;if(!this._canMergeRight(e))return;const t=$g._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new Gu("insertcontent-invalid-insertion-position",this);this.position=zf._createAt(t.nodeBefore,"end");const n=$g.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=$g._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=$g._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Ff&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Ff&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Eb(e,t){const{isForward:n,walker:r,unit:i,schema:o,treatEmojiAsSingleUnit:s}=e,{type:a,item:l,nextPosition:c}=t;if("text"==a)return"word"===e.unit?function(e,t){let n=e.position.textNode;for(n||(n=t?e.position.nodeAfter:e.position.nodeBefore);n&&n.is("$text");){const r=e.position.offset-n.startOffset;if(Sb(n,r,t))n=t?e.position.nodeAfter:e.position.nodeBefore;else{if(Ab(n.data,r,t))break;e.next()}}return e.position}(r,n):function(e,t,n){const r=e.position.textNode;if(r){const i=r.data;let o=e.position.offset-r.startOffset;for(;Fh(i,o)||"character"==t&&Bh(i,o)||n&&zh(i,o);)e.next(),o=e.position.offset-r.startOffset}return e.position}(r,i,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(l))return zf._createAt(l,n?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(l))return void r.skip(()=>!0);if(o.checkChild(c,"$text"))return c}}function kb(e,t){const n=e.root,r=zf._createAt(n,t?"end":0);return t?new Gf(e,r):new Gf(r,e)}function Ab(e,t,n){const r=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(r))}function Sb(e,t,n){return t===(n?e.offsetSize:0)}class Pb extends(gd()){markers;document;schema;_pendingChanges;_currentWriter;constructor(){var e;super(),this.markers=new ob,this.document=new rb(this),this.schema=new $m,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),(e=this).document.registerPostFixer(t=>function(e,t){const n=t.document.selection,r=t.schema,i=[];let o=!1;for(const e of n.getRanges()){const t=Fm(e,r);t&&!t.isEqual(e)?(i.push(t),o=!0):i.push(e)}return o&&e.setSelection(function(e){const t=[...e],n=new Set;let r=1;for(;r<t.length;){const e=t[r],i=t.slice(0,r);for(const[o,s]of i.entries())if(!n.has(o))if(e.isEqual(s))n.add(o);else if(e.isIntersecting(s)){n.add(o),n.add(r);const i=e.getJoined(s);t.push(i)}r++}const i=t.filter((e,t)=>!n.has(t));return i}(i),{backward:n.isBackward}),!1}(t,e)),this.document.registerPostFixer(Cm),this.on("insertContent",(e,[t,n])=>{e.return=function(e,t,n){return e.change(r=>{const i=n||e.document.selection;i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0});const o=new xb(e,r,i.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[n,r]of t.markers){const{start:t,end:i}=r,o=t.isEqual(i);e.push({position:t,name:n,isCollapsed:o},{position:i,name:n,isCollapsed:o})}e.sort(({position:e},{position:t})=>e.isBefore(t)?1:-1);for(const{position:n,name:i,isCollapsed:o}of e){let e=null,a=null;const l=n.parent===t&&n.isAtStart,c=n.parent===t&&n.isAtEnd;l||c?o&&(a=l?"start":"end"):(e=r.createElement("$marker"),r.insert(e,n)),s.push({name:i,element:e,collapsed:a})}}a=t.getChildren()}else a=[t];o.handleNodes(a);let l=o.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=l?am.fromRange(l):null,t={};for(let e=s.length-1;e>=0;e--){const{name:n,element:i,collapsed:a}=s[e],l=!t[n];if(l&&(t[n]=[]),i){const e=r.createPositionAt(i,"before");t[n].push(e),r.remove(i)}else{const e=o.getAffectedRange();if(!e){a&&t[n].push(o.position);continue}a?t[n].push(e[a]):t[n].push(l?e.start:e.end)}}for(const[e,[n,i]]of Object.entries(t))n&&i&&n.root===i.root&&n.root.document&&!r.model.markers.has(e)&&r.addMarker(e,{usingOperation:!0,affectsData:!0,range:new Gf(n,i)});e&&(l=e.toRange(),e.detach())}l&&(i instanceof dm?r.setSelection(l):i.setTo(l));const c=o.getAffectedRange()||e.createRange(i.anchor);return o.destroy(),c})}(this,t,n)}),this.on("insertObject",(e,[t,n,r])=>{e.return=function(e,t,n,r={}){if(!e.schema.isObject(t))throw new Gu("insertobject-element-not-an-object",e,{object:t});const i=n||e.document.selection;let o=i;r.findOptimalPosition&&e.schema.isBlock(t)&&(o=e.createSelection(e.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const s=Th(i.getSelectedBlocks()),a={};return s&&Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change(n=>{o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});let i=t;const s=o.anchor.parent;!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)&&(i=n.createElement("paragraph"),n.insert(t,i)),e.schema.setAllowedAttributes(i,a,n);const l=e.insertContent(i,o);return l.isCollapsed||r.setSelection&&function(e,t,n,r){const i=e.model;if("on"==n)return void e.setSelection(t,"on");if("after"!=n)throw new Gu("insertobject-invalid-place-parameter-value",i);let o=t.nextSibling;i.schema.isInline(t)?e.setSelection(t,"after"):(!(o&&i.schema.checkChild(o,"$text"))&&i.schema.checkChild(t.parent,"paragraph")&&(o=e.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,e),i.insertContent(o,e.createPositionAfter(t))),o&&e.setSelection(o,0))}(n,t,r.setSelection,a),l})}(this,t,n,r)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Jg,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){Gu.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new Jg):e instanceof Jg||(e=new Jg(e)):e=new Jg,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){Gu.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...r){const i=Cb(t,n);return this.fire("insertContent",[e,i,n,...r])}insertObject(e,t,n,r,...i){const o=Cb(t,n);return this.fire("insertObject",[e,o,r,r,...i])}deleteContent(e,t){mb(this,e,t)}modifySelection(e,t){!function(e,t,n={}){const r=e.schema,i="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=t.focus,l=new Bf({boundaries:kb(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:l,schema:r,isForward:i,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=l.next();){if(u.done)return;const n=Eb(c,u.value);if(n)return void(t instanceof dm?e.change(e=>{e.setSelectionFocus(n)}):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change(e=>{const n=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return n;const i=r.start.root,o=r.start.getCommonPath(r.end),s=i.getNodeByPath(o);let a;a=r.start.parent==r.end.parent?r:e.createRange(e.createPositionAt(s,r.start.path[o.length]),e.createPositionAt(s,r.end.path[o.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("$textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(e.cloneElement(t,!0),n);if(a!=r){const t=r._getTransformedByMove(a.start,e.createPositionAt(n,0),l)[0],i=e.createRange(e.createPositionAt(n,0),t.start);_b(e.createRange(t.end,e.createPositionAt(n,"end")),e),_b(i,e)}return n})}(this,e)}hasContent(e,t={}){const n=e instanceof Gf?e:Gf._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:i=!1}=t;if(!i)for(const e of this.markers.getMarkersIntersectingRange(n))if(e.affectsData)return!0;for(const e of n.getItems())if(this.schema.isContent(e)){if(!e.is("$textProxy"))return!0;if(!r)return!0;if(-1!==e.data.search(/\S/))return!0}return!1}canEditAt(e){const t=Cb(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new zf(e,t,n)}createPositionAt(e,t){return zf._createAt(e,t)}createPositionAfter(e){return zf._createAfter(e)}createPositionBefore(e){return zf._createBefore(e)}createRange(e,t){return new Gf(e,t)}createRangeIn(e){return Gf._createIn(e)}createRangeOn(e){return Gf._createOn(e)}createSelection(...e){return new em(...e)}createBatch(e){return new Jg(e)}createOperationFromJSON(e){return Dg.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new cb(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Cb(e,t){if(e)return e instanceof em||e instanceof dm?e:e instanceof Nf?t||0===t?new em(e,t):e.is("rootElement")?new em(e,"in"):new em(e,"on"):new em(e)}class Tb extends vf{domEventType="click";onDomEvent(e){this.fire(e.type,e)}}class Ob extends vf{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class Mb{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(e=>e!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const e of n)e.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&void 0!==e.context&&null!==e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Db(e,t=new Set){const n=[e],r=new Set;let i=0;for(;n.length>i;){const e=n[i++];if(!r.has(e)&&Ib(e)&&!t.has(e))if(r.add(e),Symbol.iterator in e)try{for(const t of e)n.push(t)}catch(e){}else for(const t in e)"defaultValue"!==t&&n.push(e[t])}return r}function Ib(e){const t=Object.prototype.toString.call(e),n=typeof e;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function Nb(e,t,n=new Set){if(e===t&&"object"==typeof(r=e)&&null!==r)return!0;var r;const i=Db(e,n),o=Db(t,n);for(const e of i)if(o.has(e))return!0;return!1}class jb extends Mb{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=(0,ku.throttle)(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),e&&(this._creator=(t,n)=>e.create(t,n)),this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},r={};for(const[i,o]of Object.entries(this._data.roots))o.isLoaded?(e[i]="",r[i]=n[i]||{}):t.push(i);const i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:r,_watchdogInitialData:this._data};return delete i.initialData,i.extraPlugins.push(Rb),this._initUsingData?this.create(e,i,i.context):(0,ku.isElement)(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(e=>e.isAttached()&&"$graveyard"!=e.rootName),{plugins:n}=e,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),i=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(e=>{o.roots[e.rootName]={content:JSON.stringify(Array.from(e.getChildren())),attributes:JSON.stringify(Array.from(e.getAttributes())),isLoaded:e._isLoaded}});for(const t of e.model.markers)t._affectsData&&(o.markers[t.name]={rangeJSON:t.getRange().toJSON(),usingOperation:t._managedUsingOperations,affectsData:t._affectsData});return r&&(o.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(o.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return Nb(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return(0,ku.cloneDeepWith)(e,(e,t)=>(0,ku.isElement)(e)||"context"===t?e:void 0)}}class Rb{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const r of t.children)n._appendChild(this._createNode(e,r));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:r,attributes:i}])=>{const o=JSON.parse(r),s=JSON.parse(i),a=t.model.document.getRoot(n);for(const[t,n]of s)e.setAttribute(t,n,a);for(const t of o){const n=this._createNode(e,t);e.insert(n,a,"end")}}),Object.entries(this._data.markers).forEach(([n,r])=>{const{document:i}=t.model,{rangeJSON:{start:o,end:s},...a}=r,l=i.getRoot(o.root),c=e.createPositionFromPath(l,o.path,o.stickiness),u=e.createPositionFromPath(l,s.path,s.stickiness),d=e.createRange(c,u);e.addMarker(n,{range:d,...a})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(e=>{const t=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");n.hasCommentThread(e.threadId)&&n.getCommentThread(e.threadId).remove(),n.addCommentThread({channelId:t,...e})}),t.forEach(e=>{const t=this.editor.plugins.get("TrackChangesEditing");t.hasSuggestion(e.id)?t.getSuggestion(e.id).attributes=e.attributes:t.addSuggestionData(e)})}}const Lb=Symbol("MainQueueId");class Fb extends Mb{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new Bb;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=t=>e.create(t),this._destructor=e=>e.destroy(),this._actionQueues.onEmpty(()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Lb,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=Vb(e);return Promise.all(t.map(e=>this._actionQueues.enqueue(e.id,()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let t;if(this._watchdogs.has(e.id))throw new Error(`Item with the given id is already added: '${e.id}'.`);if("editor"===e.type)return t=new jb(null,this._watchdogConfig),t.setCreator(e.creator),t._setExcludedProperties(this._contextProps),e.destructor&&t.setDestructor(e.destructor),this._watchdogs.set(e.id,t),t.on("error",(n,{error:r,causesRestart:i})=>{this._fire("itemError",{itemId:e.id,error:r}),i&&this._actionQueues.enqueue(e.id,()=>new Promise(n=>{const r=()=>{t.off("restart",r),this._fire("itemRestart",{itemId:e.id}),n()};t.on("restart",r)}))}),t.create(e.sourceElementOrData,e.config,this._context);throw new Error(`Not supported item type: '${e.type}'.`)})))}remove(e){const t=Vb(e);return Promise.all(t.map(e=>this._actionQueues.enqueue(e,()=>{const t=this._getWatchdog(e);return this._watchdogs.delete(e),t.destroy()})))}destroy(){return this._actionQueues.enqueue(Lb,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Lb,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Db(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return Nb(this._context,e.context)}}class Bb{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Lb;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Lb),this._queues.get(e)])).then(t),i=r.catch(()=>{});return this._queues.set(e,i),r.finally(()=>{this._activeActions--,this._queues.get(e)===i&&0===this._activeActions&&this._onEmptyCallbacks.forEach(e=>e())})}}function Vb(e){return Array.isArray(e)?e:[e]}class zb extends(gd()){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Ub,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Ub),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function Ub(e){e.return=!1,e.stop()}class qb extends(gd()){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,r=!("$graveyard"==n.getFirstPosition().root.rootName)&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Hb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Hb),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Hb(e){e.return=!1,e.stop()}class $b extends(td()){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],n=[]){super(),this._context=e,this._availablePlugins=new Map;for(const e of t)e.pluginName&&this._availablePlugins.set(e.pluginName,e);this._contextPlugins=new Map;for(const[e,t]of n)this._contextPlugins.set(e,t),this._contextPlugins.set(t,e),e.pluginName&&this._availablePlugins.set(e.pluginName,e)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new Gu("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const r=this,i=this._context;!function e(t,n=new Set){t.forEach(t=>{a(t)&&(n.has(t)||(n.add(t),t.pluginName&&!r._availablePlugins.has(t.pluginName)&&r._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,n)))})}(e),d(e);const o=[...function e(t,n=new Set){return t.map(e=>a(e)?e:r._availablePlugins.get(e)).reduce((t,r)=>n.has(r)?t:(n.add(r),r.requires&&(d(r.requires,r),e(r.requires,n).forEach(e=>t.add(e))),t.add(r)),new Set)}(e.filter(e=>!c(e,t)))];!function(e,t){for(const n of t){if("function"!=typeof n)throw new Gu("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const t=n.pluginName;if(!t)throw new Gu("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new Gu("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t});const i=r._availablePlugins.get(t);if(!i)throw new Gu("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t});const o=e.indexOf(i);if(-1===o){if(r._contextPlugins.has(i))return;throw new Gu("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(i.requires&&i.requires.length)throw new Gu("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t});e.splice(o,1,n),r._availablePlugins.set(t,n)}}(o,n);const s=function(e){return e.map(e=>{let t=r._contextPlugins.get(e);return t=t||new e(i),r._add(e,t),t})}(o);return h(s,"init").then(()=>h(s,"afterInit")).then(()=>s);function a(e){return"function"==typeof e}function l(e){return a(e)&&!!e.isContextPlugin}function c(e,t){return t.some(t=>t===e||u(e)===t||u(t)===e)}function u(e){return a(e)?e.pluginName||e.name:e}function d(e,n=null){e.map(e=>a(e)?e:r._availablePlugins.get(e)||e).forEach(e=>{!function(e,t){if(!a(e)){if(t)throw new Gu("plugincollection-soft-required",i,{missingPlugin:e,requiredBy:u(t)});throw new Gu("plugincollection-plugin-not-found",i,{plugin:e})}}(e,n),function(e,t){if(l(t)&&!l(e))throw new Gu("plugincollection-context-required",i,{plugin:u(e),requiredBy:u(t)})}(e,n),function(e,n){if(n&&c(e,t))throw new Gu("plugincollection-required",i,{plugin:u(e),requiredBy:u(n)})}(e,n)})}function h(e,t){return e.reduce((e,n)=>n[t]?r._contextPlugins.has(n)?e:e.then(n[t].bind(n)):e,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new Gu("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class Wb{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...n}=e||{};this.config=new Pd(n,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new $b(this,r);const i=this.config.get("language")||{};this.locale=new Ph({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new Ch}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if("function"!=typeof n)throw new Gu("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new Gu("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new Gu("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Gb{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new Gu("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Jb extends Nh{editor;constructor(e){super(),this.editor=e}set(e,t,n={}){if("string"==typeof t){const e=t;t=(t,n)=>{this.editor.execute(e),n()}}super.set(e,t,n)}}const Yb="contentEditing",Kb="common";class Qb{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Yb,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&r.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:r}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Kb}),r&&r.forEach(t=>{this.addKeystrokeInfoGroup({categoryId:e,...t})})}addKeystrokeInfoGroup({categoryId:e=Yb,id:t,label:n,keystrokes:r}){const i=this.keystrokeInfos.get(e);if(!i)throw new Gu("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});i.groups.set(t,{id:t,label:n,keystrokes:r||[]})}addKeystrokeInfos({categoryId:e=Yb,groupId:t=Kb,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new Gu("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const r=this.keystrokeInfos.get(e);if(!r.groups.has(t))throw new Gu("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});r.groups.get(t).keystrokes.push(...n)}}class Xb extends(gd()){accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(e={}){if(super(),"sanitizeHtml"in e)throw new Gu("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:n,...r}=t.defaultConfig||{},{translations:i=n,...o}=e,s=e.language||r.language;this._context=e.context||new Wb({language:s,translations:i}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new Pd(o,r),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new $b(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Gb,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Pb,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const l=new np;this.data=new cg(this.model,l),this.editing=new zm(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ug([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Jb(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Qb(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new Gu("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Gu("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Gu("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],i=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,i)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(e=>this.once("ready",e))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(e){Gu.rethrowUnexpectedError(e,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}static Context=Wb;static EditorWatchdog=jb;static ContextWatchdog=Fb}function Zb(e){return class extends e{sourceElement;updateSourceElement(e){if(!this.sourceElement)throw new Gu("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void Yd(this.sourceElement,"");const r="string"==typeof e?e:this.data.get();Yd(this.sourceElement,r)}}}Zb.updateSourceElement=Zb(Object).prototype.updateSourceElement,Symbol.iterator;const ey='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',ty='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',ny='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',ry='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',iy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',oy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',sy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',ay='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',ly='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',cy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',uy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',dy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',hy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',py='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',fy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',my='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',gy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',by='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',yy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>';__webpack_require__(8156),__webpack_require__(734),Math.PI;Symbol("same"),Symbol("color"),Symbol("hsva"),Symbol("update"),Symbol("parts"),Symbol("css"),Symbol("sliders");HTMLElement;class vy extends Ch{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(e,t,n)=>{this._renderViewIntoCollectionParent(t,n)}),this.on("remove",(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...e){if(!e.length||!e.every(e=>"string"==typeof e))throw new Gu("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const r of e)n.delegate(r).to(t);this.on("add",(n,r)=>{for(const n of e)r.delegate(n).to(t)}),this.on("remove",(n,r)=>{for(const n of e)r.stopDelegating(n,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class wy extends(td()){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,Oy(Ty(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Gu("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)Ry(n)?yield n:Ly(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,r)=>new xy({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r}),if:(n,r,i)=>new Ey({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:i})}}static extend(e,t){if(e._isRendered)throw new Gu("template-extend-render",[this,e]);Ny(e,Oy(Ty(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new Gu("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),ky(this.text)?this._bindToObservable({schema:this.text,updater:Sy(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const r in this.attributes){const i=t.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=i);const s=By(o)?o[0].ns:null;if(ky(o)){const a=By(o)?o[0].value:o;n&&zy(r)&&a.unshift(i),this._bindToObservable({schema:a,updater:Py(t,r,s),data:e})}else if("style"==r&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],e);else{n&&i&&zy(r)&&o.unshift(i);const e=o.map(e=>e&&e.value||e).reduce((e,t)=>e.concat(t),[]).reduce(Dy,"");jy(e)||t.setAttributeNS(s,r,e)}}}_renderStyleAttribute(e,t){const n=t.node;for(const r in e){const i=e[r];ky(i)?this._bindToObservable({schema:[i],updater:Cy(n,r),data:t}):n.style[r]=i}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let i=0;for(const o of this.children)if(Fy(o)){if(!r){o.setParent(t);for(const e of o)n.appendChild(e.element)}}else if(Ry(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(Od(o))n.appendChild(o);else if(r){const t=e.revertData,r=Vy();t.children.push(r),o._renderNode({intoFragment:!1,node:n.childNodes[i++],isApplying:!0,revertData:r})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(n=>{const[r,i]=t.split("@");return n.activateDomEventListener(r,i,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const r=n.revertData;Ay(e,t,n);const i=e.filter(e=>!jy(e)).filter(e=>e.observable).map(r=>r.activateAttributeListener(e,t,n));r&&r.bindings.push(i)}_revertTemplateFromNode(e,t){for(const e of t.bindings)for(const t of e)t();if(t.text)return void(e.textContent=t.text);const n=e;for(const e in t.attributes){const r=t.attributes[e];null===r?n.removeAttribute(e):n.setAttribute(e,r)}for(let e=0;e<t.children.length;++e)this._revertTemplateFromNode(n.childNodes[e],t.children[e])}}class _y{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const r=()=>Ay(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class xy extends _y{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const r=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,r),()=>{this.emitter.stopListening(n.node,e,r)}}}class Ey extends _y{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!jy(super.getValue(e))&&(this.valueIfTrue||!0)}}function ky(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(ky):e instanceof _y)}function Ay(e,t,{node:n}){const r=function(e,t){return e.map(e=>e instanceof _y?e.getValue(t):e)}(e,n);let i;i=1==e.length&&e[0]instanceof Ey?r[0]:r.reduce(Dy,""),jy(i)?t.remove():t.set(i)}function Sy(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function Py(e,t,n){return{set(r){e.setAttributeNS(n,t,r)},remove(){e.removeAttributeNS(n,t)}}}function Cy(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function Ty(e){const t=(0,ku.cloneDeepWith)(e,e=>{if(e&&(e instanceof _y||Ly(e)||Ry(e)||Fy(e)))return e});return t}function Oy(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=Sh(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)My(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=Sh(e[t].value)),My(e,t)}(e.attributes);const t=[];if(e.children)if(Fy(e.children))t.push(e.children);else for(const n of e.children)Ly(n)||Ry(n)||Od(n)?t.push(n):t.push(new wy(n));e.children=t}return e}function My(e,t){e[t]=Sh(e[t])}function Dy(e,t){return jy(t)?e:jy(e)?t:`${e} ${t}`}function Iy(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function Ny(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),Iy(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),Iy(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new Gu("ui-template-extend-children-mismatch",e);let n=0;for(const r of t.children)Ny(e.children[n++],r)}}function jy(e){return!e&&0!==e}function Ry(e){return e instanceof Uy}function Ly(e){return e instanceof wy}function Fy(e){return e instanceof vy}function By(e){return(0,ku.isObject)(e[0])&&e[0].ns}function Vy(){return{children:[],bindings:[],attributes:{}}}function zy(e){return"class"==e||"style"==e}class Uy extends(Id(gd())){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ch,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=wy.bind(this,this)}createCollection(e){const t=new vy(e);return this._viewCollections.add(t),t}registerChild(e){Ad(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Ad(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new wy(e)}extendTemplate(e){wy.extend(this.template,e)}render(){if(this.isRendered)throw new Gu("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function qy({emitter:e,activator:t,callback:n,contextElements:r,listenerOptions:i}){e.listenTo(document,"mousedown",(e,i)=>{if(!t())return;const o="function"==typeof i.composedPath?i.composedPath():[],s="function"==typeof r?r():r;for(const e of s)if(e.contains(i.target)||o.includes(e))return;n()},i)}class Hy extends Uy{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:t,value:n}of Array.from(e.attributes))Hy.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}class $y extends Uy{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class Wy extends Uy{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new $y){super(e);const n=this.bindTemplate,r=Hu();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new Hy,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",e=>!e),n.if("isVisible","ck-hidden",e=>!e),n.to("isOn",e=>e?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",e=>e||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("_ariaChecked"),"aria-pressed":n.to("_ariaPressed"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,e=>!e),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(e=>{this.isEnabled?this.fire("execute"):e.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(e,t,n)=>!(!t||Gy(n))&&String(!!e)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(e,t,n)=>!(!t||!Gy(n))&&String(!!e)),Tu.isSafari&&(this._focusDelayed||(this._focusDelayed=Lh(()=>this.focus(),0)),i.on.mousedown=n.to(()=>{this._focusDelayed()}),i.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Uy;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>_h(e))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=_h(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}function Gy(e){switch(e){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class Jy extends Uy{children;iconView;constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new Hy,this.iconView.content=t.icon,this.children.add(this.iconView));const r=new Uy(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(r)}}class Yy extends(td()){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const r of n)e.keystrokeHandler.set(r,(e,n)=>{this[t](),n()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Ky)||null}get last(){return this.focusables.filter(Ky).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,n)=>{const r=t.element===this.focusTracker.focusedElement;return r&&(e=n),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>null===this.current?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",e=>{const n=t();this.focusNext(),n!==t()&&e.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",e=>{const n=t();this.focusPrevious(),n!==t()&&e.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(null===n)return this[1===e?"first":"last"];let r=this.focusables.get(n),i=(n+t+e)%t;do{const n=this.focusables.get(i);if(Ky(n)){r=n;break}i=(i+t+e)%t}while(i!==n);return r}}function Ky(e){return Qy(e)&&eh(e.element)}function Qy(e){return!(!("focus"in e)||"function"!=typeof e.focus)}function Xy(e){return class extends e{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...e){super(...e),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Su.document,"mouseup",this._onDragEndBound),this.listenTo(Su.document,"touchend",this._onDragEndBound),this.listenTo(Su.document,"mousemove",this._onDragBound),this.listenTo(Su.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Su.document,"mouseup",this._onDragEndBound),this.stopListening(Su.document,"touchend",this._onDragEndBound),this.stopListening(Su.document,"mousemove",this._onDragBound),this.stopListening(Su.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,r=0;t instanceof MouseEvent?(n=t.clientX,r=t.clientY):(n=t.touches[0].clientX,r=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:r},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,r=0;t instanceof MouseEvent?(n=t.clientX,r=t.clientY):(n=t.touches[0].clientX,r=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(r-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:r}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}class Zy extends Uy{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Nh,this._focusTracker=new Oh,this._focusables=new vy,this.focusCycler=new Yy({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const e=new Wy(this.locale);let n;for(n in e.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(e),t)"onExecute"!=n&&"onCreate"!=n&&e.set(n,t[n]);this.children.add(e)}this._updateFocusCyclableItems()}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class ev extends Uy{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const tv="screen-center",nv="editor-center",rv=Kd("px");class iv extends(Xy(Uy)){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,{getCurrentDomRoot:t,getViewportOffset:n}){super(e);const r=this.bindTemplate,i=e.t;this.set("className",""),this.set("ariaLabel",i("Editor dialog")),this.set("isModal",!1),this.set("position",tv),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Nh,this.focusTracker=new Oh,this._focusables=new vy,this._focusCycler=new Yy({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",e=>!e),r.if("_isVisible","ck-hidden",e=>!e)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.if("isModal","ck-dialog_modal"),r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",e=>rv(e)),left:r.to("_left",e=>rv(e)),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{this.fire("close",{source:"escKeyPress"}),t()}),this.on("drag",(e,{deltaX:t,deltaY:n})=>{this.wasMoved=!0,this.moveBy(t,n)}),this.listenTo(Su.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Su.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,n)=>{n&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:n=!0,content:r,actionButtons:i}){t&&(this.headerView=new Jy(this.locale,{icon:e}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),r&&(r instanceof Uy&&(r=[r]),this.contentView=new ev(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),i&&(this.actionsView=new Zy(this.locale),this.actionsView.setButtons(i),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const n=this._getViewportRect(),r=this._getDialogRect();e+r.width>n.right&&(e=n.right-r.width),e<n.left&&(e=n.left),t<n.top&&(t=n.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t,n=this.position;this._getCurrentDomRoot()?t=this._getVisibleDomRootRect(e):n=tv;const r=iv.defaultOffset,i=this._getDialogRect();switch(n){case"editor-top-side":if(t){const e="ltr"===this.locale.contentLanguageDirection?t.right-i.width-r:t.left+r;this.moveTo(e,t.top+r)}else this._moveOffScreen();break;case nv:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),Math.round(t.top+t.height/2-i.height/2)):this._moveOffScreen();break;case tv:this.moveTo(Math.round((e.width-i.width)/2),Math.round((e.height-i.height)/2));break;case"editor-top-center":t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.top+r):this._moveOffScreen();break;case"editor-bottom-center":t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.bottom-i.height-r):this._moveOffScreen();break;case"editor-above-center":t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.top-i.height-r):this._moveOffScreen();break;case"editor-below-center":t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.bottom+r):this._moveOffScreen()}}_getVisibleDomRootRect(e){let t=new Ud(this._getCurrentDomRoot()).getVisible();return t?(t=e.getIntersection(t),t||null):null}_getDialogRect(){return new Ud(this.element.firstElementChild)}_getViewportRect(){const e=new Ud(Su.window);if(this.isModal)return e;const t={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)Qy(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Qy(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Yy&&this._focusCycler.chain(e.focusCycler)})}_createCloseButton(){const e=new Wy(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:ty}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}class ov extends zb{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{ov._visibleDialogPlugin&&ov._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const e of t)e.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:r=!0,content:i,actionButtons:o,className:s,isModal:a,position:l,onHide:c}){const u=this.editor;this.view=new iv(u.locale,{getCurrentDomRoot:()=>u.editing.view.getDomRoot(u.model.document.selection.anchor.root.rootName),getViewportOffset:()=>u.ui.viewportOffset});const d=this.view;d.on("close",()=>{this.hide()}),u.ui.view.body.add(d),u.keystrokes.listenTo(d.element),l||(l=a?tv:nv),a&&this._lockBodyScroll(),d.set({position:l,_isVisible:!0,className:s,isModal:a}),d.setupParts({icon:t,title:n,hasCloseButton:r,content:i,actionButtons:o}),this.id=e,c&&(this._onHide=c),this.isOpen=!0,ov._visibleDialogPlugin=this}hide(){ov._visibleDialogPlugin&&ov._visibleDialogPlugin.fire(`hide:${ov._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,ov._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class sv extends Wy{_checkIconHolderView=new av;constructor(e,t=new $y){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",n.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(e,t)=>e||t)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,n)=>{const{children:r,_checkIconHolderView:i}=this;n?r.add(i,0):r.remove(i)})}}class av extends Uy{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",e=>e?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,n)=>{const{children:r,_checkIconView:i}=this;n&&!r.has(i)?r.add(i):!n&&r.has(i)&&r.remove(i)})}_createCheckIconView(){const e=new Hy;return e.content=ny,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class lv extends sv{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class cv extends Uy{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Hu()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class uv extends Uy{constructor(e,t){super(e);const n=e.t,r=new cv;r.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[Sd(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),r]})}focus(){this.element.focus()}_createCategories(e){return e.map(e=>{const t=[Sd(document,"h3",{},e.label),...Array.from(e.groups.values()).map(e=>this._createGroup(e)).flat()];return e.description&&t.splice(1,0,Sd(document,"p",{},e.description)),Sd(document,"section",{},t)})}_createGroup(e){const t=e.keystrokes.sort((e,t)=>e.label.localeCompare(t.label)).map(e=>this._createGroupRow(e)).flat(),n=[Sd(document,"dl",{},t)];return e.label&&n.unshift(Sd(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=Sd(document,"dt"),r=Sd(document,"dd"),i="string"==typeof(s=e.keystroke)?[[s]]:"string"==typeof s[0]?[s]:s,o=[];var s;for(const e of i)o.push(e.map(dv).join(""));return n.innerHTML=e.label,r.innerHTML=o.join(", ")+(e.mayRequireFn&&Tu.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,r]}}function dv(e){return _h(e).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}var hv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class pv extends zb{contentView=null;static get requires(){return[ov]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const e=this._createButton(Wy);return e.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),e}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const e=this._createButton(lv);return e.label=t("Accessibility"),e}),e.keystrokes.set("Alt+0",(e,t)=>{this._toggleDialog(),t()}),this._setupRootLabels()}_createButton(e){const t=this.editor,n=t.plugins.get("Dialog"),r=new e(t.locale);return r.set({keystroke:"Alt+0",icon:hv,isToggleable:!0}),r.on("execute",()=>this._toggleDialog()),r.bind("isOn").to(n,"id",e=>"accessibilityHelp"===e),r}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function r(e,t){const r=[t.getAttribute("aria-label"),n("Press %0 for help.",[_h("Alt+0")])].filter(e=>e).join(". ");e.setAttribute("aria-label",r,t)}e.ui.on("ready",()=>{t.change(e=>{for(const n of t.document.roots)r(e,n)}),e.on("addRoot",(n,i)=>{const o=e.editing.view.document.getRoot(i.rootName);t.change(e=>r(e,o))},{priority:"low"})})}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new uv(e.locale,e.accessibility.keystrokeInfos)),"accessibilityHelp"===t.id?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:hv,hasCloseButton:!0,content:this.contentView})}}class fv extends vy{locale;_bodyCollectionContainer;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new wy({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Sd(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}class mv extends Wy{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Uy;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class gv extends(bv(sv)){}function bv(e){return class extends e{buttonView;_fileInputView;constructor(...e){super(...e),this.buttonView=this,this._fileInputView=new yv(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class yv extends Uy{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var vv='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class wv extends Uy{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);const n=`ck-labeled-field-view-${Hu()}`,r=`ck-labeled-field-view-status-${Hu()}`;this.fieldView=t(this,n,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(e,t)=>e||t);const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",e=>!e),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new cv(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Uy(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",e=>!e)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class _v extends Uy{focusTracker;constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Oh,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...e)=>{this.fire("input",...e),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class xv extends _v{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class Ev extends xv{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class kv extends Uy{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",e=>`ck-dropdown__panel_${e}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():Ju("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}class Av extends Uy{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,n){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Nh,this.focusTracker=new Oh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",e=>!e)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if("auto"===this.panelPosition){const e=Av._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=e?e.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:r,northEast:i,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:l,northMiddleWest:c}=Av.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,r,s,a,e,i,o,l,c,t]:[r,n,a,s,e,o,i,c,l,t]}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"})};static _getOptimalPosition=th}class Sv extends Wy{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",e=>String(e))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Hy;return e.content=vv,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Pv extends Uy{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",e=>!e)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Cv extends Uy{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Tv extends Uy{labelView;items;children;constructor(e,t=new cv){super(e);const n=this.bindTemplate,r=new Ov(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:t.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",e=>!e)]},children:this.children})}focus(){if(this.items){const e=this.items.find(e=>!(e instanceof Cv));e&&e.focus()}}}class Ov extends Uy{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);const t=this.bindTemplate;this.focusables=new vy,this.items=this.createCollection(),this.focusTracker=new Oh,this.keystrokes=new Nh,this._focusCycler=new Yy({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Tv?this._registerFocusableItemsGroup(e):e instanceof Pv&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const e of t.removed)e instanceof Tv?this._deregisterFocusableItemsGroup(e):e instanceof Pv&&this._deregisterFocusableListItem(e);for(const e of Array.from(t.added).reverse())e instanceof Tv?this._registerFocusableItemsGroup(e,t.index):this._registerFocusableListItem(e,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const e of n.removed)this._deregisterFocusableListItem(e);for(const t of Array.from(n.added).reverse())this._registerFocusableListItem(t,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((e,n)=>{const r=void 0!==t?t+n:void 0;this._registerFocusableListItem(e,r)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const Mv=Kd("px"),Dv={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Iv extends Uy{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",e=>`ck-balloon-panel_${e}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Mv),left:t.to("left",Mv)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=Nv(e.target);if(t&&!eh(t))return!1;this.show();const n=Iv.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:Su.document.body,fitInViewport:!0},e),i=Iv._getOptimalPosition(r)||Dv,o=parseInt(i.left),s=parseInt(i.top),a=i.name,l=i.config||{},{withArrow:c=!0}=l;return this.top=s,this.left=o,this.position=a,this.withArrow=c,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=Nv(e.target);const n=e.limiter?Nv(e.limiter):Su.document.body;if(this.listenTo(Su.document,"scroll",(r,i)=>{const o=i.target,s=t&&o.contains(t),a=n&&o.contains(n);!s&&!a&&t&&n||this.attachTo(e)},{useCapture:!0}),this.listenTo(Su.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&Fd(t)&&(t=t.parentElement),t)){const e=()=>{eh(t)||this.unpin()};this._resizeObserver=new Jd(t,e)}return!0}_stopPinning(){this.stopListening(Su.document,"scroll"),this.stopListening(Su.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=Iv.arrowSideOffset,heightOffset:n=Iv.arrowHeightOffset,stickyVerticalOffset:r=Iv.stickyVerticalOffset,config:i}=e;return{northWestArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left-t,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(e,t)=>({top:o(e,t),left:e.left-t.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left-n.width+t,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-t,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(e,t)=>({top:o(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(e,n)=>({top:o(e,n),left:e.right-t,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.right-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(e,t)=>({top:o(e,t),left:e.right-t.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.right-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(e,n)=>({top:o(e,n),left:e.right-n.width+t,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:e=>({top:s(e),left:e.left-t,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(e,t)=>({top:s(e),left:e.left-t.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(e,n)=>({top:s(e),left:e.left-n.width+t,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:e=>({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left+e.width/2-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(e,t)=>({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left+e.width/2-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:e=>({top:s(e),left:e.right-t,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.right-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(e,t)=>({top:s(e),left:e.right-t.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.right-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(e,n)=>({top:s(e),left:e.right-n.width+t,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.left-t.width-n,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.right+n,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(e,t,n,o)=>{const s=o||n;return e.getIntersection(s)?s.height-e.height>r?null:{top:s.top+r,left:e.left+e.width/2-t.width/2,name:"arrowless",config:{withArrow:!1,...i}}:null}};function o(e,t){return e.top-t.height-n}function s(e){return e.bottom+n}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=th;static defaultPositions=Iv.generatePositions()}function Nv(e){return(0,ku.isElement)(e)?e:Bd(e)?e.commonAncestorContainer:"function"==typeof e?Nv(e()):null}class jv extends Uy{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Rv extends Uy{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Lv(e){if(Array.isArray(e))return{items:e,removeItems:[]};const t={items:[],removeItems:[]};return e?{...t,...e}:t}const Fv=(()=>({alignLeft:cy,bold:ey,importExport:oy,paragraph:sy,plus:ay,text:ly,threeVerticalDots:hy,pilcrow:dy,dragIndicator:py}))();class Bv extends Uy{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const n=this.bindTemplate,r=this.t;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Oh,this.keystrokes=new Nh,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Vv(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const i="rtl"===e.uiLanguageDirection;this._focusCycler=new Yy({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to(e=>{e.target===s.element&&e.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Uv(this):new zv(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,t)=>{this.focusTracker.add(t)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const r=Lv(e),i=n||r.removeItems;return this._cleanItemsConfiguration(r.items,t,i).map(e=>(0,ku.isObject)(e)?this._createNestedToolbarDropdown(e,t,i):"|"===e?new jv:"-"===e?new Rv:t.create(e)).filter(e=>!!e)}_cleanItemsConfiguration(e,t,n){const r=e.filter((e,r,i)=>"|"===e||-1===n.indexOf(e)&&("-"===e?!this.options.shouldGroupWhenFull||(Ju("toolbarview-line-break-ignored-when-grouping-items",i),!1):!(!(0,ku.isObject)(e)&&!t.has(e)&&(Ju("toolbarview-item-unavailable",{item:e}),1))));return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const t=e=>"-"!==e&&"|"!==e,n=e.length,r=e.findIndex(t);if(-1===r)return[];const i=n-e.slice().reverse().findIndex(t);return e.slice(r,i).filter((e,n,r)=>!!t(e)||!(n>0&&r[n-1]===e))}_createNestedToolbarDropdown(e,t,n){let{label:r,icon:i,items:o,tooltip:s=!0,withText:a=!1}=e;if(o=this._cleanItemsConfiguration(o,t,n),!o.length)return null;const l=Hv(this.locale);return r||Ju("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:r,tooltip:s,withText:!!a}),!1!==i?l.buttonView.icon=Fv[i]||i||hy:l.buttonView.withText=!0,$v(l,()=>l.toolbarView._buildItemsFromConfig(o,t,n)),l}}class Vv extends Uy{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class zv{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(e=>e),e.focusables.bindTo(e.items).using(e=>Qy(e)?e:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Uv{view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(e,t)=>{const n=t.index,r=Array.from(t.added);for(const e of t.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(e):this.ungroupedItems.remove(e);for(let e=n;e<n+r.length;e++){const t=r[e-n];e>this.ungroupedItems.length?this.groupedItems.add(t,e-this.ungroupedItems.length):this.ungroupedItems.add(t,e)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!eh(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Ud(e.lastChild),r=new Ud(e);if(!this.cachedPadding){const n=Su.window.getComputedStyle(e),r="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[r])}return"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Jd(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new jv),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Hv(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",$v(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:hy}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Qy(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class qv extends Uy{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Nh,this.focusTracker=new Oh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",e=>!e),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new Wy;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new Wy,t=e.bindTemplate;return e.icon=vv,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",e=>String(e))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function Hv(e,t=Sv){const n="function"==typeof t?new t(e):t,r=new kv(e),i=new Av(e,n,r);return n.bind("isEnabled").to(i),n instanceof qv?n.arrowView.bind("isOn").to(i,"isOpen"):n.bind("isOn").to(i,"isOpen"),function(e){(function(e){qy({emitter:e,activator:()=>e.isRendered&&e.isOpen,callback:()=>{e.isOpen=!1},contextElements:()=>[e.element,...Gv(e.focusTracker).filter(t=>!e.element.contains(t))]})})(e),function(e){e.on("execute",t=>{t.source instanceof mv||(e.isOpen=!1)})}(e),function(e){e.focusTracker.on("change:isFocused",(t,n,r)=>{!r&&e.isOpen&&(e.isOpen=!1)})}(e),function(e){e.keystrokes.set("arrowdown",(t,n)=>{e.isOpen&&(e.panelView.focus(),n())}),e.keystrokes.set("arrowup",(t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())})}(e),function(e){e.on("change:isOpen",(t,n,r)=>{r||e.focusTracker.elements.some(e=>e.contains(Su.document.activeElement))&&e.buttonView.focus()})}(e),function(e){e.on("change:isOpen",(t,n,r)=>{r&&e.panelView.focus()},{priority:"low"})}(e)}(i),i}function $v(e,t,n={}){e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.isOpen?Wv(e,t,n):e.once("change:isOpen",()=>Wv(e,t,n),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&function(e,t){e.on("change:isOpen",()=>{if(!e.isOpen)return;const n=t();n&&("function"==typeof n.focus?n.focus():Ju("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:$u.low-10})}(e,()=>e.toolbarView.items.find(e=>e.isOn))}function Wv(e,t,n){const r=e.locale,i=r.t,o=e.toolbarView=new Bv(r),s="function"==typeof t?t():t;o.ariaLabel=n.ariaLabel||i("Dropdown toolbar"),n.maxWidth&&(o.maxWidth=n.maxWidth),n.class&&(o.class=n.class),n.isCompact&&(o.isCompact=n.isCompact),n.isVertical&&(o.isVertical=!0),s instanceof vy?o.items.bindTo(s).using(e=>e):o.items.addMany(s),e.panelView.children.add(o),e.focusTracker.add(o),o.items.delegate("execute").to(e)}function Gv(e){return[...e.elements,...e.externalViews.flatMap(e=>Gv(e.focusTracker))]}const Jv=(e,t,n)=>{const r=new Ev(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",e=>!e),r.bind("hasError").to(e,"errorText",e=>!!e),r.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused","placeholder").to(r),r};class Yv{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Kv(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new Gu("componentfactory-item-missing",this,{name:e});return this._components.get(Kv(e)).callback(this.editor.locale)}has(e){return this._components.has(Kv(e))}}function Kv(e){return String(e).toLowerCase()}const Qv="ck-tooltip";class Xv extends(Id()){tooltipTextView;balloonPanelView;static defaultBalloonPositions=Iv.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),Xv._editors.add(e),Xv._instance)return Xv._instance;Xv._instance=this,this.tooltipTextView=new Uy(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Iv(e.locale),this.balloonPanelView.class=Qv,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=(0,ku.debounce)(this._pinTooltip,600),this._unpinTooltipDebounced=(0,ku.debounce)(this._unpinTooltip,400),this.listenTo(Su.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Su.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Su.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Su.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Su.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Su.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Xv._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Xv._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Xv._instance=null)}static getPositioningFunctions(e){const t=Xv.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){"Escape"===t.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const n=Zv(t);n?n!==this._currentElementWithTooltip&&(this._unpinTooltip(),"focus"!==e.name||n.matches(":hover")?this._pinTooltipDebounced(n,ew(n)):this._pinTooltip(n,ew(n))):"focus"===e.name&&this._unpinTooltip()}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if("mouseleave"===e.name){if(!(0,ku.isElement)(t))return;const e=this.balloonPanelView.element,r=e&&(e===n||e.contains(n)),i=!r&&t===e;if(r)return void this._unpinTooltipDebounced.cancel();if(!i&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const o=Zv(t),s=Zv(n);(i||o&&o!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:r}){this._unpinTooltip();const i=Th(Xv._editors.values()).ui.view.body;i.has(this.balloonPanelView)||i.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[Qv,r].filter(e=>e).join(" "),this.balloonPanelView.pin({target:e,positions:Xv.getPositioningFunctions(n)}),this._mutationObserver.attach(e);for(const e of Xv._editors)this.listenTo(e.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Xv._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=ew(this._currentElementWithTooltip);eh(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Xv.getPositioningFunctions(e.position)}):this._unpinTooltip()}}function Zv(e){return(0,ku.isElement)(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function ew(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}class tw extends(Id()){editor;_balloonView;_showBalloonThrottled;_lastFocusedEditableElement;constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,ku.throttle)(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(e){function t(e){return e.length>=40&&e.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch(e){return"INVALID"}const r=n.split("-"),i=r[0],o=r[1];if(!o)return t(e);try{atob(o)}catch(n){try{if(atob(i),!atob(i).length)return t(e)}catch(n){return t(e)}}if(i.length<40||i.length>255)return"INVALID";let s="";try{atob(i),s=atob(o)}catch(e){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),u=new Date(a,l,c);return u<Ku||isNaN(Number(u))?"INVALID":"VALID"}(e.config.get("licenseKey")))&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(e,t,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(e,t,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Iv,n=iw(e),r=new nw(e.locale,n.label);t.content.add(r),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(e,t){const n=iw(e),r="right"===n.side?function(e,t){return rw(e,t,(e,n)=>e.left+e.width-n.width-t.horizontalOffset)}(t,n):function(e,t){return rw(e,t,e=>e.left+t.horizontalOffset)}(t,n);return{target:t,positions:[r]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const r=Array.from(e.ui.getEditableElementsNames()).map(t=>e.ui.getEditableElement(t));r.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=r[0]}}class nw extends Uy{constructor(e,t){super(e);const n=new Hy,r=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:r.to(e=>e.preventDefault())}}]})}}function rw(e,t,n){return(r,i)=>{const o=new Ud(e);if(o.width<350||o.height<50)return null;let s;s="inside"===t.position?o.bottom-i.height:o.bottom-i.height/2,s-=t.verticalOffset;const a=n(o,i),l=r.clone().moveTo(a,s).getIntersection(i.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<i.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function iw(e){const t=e.config.get("ui.poweredBy"),n=t&&t.position||"border";return{position:n,label:"Powered by",verticalOffset:"inside"===n?5:0,horizontalOffset:5,side:"ltr"===e.locale.contentLanguageDirection?"right":"left",...t}}const ow={POLITE:"polite",ASSERTIVE:"assertive"};class sw{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(const e of Object.values(ow))this.announce("",e)})}announce(e,t=ow.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new aw(n.locale),n.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:i}="string"==typeof t?{politeness:t}:t;let o=this.view.regionViews.find(e=>e.politeness===r);o||(o=new lw(n,r),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:i})}}class aw extends Uy{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class lw extends Uy{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}class cw extends Pv{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const uw={toggleMenusAndFocusItemsOnHover(e){e.on("menu:mouseenter",t=>{if(e.isFocusBorderEnabled||e.isOpen){if(e.isOpen)for(const n of e.menus){const e=t.path[0],r=e instanceof cw&&e.children.first===n;n.isOpen=(t.path.includes(n)||r)&&n.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(e){const t="rtl"===e.locale.uiLanguageDirection;function n(t,n){const r=e.children.getIndex(t),i=t.isOpen,o=e.children.length,s=e.children.get((r+o+n)%o);t.isOpen=!1,i&&(s.isOpen=!0),s.buttonView.focus()}e.on("menu:arrowright",e=>{n(e.source,t?-1:1)}),e.on("menu:arrowleft",e=>{n(e.source,t?1:-1)})},closeMenusWhenTheBarCloses(e){e.on("change:isOpen",()=>{e.isOpen||e.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(e){e.on("menu:change:isOpen",(t,n,r)=>{r&&e.menus.filter(e=>t.source.parentMenuView===e.parentMenuView&&t.source!==e&&e.isOpen).forEach(e=>{e.isOpen=!1})})},closeOnClickOutside(e){qy({emitter:e,activator:()=>e.isOpen,callback:()=>e.close(),contextElements:()=>e.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(e){let t=!1;e.on("change:isOpen",(n,r,i)=>{i||(t||(e.isFocusBorderEnabled=!1),t=!1)}),e.listenTo(e.element,"keydown",()=>{t=!0},{useCapture:!0}),e.listenTo(e.element,"keyup",()=>{t=!1},{useCapture:!0}),e.listenTo(e.element,"focus",()=>{t&&(e.isFocusBorderEnabled=!0)},{useCapture:!0})}},dw={openAndFocusPanelOnArrowDownKey(e){e.keystrokes.set("arrowdown",(t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())})},openOnArrowRightKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowleft":"arrowright";e.keystrokes.set(t,(t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&e.isEnabled&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())})},openOnButtonClick(e){e.buttonView.on("execute",()=>{e.isOpen=!0})},toggleOnButtonClick(e){e.buttonView.on("execute",()=>{e.isOpen=!e.isOpen})},openAndFocusOnEnterKeyPress(e){e.keystrokes.set("enter",(t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen=!0,e.panelView.focus(),n())})},closeOnArrowLeftKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowright":"arrowleft";e.keystrokes.set(t,(t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())})},closeOnEscKey(e){e.keystrokes.set("esc",(t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())})},closeOnParentClose(e){e.parentMenuView.on("change:isOpen",(t,n,r)=>{r||t.source!==e.parentMenuView||(e.isOpen=!1)})}},hw={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),eastSouth:e=>({top:e.top,left:e.right-5,name:"es"}),eastNorth:(e,t)=>({top:e.top-t.height,left:e.right-5,name:"en"}),westSouth:(e,t)=>({top:e.top,left:e.left-t.width+5,name:"ws"}),westNorth:(e,t)=>({top:e.top-t.height,left:e.left-t.width+5,name:"wn"})},pw=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function fw({normalizedConfig:e,locale:t,componentFactory:n,extraItems:r}){const i=(0,ku.cloneDeep)(e);return mw(e,i,r),function(e,t){const n=t.removeItems,r=[];t.items=t.items.filter(({menuId:e})=>!n.includes(e)||(r.push(e),!1)),vw(t.items,e=>{e.groups=e.groups.filter(({groupId:e})=>!n.includes(e)||(r.push(e),!1));for(const t of e.groups)t.items=t.items.filter(e=>{const t=kw(e);return!n.includes(t)||(r.push(t),!1)})});for(const t of n)r.includes(t)||Ju("menu-bar-item-could-not-be-removed",{menuBarConfig:e,itemName:t})}(e,i),mw(e,i,i.addItems),function(e,t,n){vw(t.items,r=>{for(const i of r.groups)i.items=i.items.filter(i=>{const o="string"==typeof i&&!n.has(i);return o&&!t.isUsingDefaultConfig&&Ju("menu-bar-item-unavailable",{menuBarConfig:e,parentMenuConfig:(0,ku.cloneDeep)(r),componentName:i}),!o})})}(e,i,n),bw(e,i),function(e,t){const n=t.t,r={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};vw(e.items,e=>{e.label in r&&(e.label=r[e.label])})}(i,t),i}function mw(e,t,n){const r=[];if(0!=n.length){for(const e of n){const n=xw(e.position),i=Ew(e.position);if(ww(e))if(i){const o=t.items.findIndex(e=>e.menuId===i);-1!=o?"before"===n?(t.items.splice(o,0,e.menu),r.push(e)):"after"===n&&(t.items.splice(o+1,0,e.menu),r.push(e)):gw(t,e.menu,i,n)&&r.push(e)}else"start"===n?(t.items.unshift(e.menu),r.push(e)):"end"===n&&(t.items.push(e.menu),r.push(e));else _w(e)?vw(t.items,t=>{if(t.menuId===i)"start"===n?(t.groups.unshift(e.group),r.push(e)):"end"===n&&(t.groups.push(e.group),r.push(e));else{const o=t.groups.findIndex(e=>e.groupId===i);-1!==o&&("before"===n?(t.groups.splice(o,0,e.group),r.push(e)):"after"===n&&(t.groups.splice(o+1,0,e.group),r.push(e)))}}):gw(t,e.item,i,n)&&r.push(e)}for(const t of n)r.includes(t)||Ju("menu-bar-item-could-not-be-added",{menuBarConfig:e,addedItemConfig:t})}}function gw(e,t,n,r){let i=!1;return vw(e.items,e=>{for(const{groupId:o,items:s}of e.groups){if(i)return;if(o===n)"start"===r?(s.unshift(t),i=!0):"end"===r&&(s.push(t),i=!0);else{const e=s.findIndex(e=>kw(e)===n);-1!==e&&("before"===r?(s.splice(e,0,t),i=!0):"after"===r&&(s.splice(e+1,0,t),i=!0))}}}),i}function bw(e,t){const n=t.isUsingDefaultConfig;let r=!1;t.items=t.items.filter(t=>!!t.groups.length||(yw(e,t,n),!1)),t.items.length?(vw(t.items,t=>{t.groups=t.groups.filter(e=>!!e.items.length||(r=!0,!1));for(const i of t.groups)i.items=i.items.filter(t=>!(Aw(t)&&!t.groups.length&&(yw(e,t,n),r=!0,1)))}),r&&bw(e,t)):yw(e,e,n)}function yw(e,t,n){n||Ju("menu-bar-menu-empty",{menuBarConfig:e,emptyMenuConfig:t})}function vw(e,t){if(Array.isArray(e))for(const t of e)n(t);function n(e){t(e);for(const t of e.groups)for(const e of t.items)Aw(e)&&n(e)}}function ww(e){return"object"==typeof e&&"menu"in e}function _w(e){return"object"==typeof e&&"group"in e}function xw(e){return e.startsWith("start")?"start":e.startsWith("end")?"end":e.startsWith("after")?"after":"before"}function Ew(e){const t=e.match(/^[^:]+:(.+)/);return t?t[1]:null}function kw(e){return"string"==typeof e?e:e.menuId}function Aw(e){return"object"==typeof e&&"menuId"in e}class Sw extends(gd()){editor;componentFactory;focusTracker;tooltipManager;poweredBy;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new Yv(e),this.focusTracker=new Oh,this.tooltipManager=new Xv(e),this.poweredBy=new tw(e),this.ariaLiveAnnouncer=new sw(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const n=function(e){let t;return t="items"in e&&e.items?{items:e.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...e}:{items:(0,ku.cloneDeep)(pw),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...e},t}(this.editor.config.get("menuBar")||{});e.fillFromConfig(n,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(e,n)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),n())}),this.editor.keystrokes.set("Alt+F9",(n,r)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),r())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(e,n)=>{this._saveLastFocusedForeignElement();const r=this._getCurrentFocusedToolbarDefinition();r&&t||(t=this._getFocusableCandidateToolbarDefinitions());for(let e=0;e<t.length;e++){const e=t.shift();if(t.push(e),e!==r&&this._focusFocusableCandidateToolbar(e)){r&&r.options.afterBlur&&r.options.afterBlur();break}}n()}),e.keystrokes.set("Esc",(t,n)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),n())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:r}=t;(eh(n.element)||r.beforeFocus)&&e.push(t)}return e.sort((e,t)=>Pw(e)-Pw(t)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!eh(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(e,t)=>{this.focusTracker.add(t.element)}),e.on("remove",(e,t)=>{this.focusTracker.remove(t.element)})}}function Pw(e){const{toolbarView:t,options:n}=e;let r=10;return eh(t.element)&&r--,n.isContextual&&r--,r}class Cw extends Uy{body;menuBarView;constructor(e){super(e),this.body=new fv(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Tw extends Cw{top;main;_voiceLabelView;constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new cv;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class Ow extends Uy{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change(n=>{const r=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",r)})}e.isRenderingInProgress?function n(r){e.once("change:isRenderingInProgress",(e,i,o)=>{o?n(r):t(r)})}(this):t(this)}}class Mw extends Ow{_options;constructor(e,t,n,r={}){super(e,t,n),this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),n)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,n=this._editableElement,r=this.name;if("string"==typeof t)return t;if("object"==typeof t)return t[r];if("function"==typeof t)return t(this);if(n){const e=n.getAttribute("aria-label");if(e)return e}return e("Rich Text Editor. Editing area: %0",r)}}const Dw=Kd("px");class Iw extends zb{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new Gu("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new Gu("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new Gu("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Iv(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Nw(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,n])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new jw(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>=2?Math.min(e-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}}class Nw extends Uy{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Oh,this.buttonPrevView=this._createButtonView(t("Previous"),ry),this.buttonNextView=this._createButtonView(t("Next"),iy),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",e=>e?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new Wy(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class jw extends Uy{content;_balloonPanelView;constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",e=>e?"":"ck-hidden")],style:{top:n.to("top",Dw),left:n.to("left",Dw),width:n.to("width",Dw),height:n.to("height",Dw)}},children:this.content}),this.on("change:numberOfPanels",(e,t,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()})}_addPanels(e){for(;e--;){const e=new Uy;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:r}=new Ud(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:r})}}}const Rw=Kd("px");class Lw extends Uy{content;contentPanelElement;_contentPanelPlaceholder;constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new wy({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",e=>e?"block":"none"),height:t.to("isSticky",e=>e?Rw(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new wy({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",e=>e?Rw(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",e=>e?Rw(e):e),bottom:t.to("_stickyBottomOffset",e=>e?Rw(e):e),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Su.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ud(this.limiterElement);let t=e.getVisible();if(t){const e=new Ud(Su.window);e.top+=this.viewportTopOffset,e.height-=this.viewportTopOffset,t=t.getIntersection(e)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const n=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-n>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(n):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Rw(-Su.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Rw(-Su.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ud(this.contentPanelElement)}}class Fw extends sv{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",e=>String(e)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Hy;return e.content=vv,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class Bw extends Uy{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",e=>`ck-menu-bar__menu__panel_position_${e}`),t.if("isVisible","ck-hidden",e=>!e)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()})}})}focus(e=1){this.children.length&&(1===e?this.children.first.focus():this.children.last.focus())}}class Vw extends Uy{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new Fw(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new Bw(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Nh,this.focusTracker=new Oh,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",e=>!e),t.if("parentMenuView","ck-menu-bar__menu_top-level",e=>!e)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),dw.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(dw.openOnButtonClick(this),dw.openOnArrowRightKey(this),dw.closeOnArrowLeftKey(this),dw.openAndFocusOnEnterKeyPress(this),dw.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),dw.openAndFocusPanelOnArrowDownKey(this),dw.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,n)=>{if(!n)return;const r=Vw._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:r,westSouth:i,eastSouth:o,westNorth:s,eastNorth:a}=hw;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[o,a,i,s]:[e,t,n,r]:this.parentMenuView?[i,s,o,a]:[t,e,r,n]}static _getOptimalPosition=th}class zw extends Ov{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(e=>{const t=Uw(e);return t&&t.isToggleable});this.items.forEach(t=>{const n=Uw(t);n&&(n.hasCheckSpace=e)})}}function Uw(e){return e instanceof Pv?e.children.map(e=>function(e){return"object"==typeof e&&"buttonView"in e&&e.buttonView instanceof Wy}(e)?e.buttonView:e).find(e=>e instanceof sv):null}class qw extends gv{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const Hw=["mouseenter","arrowleft","arrowright","change:isOpen"];class $w extends Uy{children;menus=[];constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",n.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,n=[]){const r=fw({normalizedConfig:e,locale:this.locale,componentFactory:t,extraItems:n}).items.map(e=>this._createMenu({componentFactory:t,menuDefinition:e}));this.children.addMany(r)}render(){super.render(),uw.toggleMenusAndFocusItemsOnHover(this),uw.closeMenusWhenTheBarCloses(this),uw.closeMenuWhenAnotherOnTheSameLevelOpens(this),uw.focusCycleMenusOnArrows(this),uw.closeOnClickOutside(this),uw.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...Hw).to(t),e.parentMenuView=t):e.delegate(...Hw).to(this,e=>"menu:"+e),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const r=this.locale,i=new Vw(r);return this.registerMenu(i,n),i.buttonView.set({label:t.label}),i.once("change:isOpen",()=>{const n=new zw(r);n.ariaLabel=t.label,i.panelView.children.add(n),n.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:i,componentFactory:e}))}),i}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const r=this.locale,i=[];for(const o of e.groups){for(const e of o.items){const o=new cw(r,t);if((0,ku.isObject)(e))o.children.add(this._createMenu({componentFactory:n,menuDefinition:e,parentMenuView:t}));else{const r=this._createMenuItemContentFromFactory({componentName:e,componentFactory:n,parentMenuView:t});if(!r)continue;o.children.add(r)}i.push(o)}o!==e.groups[e.groups.length-1]&&i.push(new Cv(r))}return i}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const r=n.create(e);return r instanceof Vw||r instanceof lv||r instanceof qw?(this._registerMenuTree(r,t),r.on("execute",()=>{this.close()}),r):(Ju("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,t){if(!(e instanceof Vw))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(e=>e instanceof zw)[0];if(!n)return void e.delegate("mouseenter").to(t);const r=n.items.filter(e=>e instanceof Pv);for(const t of r)this._registerMenuTree(t.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(e=>e.isOpen)},0)})}}class Ww{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(e,t)=>{t.isLocal&&t.isUndoable&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Gw extends qb{_buffer;constructor(e,t){super(e),this._buffer=new Ww(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,r=e.text||"",i=r.length;let o=n.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const s=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());t.deleteContent(o),r&&t.insertContent(e.createText(r,a),o),s?e.setSelection(s):o.is("documentSelection")||e.setSelection(o),this._buffer.unlock(),this._buffer.input(i)})}}const Jw=["insertText","insertReplacementText"],Yw=[...Jw,"insertCompositionText"];class Kw extends bf{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(kf);const t=Tu.isAndroid?Yw:Jw,n=e.document;n.on("beforeinput",(r,i)=>{if(!this.isEnabled)return;const{data:o,targetRanges:s,inputType:a,domEvent:l}=i;if(!t.includes(a))return;this.focusObserver.flush();const c=new Uu(n,"insertText");n.fire(c,new yf(e,l,{text:o,selection:e.createSelection(s)})),c.stop.called&&r.stop()}),Tu.isAndroid||n.on("compositionend",(t,{data:r,domEvent:i})=>{this.isEnabled&&r&&n.fire("insertText",new yf(e,i,{text:r}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Qw extends zb{_compositionQueue;static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,n=e.editing.view,r=e.editing.mapper,i=t.document.selection;this._compositionQueue=new Xw(e),n.addObserver(Kw);const o=new Gw(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(n.document,"insertText",(o,s)=>{n.document.isComposing||s.preventDefault(),Tu.isAndroid&&n.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:a,selection:l}=s;let c;c=l?Array.from(l.getRanges()).map(e=>r.toModelRange(e)):Array.from(i.getRanges());let u=a;if(Tu.isAndroid){const e=Array.from(c[0].getItems()).reduce((e,t)=>e+(t.is("$textProxy")?t.data:""),"");if(e&&(e.length<=u.length?u.startsWith(e)&&(u=u.substring(e.length),c[0].start=c[0].start.getShiftedBy(e.length)):e.startsWith(u)&&(c[0].start=c[0].start.getShiftedBy(u.length),u="")),0==u.length&&c[0].isCollapsed)return}const d={text:u,selection:t.createSelection(c)};Tu.isAndroid&&n.document.isComposing?this._compositionQueue.push(d):(e.execute("insertText",d),n.scrollToTheSelection())}),Tu.isAndroid?this.listenTo(n.document,"keydown",(e,r)=>{!i.isCollapsed&&229==r.keyCode&&n.document.isComposing&&Zw(t,o)}):this.listenTo(n.document,"compositionstart",()=>{i.isCollapsed||Zw(t,o)}),Tu.isAndroid?(this.listenTo(n.document,"mutations",(e,{mutations:t})=>{if(n.document.isComposing)for(const{node:e}of t){const t=e_(e,r),n=r.toModelElement(t);if(this._compositionQueue.isComposedElement(n))return void this._compositionQueue.flush("mutations")}}),this.listenTo(n.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(n.document,"compositionend",()=>{const e=[];for(const t of this._compositionQueue.flushComposedElements()){const n=r.toViewElement(t);n&&e.push({type:"children",node:n})}e.length&&n.document.fire("mutations",{mutations:e})},{priority:"lowest"})):this.listenTo(n.document,"compositionend",()=>{n.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class Xw{editor;flushDebounced=(0,ku.debounce)(()=>this.flush("timeout"),50);_queue=[];_compositionElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){const t={text:e.text};if(e.selection){t.selectionRanges=[];for(const n of e.selection.getRanges())t.selectionRanges.push(am.fromRange(n)),this._compositionElements.add(n.start.parent)}this._queue.push(t),this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const n=e.selectionRanges.map(e=>function(e){const t=e.toRange();return e.detach(),"$graveyard"==t.root.rootName?null:t}(e)).filter(e=>!!e);n.length&&(t.selection=this.editor.model.createSelection(n))}return t}flush(e){const t=this.editor,n=t.model,r=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const i=t.commands.get("insertText").buffer;n.enqueueChange(i.batch,()=>{for(i.lock();this._queue.length;){const e=this.shift();t.execute("insertText",e)}i.unlock()}),r.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){const e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}}function Zw(e,t){if(!t.isEnabled)return;const n=t.buffer;n.lock(),e.enqueueChange(n.batch,()=>{e.deleteContent(e.document.selection)}),n.unlock()}function e_(e,t){let n=e.is("$text")?e.parent:e;for(;!t.toModelElement(n);)n=n.parent;return n}class t_ extends qb{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new Ww(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const i=r.createSelection(e.selection||n.selection);if(!t.canEditAt(i))return;const o=e.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&t.modifySelection(i,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(r);if(this._shouldReplaceFirstBlockWithParagraph(i,o))return void this.editor.execute("paragraph",{selection:i});if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach(e=>{a+=Ed(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(i,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),r.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!t.schema.checkChild(r,"paragraph"))return!1;const i=r.getChild(0);return!i||!i.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n),i=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(i,r),e.setSelection(i,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;const r=e.getFirstPosition(),i=n.schema.getLimitElement(r),o=i.getChild(0);return r.parent==o&&!!e.containsEntireContent(o)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=o.name}}const n_="word",r_="selection",i_="backward",o_="forward",s_={deleteContent:{unit:r_,direction:i_},deleteContentBackward:{unit:"codePoint",direction:i_},deleteWordBackward:{unit:n_,direction:i_},deleteHardLineBackward:{unit:r_,direction:i_},deleteSoftLineBackward:{unit:r_,direction:i_},deleteContentForward:{unit:"character",direction:o_},deleteWordForward:{unit:n_,direction:o_},deleteHardLineForward:{unit:r_,direction:o_},deleteSoftLineForward:{unit:r_,direction:o_}};class a_ extends bf{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(r,i)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:s,inputType:a}=i,l=s_[a];if(!l)return;const c={direction:l.direction,unit:l.unit,sequence:n};c.unit==r_&&(c.selectionToRemove=e.createSelection(o[0])),"deleteContentBackward"===a&&(Tu.isAndroid&&(c.sequence=1),function(e){if(1!=e.length||e[0].isCollapsed)return!1;const t=e[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:e,item:r}of t){if(e.parent.is("$text")){const t=e.parent.data,r=e.offset;if(Fh(t,r)||Bh(t,r)||zh(t,r))continue;n++}else(r.is("containerElement")||r.is("emptyElement"))&&n++;if(n>1)return!0}return!1}(o)&&(c.unit=r_,c.selectionToRemove=e.createSelection(o)));const u=new yp(t,"delete",o[0]);t.fire(u,new yf(e,s,c)),u.stop.called&&r.stop()}),Tu.isBlink&&function(e){const t=e.view,n=t.document;let r=null,i=!1;function o(e){return e==bh.backspace||e==bh.delete}function s(e){return e==bh.backspace?i_:o_}n.on("keydown",(e,{keyCode:t})=>{r=t,i=!1}),n.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=n.selection,d=e.isEnabled&&l==r&&o(l)&&!u.isCollapsed&&!i;if(r=null,d){const e=u.getFirstRange(),r=new yp(n,"delete",e),i={unit:r_,direction:s(l),selectionToRemove:u};n.fire(r,new yf(t,c,i))}}),n.on("beforeinput",(e,{inputType:t})=>{const n=s_[t];o(r)&&n&&n.direction==s(r)&&(i=!0)},{priority:"high"}),n.on("beforeinput",(e,{inputType:t,data:n})=>{r==bh.delete&&"insertText"==t&&""==n&&e.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class l_ extends zb{_undoOnBackspace;static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,n=t.document,r=e.model.document;t.addObserver(a_),this._undoOnBackspace=!1;const i=new t_(e,"forward");e.commands.add("deleteForward",i),e.commands.add("forwardDelete",i),e.commands.add("delete",new t_(e,"backward")),this.listenTo(n,"delete",(r,i)=>{n.isComposing||i.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:l}=i,c="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==l){const t=Array.from(a.getRanges()).map(t=>e.editing.mapper.toModelRange(t));u.selection=e.model.createSelection(t)}else u.unit=l;e.execute(c,u),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(t,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,e.execute("undo"),n.preventDefault(),t.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class c_ extends zb{static get requires(){return[Qw,l_]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function u_(e,t){let n=e.start;return{text:Array.from(e.getWalker({ignoreElementEnd:!1})).reduce((e,{item:r})=>r.is("$text")||r.is("$textProxy")?e+r.data:(n=t.createPositionAfter(r),""),""),range:t.createRange(n,e.end)}}class d_ extends(gd()){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(e,t)=>{!t.isUndo&&t.isLocal&&this._evaluateTextBeforeSelection("data",{batch:t})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:o,range:s}=u_(i,n),a=this.testCallback(o);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(t,{text:o,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${e}`,n)}}}class h_ extends zb{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,r=e.locale,i=t.document.selection;this.listenTo(n.document,"arrowKey",(e,t)=>{if(!i.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==bh.arrowright,o=t.keyCode==bh.arrowleft;if(!n&&!o)return;const s=r.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&o?this._handleForwardMovement(t):this._handleBackwardMovement(t),!0===a&&e.stop()},{context:"$text",priority:"highest"}),this.listenTo(i,"change:range",(e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&y_(i.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return!(this._isGravityOverridden||i.isAtStart&&p_(r,t)||!y_(i,t)||(g_(e),p_(r,t)&&y_(i,t,!0)?m_(n,t):this._overrideGravity(),0))}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(g_(e),this._restoreGravity(),y_(i,t,!0)?m_(n,t):f_(n,t,i),!0):i.isAtStart?!!p_(r,t)&&(g_(e),f_(n,t,i),!0):!p_(r,t)&&y_(i,t,!0)?(g_(e),f_(n,t,i),!0):!!b_(i,t)&&(i.isAtEnd&&!p_(r,t)&&y_(i,t)?(g_(e),f_(n,t,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,r=e.editing.view.document;e.editing.view.addObserver(Ob);let i=!1;this.listenTo(r,"mousedown",()=>{i=!0}),this.listenTo(r,"selectionChange",()=>{const e=this.attributes;if(!i)return;if(i=!1,!n.isCollapsed)return;if(!p_(n,e))return;const r=n.getFirstPosition();y_(r,e)&&(r.isAtStart||y_(r,e,!0)?m_(t,e):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const r=t.getFirstPosition();p_(t,n)&&y_(r,n)&&m_(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,r=e.editing.view;let i=!1,o=!1;this.listenTo(r.document,"delete",(e,t)=>{i="backward"===t.direction},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!i)return;const e=n.getFirstPosition();o=p_(n,this.attributes)&&!b_(e,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{i&&(i=!1,o||e.model.enqueueChange(()=>{const e=n.getFirstPosition();p_(n,this.attributes)&&y_(e,this.attributes)&&(e.isAtStart||y_(e,this.attributes,!0)?m_(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function p_(e,t){for(const n of t)if(e.hasAttribute(n))return!0;return!1}function f_(e,t,n){const r=n.nodeBefore;e.change(n=>{if(r){const t=[],i=e.schema.isObject(r)&&e.schema.isInline(r);for(const[n,o]of r.getAttributes())!e.schema.checkAttribute("$text",n)||i&&!1===e.schema.getAttributeProperties(n).copyFromObject||t.push([n,o]);n.setSelectionAttribute(t)}else n.removeSelectionAttribute(t)})}function m_(e,t){e.change(e=>{e.removeSelectionAttribute(t)})}function g_(e){e.preventDefault()}function b_(e,t){return y_(e.getShiftedBy(-1),t)}function y_(e,t,n=!1){const{nodeBefore:r,nodeAfter:i}=e;for(const e of t){const t=r?r.getAttribute(e):void 0,o=i?i.getAttribute(e):void 0;if((!n||void 0!==t&&void 0!==o)&&o!==t)return!0}return!1}function v_(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function w_(e,t,n,r){return r.createRange(x_(e,t,n,!0,r),x_(e,t,n,!1,r))}function x_(e,t,n,r,i){let o=e.textNode||(r?e.nodeBefore:e.nodeAfter),s=null;for(;o&&o.getAttribute(t)==n;)s=o,o=r?o.previousSibling:o.nextSibling;return s?i.createPositionAt(s,r?"before":"after"):e}v_('"'),v_("'"),v_("'"),v_('"'),v_('"'),v_("'");class E_ extends qb{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,r=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{if(n.isCollapsed)r?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i)r?e.setAttribute(this.attributeKey,r,t):e.removeAttribute(this.attributeKey,t)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const k_="bold";class A_ extends zb{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:k_}),e.model.schema.setAttributeProperties(k_,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:k_,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t&&("bold"==t||Number(t)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(k_,new E_(e,k_)),e.keystrokes.set("CTRL+B",k_),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function S_({editor:e,commandName:t,plugin:n,icon:r,label:i,keystroke:o}){return s=>{const a=e.commands.get(t),l=new s(e.locale);return l.set({label:i,icon:r,keystroke:o,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof lv?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),n.listenTo(l,"execute",()=>{e.execute(t),e.editing.view.focus()}),l}}const P_="bold";class C_ extends zb{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,n=S_({editor:e,commandName:P_,plugin:this,icon:ey,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(P_,()=>n(Wy)),e.ui.componentFactory.add("menuBar:"+P_,()=>n(lv))}}class T_ extends zb{static get requires(){return[A_,C_]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const O_="italic";class M_ extends zb{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:O_}),e.model.schema.setAttributeProperties(O_,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:O_,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(O_,new E_(e,O_)),e.keystrokes.set("CTRL+I",O_),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const D_="italic";class I_ extends zb{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,n=S_({editor:e,commandName:D_,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(D_,()=>n(Wy)),e.ui.componentFactory.add("menuBar:"+D_,()=>n(lv))}}class N_ extends zb{static get requires(){return[M_,I_]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}function*j_(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class R_ extends qb{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,r=t.schema,i=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(r.isLimit(s)||r.isLimit(a))return i||s!=a||t.deleteContent(n),!1;if(i){const t=j_(e.model.schema,n.getAttributes());return L_(e,o.start),e.setSelectionAttribute(t),!0}{const r=!(o.start.isAtStart&&o.end.isAtEnd),i=s==a;if(t.deleteContent(n,{leaveUnmerged:r}),r){if(i)return L_(e,n.focus),!0;e.setSelection(a,0)}}return!1}}function L_(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}const F_={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class B_ extends bf{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(e,t)=>{n=t.shiftKey}),t.on("beforeinput",(r,i)=>{if(!this.isEnabled)return;let o=i.inputType;Tu.isSafari&&n&&"insertParagraph"==o&&(o="insertLineBreak");const s=i.domEvent,a=F_[o];if(!a)return;const l=new yp(t,"enter",i.targetRanges[0]);t.fire(l,new yf(e,s,{isSoft:a.isSoft})),l.stop.called&&r.stop()})}observe(){}stopObserving(){}}class V_ extends zb{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,n=t.document,r=this.editor.t;t.addObserver(B_),e.commands.add("enter",new R_(e)),this.listenTo(n,"enter",(r,i)=>{n.isComposing||i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class z_ extends qb{execute(){const e=this.editor.model,t=e.document;e.change(n=>{!function(e,t,n){const r=n.isCollapsed,i=n.getFirstRange(),o=i.start.parent,s=i.end.parent,a=o==s;if(r){const r=j_(e.schema,n.getAttributes());U_(e,t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(r)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:r}),a?U_(e,t,n.focus):r&&t.setSelection(s,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const r=t.getFirstRange(),i=r.start.parent,o=r.end.parent;return!q_(i,e)&&!q_(o,e)||i===o}(e.schema,t.selection)}}function U_(e,t,n){const r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function q_(e,t){return!e.is("rootElement")&&(t.isLimit(e)||q_(e.parent,t))}class H_ extends zb{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,n=e.conversion,r=e.editing.view,i=r.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,{writer:t})=>t.createEmptyElement("br")}),r.addObserver(B_),e.commands.add("shiftEnter",new z_(e)),this.listenTo(i,"enter",(t,n)=>{i.isComposing||n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}Error;class $_ extends(td()){_stack=[];add(e,t){const n=this._stack,r=n[0];this._insertDescriptor(e);const i=n[0];r===i||W_(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}remove(e,t){const n=this._stack,r=n[0];this._removeDescriptor(e);const i=n[0];r===i||W_(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e.id);if(W_(e,t[n]))return;n>-1&&t.splice(n,1);let r=0;for(;t[r]&&G_(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e);n>-1&&t.splice(n,1)}}function W_(e,t){return e&&t&&e.priority==t.priority&&J_(e.classes)==J_(t.classes)}function G_(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&J_(e.classes)>J_(t.classes)}function J_(e){return Array.isArray(e)?e.sort().join(","):e}const Y_="ck-widget_selected";function K_(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function Q_(e,t,n={}){if(!e.is("containerElement"))throw new Gu("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=ex,t.setCustomProperty("widgetLabel",[],e),n.label&&function(e,t){e.getCustomProperty("widgetLabel").push(t)}(e,n.label),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){const t=this.toDomElement(e),n=new Hy;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t});t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),function(e,t,n=X_,r=Z_){const i=new $_;i.on("change:top",(t,i)=>{i.oldDescriptor&&r(e,i.oldDescriptor,i.writer),i.newDescriptor&&n(e,i.newDescriptor,i.writer)}),t.setCustomProperty("addHighlight",(e,t,n)=>i.add(t,n),e),t.setCustomProperty("removeHighlight",(e,t,n)=>i.remove(t,n),e)}(e,t),e}function X_(e,t,n){if(t.classes&&n.addClass(Sh(t.classes),e),t.attributes)for(const r in t.attributes)n.setAttribute(r,t.attributes[r],e)}function Z_(e,t,n){if(t.classes&&n.removeClass(Sh(t.classes),e),t.attributes)for(const r in t.attributes)n.removeAttribute(r,e)}function ex(){return null}const tx="widget-type-around";function nx(e,t,n){return!!e&&K_(e)&&!n.isInline(t)}function rx(e){return e.getAttribute(tx)}const ix=["before","after"],ox=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,sx="ck-widget__type-around_disabled";class ax extends zb{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[V_,l_]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,r,i)=>{t.change(e=>{for(const n of t.document.roots)i?e.removeClass(sx,n):e.addClass(sx,n)}),i||e.model.change(e=>{e.removeSelectionAttribute(tx)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,r=n.editing.view,i=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:i}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,n,r){this.listenTo(e,t,(...e)=>{this.isEnabled&&n(...e)},r)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=rx(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(e,i,o)=>{const s=o.mapper.toViewElement(i.item);s&&nx(s,i.item,t)&&(!function(e,t,n){const r=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(e){const n=this.toDomElement(e);return function(e,t){for(const n of ix){const r=new wy({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:t[n],"aria-hidden":"true"},children:[e.ownerDocument.importNode(ox,!0)]});e.appendChild(r.render())}}(n,t),function(e){const t=new wy({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n});e.insert(e.createPositionAt(n,"end"),r)}(o.writer,r,s),s.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,r=t.schema,i=e.editing.view;function o(e){return`ck-widget_type-around_show-fake-caret_${e}`}this._listenToIfEnabled(i.document,"arrowKey",(e,t)=>{this._handleArrowKeyPress(e,t)},{context:[K_,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(t,n)=>{n.directChange&&e.model.change(e=>{e.removeSelectionAttribute(tx)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const t=n.getSelectedElement();t&&nx(e.editing.mapper.toViewElement(t),t,r)||e.model.change(e=>{e.removeSelectionAttribute(tx)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(e,t,n)=>{const i=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(i.removeClass(ix.map(o),e),this._currentFakeCaretModelElement=null)}const s=t.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!nx(a,s,r))return;const l=rx(t.selection);l&&(i.addClass(o(l),a),this._currentFakeCaretModelElement=s)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(t,n,r)=>{r||e.model.change(e=>{e.removeSelectionAttribute(tx)})})}_handleArrowKeyPress(e,t){const n=this.editor,r=n.model,i=r.document.selection,o=r.schema,s=n.editing.view,a=function(e,t){const n=xh(e,t);return"down"===n||"right"===n}(t.keyCode,n.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();let c;nx(l,n.editing.mapper.toModelElement(l),o)?c=this._handleArrowKeyPressOnSelectedWidget(a):i.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):t.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=rx(t.document.selection);return t.change(t=>n?n!==(e?"after":"before")&&(t.removeSelectionAttribute(tx),!0):(t.setSelectionAttribute(tx,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,r=n.schema,i=t.plugins.get("Widget"),o=i._getObjectElementNextToSelection(e);return!!nx(t.editing.mapper.toViewElement(o),o,r)&&(n.change(t=>{i._setSelectionOverElement(o),t.setSelectionAttribute(tx,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,r=n.schema,i=t.editing.mapper,o=n.document.selection,s=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!nx(i.toViewElement(s),s,r)&&(n.change(t=>{t.setSelection(s,"on"),t.setSelectionAttribute(tx,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,r)=>{const i=r.domTarget.closest(".ck-widget__type-around__button");if(!i)return;const o=i.classList.contains("ck-widget__type-around__button_before")?"before":"after",s=function(e,t){const n=e.closest(".ck-widget");return t.mapDomToView(n)}(i,t.domConverter),a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,o),r.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(n,r)=>{if("atTarget"!=n.eventPhase)return;const i=t.getSelectedElement(),o=e.editing.mapper.toViewElement(i),s=e.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:nx(o,i,s)&&(this._insertParagraph(i,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),n.stop())},{context:K_})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),Tu.isAndroid?this._listenToIfEnabled(e,"keydown",(e,t)=>{229==t.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,r=n.schema;this._listenToIfEnabled(t.document,"delete",(t,i)=>{if("atTarget"!=t.eventPhase)return;const o=rx(n.document.selection);if(!o)return;const s=i.direction,a=n.document.selection.getSelectedElement(),l="forward"==s;if("before"===o===l)e.execute("delete",{selection:n.createSelection(a,"on")});else{const t=r.getNearestSelectionRange(n.createPositionAt(a,o),s);if(t)if(t.isCollapsed){const i=n.createSelection(t.start);if(n.modifySelection(i,{direction:s}),i.focus.isEqual(t.start)){const e=function(e,t){let n=t;for(const r of t.getAncestors({parentFirst:!0})){if(r.childCount>1||e.isLimit(r))break;n=r}return n}(r,t.start.parent);n.deleteContent(n.createSelection(e,"on"),{doNotAutoparagraph:!0})}else n.change(n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")})}else n.change(n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")})}i.preventDefault(),t.stop()},{context:K_})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(e,[r,i])=>{if(i&&!i.is("documentSelection"))return;const o=rx(n);return o?(e.stop(),t.change(e=>{const i=n.getSelectedElement(),s=t.createPositionAt(i,o),a=e.createSelection(s),l=t.insertContent(r,a);return e.setSelection(a),l})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(e,n)=>{const[,r,i={}]=n;if(r&&!r.is("documentSelection"))return;const o=rx(t);o&&(i.findOptimalPosition=o,n[3]=i)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(e,[n])=>{n&&!n.is("documentSelection")||rx(t)&&e.stop()},{priority:"high"})}}function lx(e,t,n){const r=e.schema,i=e.createRangeIn(t.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:e,item:s,type:a}of i.getWalker({startPosition:t,direction:n})){if(r.isLimit(s)&&!r.isInline(s))return e;if(a==o&&r.isBlock(s))return null}return null}function cx(e,t,n){const r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;for(const{nextPosition:r}of t.getWalker({direction:n}))if(e.checkChild(r,"$text"))return r;return null}class ux extends zb{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[ax,l_]}init(){const e=this.editor,t=e.editing.view,n=t.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(t,n,r)=>{const i=r.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=e.editing.mapper.toViewElement(s);var l;K_(a)&&r.consumable.consume(o,"selection")&&i.setSelection(i.createRangeOn(a),{fake:!0,label:(l=a,l.getCustomProperty("widgetLabel").reduce((e,t)=>"function"==typeof t?e?e+". "+t():t():e?e+". "+t:t,""))})}),this.editor.editing.downcastDispatcher.on("selection",(e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,i=r.document.selection;let o=null;for(const e of i.getRanges())for(const t of e){const e=t.item;K_(e)&&!dx(e,o)&&(r.addClass(Y_,e),this._previouslySelected.add(e),o=e)}},{priority:"low"}),t.addObserver(Ob),this.listenTo(n,"mousedown",(...e)=>this._onMousedown(...e)),this.listenTo(n,"arrowKey",(...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)},{context:[K_,"$text"]}),this.listenTo(n,"arrowKey",(...e)=>{this._preventDefaultOnArrowKeyPress(...e)},{context:"$root"}),this.listenTo(n,"arrowKey",function(e){const t=e.model;return(n,r)=>{const i=r.keyCode==bh.arrowup,o=r.keyCode==bh.arrowdown,s=r.shiftKey,a=t.document.selection;if(!i&&!o)return;const l=o;if(s&&function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,l))return;const c=function(e,t,n){const r=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition(),n=lx(r,e,"forward");if(!n)return null;const i=r.createRange(e,n),o=cx(r.schema,i,"backward");return o?r.createRange(e,o):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),n=lx(r,e,"backward");if(!n)return null;const i=r.createRange(n,e),o=cx(r.schema,i,"forward");return o?r.createRange(o,e):null}}(e,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||function(e,t,n){const r=e.model,i=e.view.domConverter;if(n){const e=r.createSelection(t.start);r.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=r.createRange(e.focus,t.end))}const o=e.mapper.toViewRange(t),s=i.viewRangeToDom(o),a=Ud.getDomRangeRects(s);let l;for(const e of a)if(void 0!==l){if(Math.round(e.top)>=l)return!1;l=Math.max(l,Math.round(e.bottom))}else l=Math.round(e.bottom);return!0}(e,c,l))&&(t.change(e=>{const n=l?c.end:c.start;if(s){const r=t.createSelection(a.anchor);r.setFocus(n),e.setSelection(r)}else e.setSelection(n)}),n.stop(),r.preventDefault(),r.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{context:"$root"}),this.listenTo(n,"tab",(e,t)=>{"atTarget"==e.eventPhase&&(t.shiftKey||this._selectFirstNestedEditable()&&(t.preventDefault(),e.stop()))},{context:K_,priority:"low"}),this.listenTo(n,"tab",(e,t)=>{t.shiftKey&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())},{priority:"low"}),this.listenTo(n,"keydown",(e,t)=>{t.keystroke==bh.esc&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,r=n.editing.view,i=r.document;let o=t.target;if(!o)return;if(t.domEvent.detail>=3)return void(this._selectBlockContent(o)&&t.preventDefault());if(!K_(o)){const e=function(e){let t=e;for(;t;){if(t.is("editableElement")||K_(t))return t;t=t.parent}return null}(o);if(!e)return;if(K_(e))o=e;else{const e=function(e,t){const n=Ld(t.domEvent);let r=null;if(r=n?e.domConverter.domRangeToView(n):e.createRange(e.createPositionAt(t.target,0)),!r)return null;const i=r.start;if(!i.parent)return null;let o=i.parent;return i.parent.is("editableElement")&&(i.isAtEnd&&i.nodeBefore?o=i.nodeBefore:i.isAtStart&&i.nodeAfter&&(o=i.nodeAfter)),o.is("$text")?o.parent:o}(r,t);if(!e||!K_(e))return;o=e}}Tu.isAndroid&&t.preventDefault(),i.isFocused||r.focus();const s=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(s)}_selectBlockContent(e){const t=this.editor,n=t.model,r=t.editing.mapper,i=n.schema,o=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),s=function(e,t){for(const n of e.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(n,"$text"))return n;if(t.isLimit(n)&&!t.isObject(n))break}return null}(r.toModelElement(o),n.schema);return!!s&&(n.change(e=>{const t=i.isLimit(s)?null:function(e,t){const n=new Bf({startPosition:e});for(const{item:e}of n){if(t.isLimit(e)||!e.is("element"))return null;if(t.checkChild(e,"$text"))return e}return null}(e.createPositionAfter(s),i),n=e.createPositionAt(s,0),r=t?e.createPositionAt(t,0):e.createPositionAt(s,"end");e.setSelection(e.createRange(n,r))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,r=this.editor.model,i=r.schema,o=r.document.selection,s=o.getSelectedElement(),a=xh(n,this.editor.locale.contentLanguageDirection),l="down"==a||"right"==a,c="up"==a||"down"==a;if(s&&i.isObject(s)){const n=l?o.getLastPosition():o.getFirstPosition(),s=i.getNearestSelectionRange(n,l?"forward":"backward");return void(s&&(r.change(e=>{e.setSelection(s)}),t.preventDefault(),e.stop()))}if(!o.isCollapsed&&!t.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,c=s.nodeBefore;return void((a&&i.isObject(a)||c&&i.isObject(c))&&(r.change(e=>{e.setSelection(l?s:n)}),t.preventDefault(),e.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(l);if(u&&i.isObject(u)){if(i.isInline(u)&&c)return;this._setSelectionOverElement(u),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t))return;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(e=>{let r=t.anchor.parent;for(;r.isEmpty;){const t=r;r=t.parent,e.remove(t)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,r=t.document.selection,i=t.createSelection(r);if(t.modifySelection(i,{direction:e?"forward":"backward"}),i.isEqual(r))return null;const o=e?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Y_,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const t=e.editing.mapper.toModelElement(n);if(!t)continue;const r=e.model.createPositionAt(t,0),i=e.model.schema.getNearestSelectionRange(r,"forward");return e.model.change(e=>{e.setSelection(i)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,r=(n.is("$text")?n.parent:n).findAncestor(K_);if(!r)return!1;const i=t.toModelElement(r);return!!i&&(e.model.change(e=>{e.setSelection(i,"on")}),!0)}}function dx(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class hx extends vf{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;function n(e){return(n,r)=>{r.preventDefault();const i=r.dropRange?[r.dropRange]:null,o=new Uu(t,e);t.fire(o,{dataTransfer:r.dataTransfer,method:n.name,targetRanges:i,target:r.target,domEvent:r.domEvent}),o.stop.called&&r.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n="drop"==e.type||"paste"==e.type,r={dataTransfer:new Pf(t,{cacheFiles:n})};if("drop"==e.type||"dragover"==e.type){const t=Ld(e);r.dropRange=t&&this.view.domConverter.domRangeToView(t)}this.fire(e.type,e,r)}}const px=["figcaption","li"],fx=["ol","ul"];function mx(e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return"\n";let t="",n=null;for(const r of e.getChildren())t+=gx(r,n)+mx(r),n=r;return t}function gx(e,t){return t?e.is("element","li")&&!e.isEmpty&&e.getChild(0).is("containerElement")||fx.includes(e.name)&&fx.includes(t.name)?"\n\n":e.is("containerElement")||t.is("containerElement")?px.includes(e.name)||px.includes(t.name)?"\n":e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":"\n\n":"":""}class bx extends zb{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=e=>e.model.getSelectedContent(e.model.document.selection)){return this.editor.model.change(r=>{const i=r.model.document.selection;r.setSelection(t);const o=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),s=n(r),a=this._removeFakeMarkersInsideElement(r,s);for(const[e,t]of Object.entries(o)){a[e]||=r.createRangeIn(s);for(const e of t)r.remove(e)}s.markers.clear();for(const[e,t]of Object.entries(a))s.markers.set(e,t);return r.setSelection(i),s})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(e=>{const r=this._insertFakeMarkersElements(e,n),i=t(e),o=this._removeFakeMarkersInsideElement(e,i);for(const t of Object.values(r).flat())e.remove(t);for(const[t,n]of Object.entries(o))e.model.markers.has(t)||e.addMarker(t,{usingOperation:!0,affectsData:!0,range:n});return i})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:r}=n;return"all"===r||r.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const r=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,t,n){const r=Array.from(t.getRanges()),i=new Set(r.flatMap(t=>Array.from(e.model.markers.getMarkersIntersectingRange(t))));return Array.from(i).filter(e=>{if(!this._isMarkerCopyable(e.name,n))return!1;const{copyPartiallySelected:t}=this._getMarkerClipboardConfig(e.name);if(!t){const t=e.getRange();return r.some(e=>e.containsRange(t,!0))}return!0}).map(e=>({name:"dragstart"===n?this._getUniqueMarkerName(e.name):e.name,range:e.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([e,r])=>{if(!this._hasMarkerConfiguration(e))return[{name:e,range:r}];if(this._isMarkerCopyable(e,t)){const t=this._getMarkerClipboardConfig(e),i=n.markers.has(e)&&"$graveyard"===n.markers.get(e).getRange().root.rootName;return(t.duplicateOnPaste||i)&&(e=this._getUniqueMarkerName(e)),[{name:e,range:r}]}return[]})}_insertFakeMarkersElements(e,t){const n={},r=t.flatMap(e=>{const{start:t,end:n}=e.range;return[{position:t,marker:e,type:"start"},{position:n,marker:e,type:"end"}]}).sort(({position:e},{position:t})=>e.isBefore(t)?1:-1);for(const{position:t,marker:i,type:o}of r){const r=e.createElement("$marker",{"data-name":i.name,"data-type":o});n[i.name]||(n[i.name]=[]),n[i.name].push(r),e.insert(r,t)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((t,n)=>{const r=n.markerElement&&e.createPositionBefore(n.markerElement);let i=t[n.name],o=!1;return i&&i.start&&i.end&&(this._getMarkerClipboardConfig(n.name).duplicateOnPaste?t[this._getUniqueMarkerName(n.name)]=t[n.name]:o=!0,i=null),o||(t[n.name]={...i,[n.type]:r}),n.markerElement&&e.remove(n.markerElement),t},{});return(0,ku.mapValues)(n,n=>new Gf(n.start||e.createPositionFromPath(t,[0]),n.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:e})=>{if(!e.is("element","$marker"))return[];const t=e.getAttribute("data-name"),n=e.getAttribute("data-type");return[{markerElement:e,name:t,type:n}]}),r=[],i=[];for(const e of n)"end"===e.type&&(n.some(t=>t.name===e.name&&"start"===t.type)||r.push({markerElement:null,name:e.name,type:"start"})),"start"===e.type&&(n.some(t=>t.name===e.name&&"end"===t.type)||i.unshift({markerElement:null,name:e.name,type:"end"}));return[...r,...n,...i]}_getUniqueMarkerName(e){const t=e.split(":"),n=Hu().substring(1,6);return 3===t.length?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class yx extends zb{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[bx]}init(){this.editor.editing.view.addObserver(hx),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===n},()=>{const i=r._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:i,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document,i=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",(t,n)=>{"paste"!=n.method||e.model.canEditAt(e.model.document.selection)||t.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(e,t)=>{const r=t.dataTransfer;let i;if(t.content)i=t.content;else{let e="";r.getData("text/html")?e=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?" ":t).replace(/<!--[\s\S]*?-->/g,"")}(r.getData("text/html")):r.getData("text/plain")&&(((o=(o=r.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),e=o),i=this.editor.data.htmlProcessor.toView(e)}var o;const s=new Uu(this,"inputTransformation");this.fire(s,{content:i,dataTransfer:r,targetRanges:t.targetRanges,method:t.method}),s.stop.called&&e.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(e,n)=>{if(n.content.isEmpty)return;const r=this.editor.data.toModel(n.content,"$clipboardHolder");0!=r.childCount&&(e.stop(),t.change(()=>{this.fire("contentInsertion",{content:r,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(e,t)=>{t.resultRange=i._pasteFragmentWithMarkers(t.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,r=(e,n)=>{const r=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(r,t.selection,e.name)};this.listenTo(n,"copy",r,{priority:"low"}),this.listenTo(n,"cut",(t,n)=>{e.model.canEditAt(e.model.document.selection)?r(t,n):n.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(t,r)=>{const i=e.data.toView(r.content);n.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:i,method:r.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",mx(r.content))),"cut"==r.method&&e.model.deleteContent(t.selection)},{priority:"low"})}}const vx=Kd("px");class wx extends Uy{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",e=>!e)],style:{left:e.to("left",e=>vx(e)),top:e.to("top",e=>vx(e)),width:e.to("width",e=>vx(e))}}})}}class xx extends zb{removeDropMarkerDelayed=Lh(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=(0,ku.throttle)(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=(0,ku.throttle)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new wx;_domEmitter=new(Id());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,r,i,o){this.removeDropMarkerDelayed.cancel();const s=Ex(this.editor,e,t,n,r,i,o);if(s)return o&&o.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(e,t,n,r,i,o){const s=Ex(this.editor,e,t,n,r,i,o);return this.removeDropMarker(),s}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(e=>{e.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(t=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(e){const t=this.toDomElement(e);return t.append("",e.createElement("span"),""),t})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,r=e.start.nodeAfter,i=e.start.parent,o=n?t.mapper.toViewElement(n):null,s=o?t.view.domConverter.mapViewToDom(o):null,a=r?t.mapper.toViewElement(r):null,l=a?t.view.domConverter.mapViewToDom(a):null,c=t.mapper.toViewElement(i);if(!c)return;const u=t.view.domConverter.mapViewToDom(c),d=this._getScrollableRect(c),{scrollX:h,scrollY:p}=Su.window,f=s?new Ud(s):null,m=l?new Ud(l):null,g=new Ud(u).excludeScrollbarsAndBorders(),b=f?f.bottom:g.top,y=m?m.top:g.bottom,v=Su.window.getComputedStyle(u),w=b<=y?(b+y)/2:y;if(d.top<w&&w<d.bottom){const e=g.left+parseFloat(v.paddingLeft),t=g.right-parseFloat(v.paddingRight),n=Math.max(e+h,d.left),r=Math.min(t+h,d.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:w+p,width:r-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(e){let t=e;do{t=t.parentElement;const e=Su.window.getComputedStyle(t).overflowY;if("auto"==e||"scroll"==e)break}while("BODY"!=t.tagName);return t}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new Jd(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:r})}return new Ud(n).excludeScrollbarsAndBorders()}}function Ex(e,t,n,r,i,o,s){const a=e.model,l=e.editing.mapper;let c=Px(e,t);for(;c;){if(!o)if(a.schema.checkChild(c,"$text")){if(n){const t=n[0].start,o=l.toModelPosition(t);if(!s||Array.from(s.getItems()).every(e=>a.schema.checkChild(o,e))){if(a.schema.checkChild(o,"$text"))return a.createRange(o);if(t)return Ax(e,Px(e,t.parent),r,i)}}}else if(a.schema.isInline(c))return Ax(e,c,r,i);if(a.schema.isBlock(c))return Ax(e,c,r,i);if(a.schema.checkChild(c,"$block")){const t=Array.from(c.getChildren()).filter(t=>t.is("element")&&!kx(e,t));let n=0,o=t.length;if(0==o)return a.createRange(a.createPositionAt(c,"end"));for(;n<o-1;){const s=Math.floor((n+o)/2);"before"==Sx(e,t[s],r,i)?o=s:n=s}return Ax(e,t[n],r,i)}c=c.parent}return null}function kx(e,t){const n=e.editing.mapper,r=e.editing.view.domConverter,i=n.toViewElement(t);if(!i)return!0;const o=r.mapViewToDom(i);return"none"!=Su.window.getComputedStyle(o).float}function Ax(e,t,n,r){const i=e.model;return i.createRange(i.createPositionAt(t,Sx(e,t,n,r)))}function Sx(e,t,n,r){const i=e.editing.mapper,o=e.editing.view.domConverter,s=i.toViewElement(t),a=o.mapViewToDom(s),l=new Ud(a);return e.model.schema.isInline(t)?n<(l.left+l.right)/2?"before":"after":r<(l.top+l.bottom)/2?"before":"after"}function Px(e,t){const n=e.editing.mapper,r=e.editing.view,i=n.toModelElement(t);if(i)return i;const o=r.createPositionBefore(t),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}class Cx extends zb{_isBlockDragging=!1;_domEmitter=new(Id());static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(e,t,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Tu.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(e,t)=>this._handleBlockDragStart(t)),this._domEmitter.listenTo(Su.document,"dragover",(e,t)=>this._handleBlockDragging(t)),this._domEmitter.listenTo(Su.document,"drop",(e,t)=>this._handleBlockDragging(t)),this._domEmitter.listenTo(Su.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(e,n,r)=>{t.setAttribute("draggable",r?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,r=this.editor.editing.view,i=Array.from(n.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(i[0]),t.createPositionAfter(i[i.length-1]));t.change(e=>e.setSelection(o)),this._isBlockDragging=!0,r.focus(),r.getObserver(hx).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=e.clientY,r=document.elementFromPoint(t,n),i=this.editor.editing.view;r&&r.closest(".ck-editor__editable")&&i.getObserver(hx).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class Tx extends zb{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=Lh(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(Id());_previewContainer;static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[yx,ux,xx,Cx]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(hx),t.addObserver(Ob),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(e,t,n)=>{n||this._finalizeDragging(!1)}),Tu.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document,i=e.plugins.get(xx);this.listenTo(r,"dragstart",(e,n)=>{if(n.target&&n.target.is("editableElement"))return void n.preventDefault();if(this._prepareDraggedRange(n.target),!this._draggedRange)return void n.preventDefault();this._draggingUid=Hu(),n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const r=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(n.dataTransfer,r,"dragstart");const{dataTransfer:i,domTarget:o,domEvent:s}=n,{clientX:a}=s;this._updatePreview({dataTransfer:i,domTarget:o,clientX:a}),n.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)},{priority:"low"}),this._domEmitter.listenTo(Su.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(r,"dragleave",()=>{i.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(e,t)=>{if(!this.isEnabled)return void(t.dataTransfer.dropEffect="none");const{clientX:n,clientY:r}=t.domEvent;i.updateDropMarker(t.target,t.targetRanges,n,r,this._blockMode,this._draggedRange),this._draggedRange||(t.dataTransfer.dropEffect="copy"),Tu.isGecko||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),e.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(xx);this.listenTo(t,"clipboardInput",(t,r)=>{if("drop"!=r.method)return;const{clientX:i,clientY:o}=r.domEvent,s=n.getFinalDropRange(r.target,r.targetRanges,i,o,this._blockMode,this._draggedRange);return s?(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==Ox(r.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0)?(this._finalizeDragging(!1),void t.stop()):void(r.targetRanges=[e.editing.mapper.toViewRange(s)])):(this._finalizeDragging(!1),void t.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(yx);e.on("contentInsertion",(e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n=t.targetRanges.map(e=>this.editor.editing.mapper.toModelRange(e));this.editor.model.change(e=>e.setSelection(n))},{priority:"high"}),e.on("contentInsertion",(e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n="move"==Ox(t.dataTransfer),r=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(r&&n)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(r,i)=>{if(Tu.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let o=Mx(i.target);if(Tu.isBlink&&!e.isReadOnly&&!o&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();e&&K_(e)||(o=n.selection.editableElement)}o&&(t.change(e=>{e.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(n,"mouseup",()=>{Tu.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(xx).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(e=>{const t=n.createSelection(this._draggedRange);n.deleteContent(t,{doNotAutoparagraph:!0});const r=t.getFirstPosition().parent;r.isEmpty&&!n.schema.checkChild(r,"$text")&&n.schema.checkChild(r,"paragraph")&&e.insertElement("paragraph",r,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,r=n.document.selection,i=e?Mx(e):null;if(i){const e=t.editing.mapper.toModelElement(i);return this._draggedRange=am.fromRange(n.createRangeOn(e)),this._blockMode=n.schema.isBlock(e),void(t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop"))}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const o=Array.from(r.getSelectedBlocks()),s=r.getFirstRange();if(0==o.length)return void(this._draggedRange=am.fromRange(s));const a=Dx(n,o);if(o.length>1)this._draggedRange=am.fromRange(a),this._blockMode=!0;else if(1==o.length){const e=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=am.fromRange(e?a:s),this._blockMode=e}n.change(e=>e.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const r=this.editor.editing.view,i=r.document.selection.editableElement,o=r.domConverter.mapViewToDom(i),s=Su.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Sd(Su.document,"div",{style:"position: fixed; left: -999999px;"}),Su.document.body.appendChild(this._previewContainer));const a=new Ud(o);if(o.contains(t))return;const l=parseFloat(s.paddingLeft),c=Sd(Su.document,"div");c.className="ck ck-content",c.style.width=s.width,c.style.paddingLeft=`${a.left-n+l}px`,Tu.isiOS&&(c.style.backgroundColor="white"),r.domConverter.setContentOf(c,e.getData("text/html")),e.setDragImage(c,0,0),this._previewContainer.appendChild(c)}}function Ox(e){return Tu.isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function Mx(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(K_);if(K_(e))return e;const t=e.findAncestor(e=>K_(e)||e.is("editableElement"));return K_(t)?t:null}function Dx(e,t){const n=t[0],r=t[t.length-1],i=n.getCommonAncestor(r),o=e.createPositionBefore(n),s=e.createPositionAfter(r);if(i&&i.is("element")&&!e.schema.isLimit(i)){const t=e.createRangeOn(i),n=o.isTouching(t.start),r=s.isTouching(t.end);if(n&&r)return Dx(e,[i])}return e.createRange(o,s)}class Ix extends zb{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[yx]}init(){const e=this.editor,t=e.model,n=e.editing.view,r=t.document.selection;n.addObserver(hx),e.plugins.get(yx).on("contentInsertion",(e,n)=>{(function(e,t){let n=t.createRangeIn(e);if(1==e.childCount){const r=e.getChild(0);r.is("element")&&t.schema.isBlock(r)&&!t.schema.isObject(r)&&!t.schema.isLimit(r)&&(n=t.createRangeIn(r))}for(const e of n.getItems()){if(!t.schema.isInline(e))return!1;if(Array.from(e.getAttributeKeys()).find(e=>t.schema.getAttributeProperties(e).isFormatting))return!1}return!0})(n.content,t)&&t.change(e=>{const i=Array.from(r.getAttributes()).filter(([e])=>t.schema.getAttributeProperties(e).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),i.push(...r.getAttributes());const o=e.createRangeIn(n.content);for(const n of o.getItems())for(const r of i)t.schema.checkAttribute(n,r[0])&&e.setAttribute(r[0],r[1],n)})})}}class Nx extends zb{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[bx,yx,Tx,Ix]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class jx extends Sw{view;_toolbarConfig;_elementReplacer;constructor(e,t){super(e),this.view=t,this._toolbarConfig=Lv(e.config.get("toolbar")),this._elementReplacer=new xd,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,r=t.editing.view,i=n.editable,o=r.document.getRoot();i.name=o.rootName,n.render();const s=i.element;this.setEditableElement(i.name,s),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(s),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&this._initMenuBar(n.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:e})=>e||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.sourceElement;let i;const o=e.config.get("placeholder");o&&(i="string"==typeof o?o:o[this.view.editable.name]),!i&&r&&"textarea"===r.tagName.toLowerCase()&&(i=r.getAttribute("placeholder")),i&&(n.placeholder=i),function({view:e,element:t,text:n,isDirectHost:r=!0,keepOnFocus:i=!1}){const o=e.document;function s(n){qh.get(o).set(t,{text:n,isDirectHost:r,keepOnFocus:i,hostElement:r?t:null}),e.change(e=>$h(o,e))}qh.has(o)||(qh.set(o,new Map),o.registerPostFixer(e=>$h(o,e)),o.on("change:isComposing",()=>{e.change(e=>$h(o,e))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(e,t,n)=>{s(n)}),t.placeholder?s(t.placeholder):n&&s(n),n&&(Hh||Ju("enableplaceholder-deprecated-text-option"),Hh=!0)}({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",t=>{const n=t.return;if(!n||!e.isSticky||!e.element)return;const r=new Ud(e.element).height,i="function"==typeof n.target?n.target():n.target,o="function"==typeof n.limiter?n.limiter():n.limiter;if(i&&o&&new Ud(i).height>=new Ud(o).height-r)return;const s={...n.viewportOffsetConfig},a=(s.top||0)+r;t.return={...n,viewportOffsetConfig:{...s,top:a}}},{priority:"low"});const n=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",n),this.listenTo(this.editor.ui,"change:viewportOffset",n)}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const r=this.view.stickyPanel;if(r.isSticky){const e=new Ud(r.element).height;t.viewportOffset.top+=e}else{const e=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(r,"change:isSticky",e),setTimeout(()=>{this.stopListening(r,"change:isSticky",e)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(t,r)=>{if(!e.isSticky||n.wasMoved)return;const i=new Ud(e.contentPanelElement);r[1]<i.bottom+iv.defaultOffset&&(r[1]=i.bottom+iv.defaultOffset)},{priority:"high"})},{priority:"low"})}}class Rx extends Tw{stickyPanel;toolbar;editable;constructor(e,t,n={}){super(e),this.stickyPanel=new Lw(e),this.toolbar=new Bv(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new $w(e)),this.editable=new Mw(e,t,void 0,{label:n.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Lx extends(Zb(Xb)){ui;constructor(e,t={}){if(!Fx(e)&&void 0!==t.initialData)throw new Gu("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),void 0===this.config.get("initialData")&&this.config.set("initialData",function(e){return Fx(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e)),Fx(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),i=new Rx(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new jx(this,i),function(e){if(!(0,ku.isFunction)(e.updateSourceElement))throw new Gu("attachtoform-missing-elementapi-interface",e);const t=e.sourceElement;if(function(e){return!!e&&"textarea"===e.tagName.toLowerCase()}(t)&&t.form){let n;const r=t.form,i=()=>e.updateSourceElement();(0,ku.isFunction)(r.submit)&&(n=r.submit,r.submit=()=>{i(),n.apply(r)}),r.addEventListener("submit",i),e.on("destroy",()=>{r.removeEventListener("submit",i),n&&(r.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const r=new this(e,t);n(r.initPlugins().then(()=>r.ui.init(Fx(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function Fx(e){return(0,ku.isElement)(e)}class Bx extends qb{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Vx(e.schema,n))do{if(n=n.parent,!n)return}while(!Vx(e.schema,n));e.change(e=>{e.setSelection(n,"in")})}}function Vx(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const zx=wh("Ctrl+A");class Ux extends zb{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new Bx(e)),this.listenTo(n,"keydown",(t,n)=>{vh(n)===zx&&(e.execute("selectAll"),n.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class qx extends zb{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(Wy);return e.set({tooltip:!0}),e}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(lv))}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("selectAll"),i=new e(t.locale),o=n.t;return i.set({label:o("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),i}}class Hx extends zb{static get requires(){return[Ux,qx]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}class $x extends qb{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(e,t)=>{t[1]={...t[1]};const n=t[1];n.batchType||(n.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(e,t)=>{t[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const r=this.editor.model,i=r.document,o=[],s=e.map(e=>e.getTransformedByOperations(n)),a=s.flat();for(const e of s){const t=e.filter(e=>e.root!=i.graveyard).filter(e=>!Gx(e,a));t.length&&(Wx(t),o.push(t[0]))}o.length&&r.change(e=>{e.setSelection(o,{backward:t})})}_undo(e,t){const n=this.editor.model,r=n.document;this._createdBatches.add(t);const i=e.operations.slice().filter(e=>e.isDocumentOperation);i.reverse();for(const e of i){const i=e.baseVersion+1,o=Array.from(r.history.getOperations(i)),s=Lg([e.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let i of s){const o=i.affectedSelectable;o&&!n.canEditAt(o)&&(i=new Pg(i.baseVersion)),t.addOperation(i),n.applyOperation(i),r.history.setOperationAsUndone(e,i)}}}}function Wx(e){e.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let t=1;t<e.length;t++){const n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function Gx(e,t){return t.some(t=>t!==e&&t.containsRange(e,!0))}class Jx extends $x{execute(e=null){const t=e?this._stack.findIndex(t=>t.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e)}),this.fire("revert",n.batch,r),this.refresh()}}class Yx extends $x{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}class Kx extends zb{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new Jx(e),this._redoCommand=new Yx(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const r=n.batch,i=this._redoCommand.createdBatches.has(r),o=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(i?this._undoCommand.addBatch(r):o||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,t,n)=>{this._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Qx extends zb{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?my:fy,i="ltr"==t.uiLanguageDirection?fy:my;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",i)}_addButtonsToFactory(e,t,n,r){const i=this.editor;i.ui.componentFactory.add(e,()=>{const i=this._createButton(Wy,e,t,n,r);return i.set({tooltip:!0}),i}),i.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(lv,e,t,n,r))}_createButton(e,t,n,r,i){const o=this.editor,s=o.locale,a=o.commands.get(t),l=new e(s);return l.set({label:n,icon:i,keystroke:r}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",()=>{o.execute(t),o.editing.view.focus()}),l}}class Xx extends zb{static get requires(){return[Kx,Qx]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}class Zx extends zb{static get requires(){return[pv,Nx,V_,Hx,H_,c_,Xx]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}class eE extends qb{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Th(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&tE(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,r=e.selection||n.selection;t.canEditAt(r)&&t.change(e=>{const n=r.getSelectedBlocks();for(const r of n)!r.is("element","paragraph")&&tE(r,t.schema)&&e.rename(r,"paragraph")})}}function tE(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class nE extends qb{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let r=e.position;t.canEditAt(r)&&t.change(e=>{if(r=this._findPositionToInsertParagraph(r,e),!r)return;const i=e.createElement("paragraph");n&&t.schema.setAllowedAttributes(i,n,e),t.insertContent(i,r),e.setSelection(i,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const r=n.schema.findAllowedParent(e,"paragraph");if(!r)return null;const i=e.parent,o=n.schema.checkChild(i,"$text");return i.isEmpty||o&&e.isAtEnd?n.createPositionAfter(i):!i.isEmpty&&o&&e.isAtStart?n.createPositionBefore(i):t.split(e,r).position}}class rE extends zb{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new eE(e)),e.commands.add("insertParagraph",new nE(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,{writer:t})=>rE.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class iE extends qb{refresh(){const e=this.editor.model,t=e.schema,n=e.document.selection,r=oE(n);this.isEnabled=function(e,t,n){const r=function(e,t){const n=function(e,t){const n=e.getSelectedElement();if(n){const r=rx(e);if(r)return t.createRange(t.createPositionAt(n,r))}return t.schema.findOptimalInsertionRange(e)}(e,t),r=n.start.parent;return r.isEmpty&&!r.is("rootElement")?r.parent:r}(e,n);return t.checkChild(r,"rawHtml")}(n,t,e),this.value=r?r.getAttribute("value")||"":null}execute(e){const t=this.editor.model,n=t.document.selection;t.change(r=>{let i;null!==this.value?i=oE(n):(i=r.createElement("rawHtml"),t.insertObject(i,null,null,{setSelection:"on"})),r.setAttribute("value",e,i)})}}function oE(e){const t=e.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}class sE extends zb{_widgetButtonViewReferences=new Set;static get pluginName(){return"HtmlEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:e=>(Ju("html-embed-provide-sanitize-function"),{html:e,hasChanged:!1})})}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new iE(e)),this._setupConversion()}_setupConversion(){const e=this.editor,t=e.t,n=e.editing.view,r=this._widgetButtonViewReferences,i=e.config.get("htmlEmbed");function o({editor:e,domElement:n,state:i,props:o}){n.textContent="";const a=n.ownerDocument;let l;if(i.isEditable){const e={isDisabled:!1,placeholder:o.textareaPlaceholder};l=s({domDocument:a,state:i,props:e}),n.append(l)}else if(i.showPreviews){const r={sanitizeHtml:o.sanitizeHtml};n.append(function({editor:e,domDocument:n,state:r,props:i}){const o=i.sanitizeHtml(r.getRawHtmlValue()),s=Sd(n,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},r.getRawHtmlValue().length>0?t("No preview available"):t("Empty snippet content")),a=Sd(n,"div",{class:"raw-html-embed__preview-content",dir:e.locale.contentLanguageDirection}),l=n.createRange().createContextualFragment(o.html);a.appendChild(l);return Sd(n,"div",{class:"raw-html-embed__preview"},[s,a])}({domDocument:a,state:i,props:r,editor:e}))}else{const e={isDisabled:!0,placeholder:o.textareaPlaceholder};n.append(s({domDocument:a,state:i,props:e}))}const c={onEditClick:o.onEditClick,onSaveClick:()=>{o.onSaveClick(l.value)},onCancelClick:o.onCancelClick};n.prepend(function({editor:e,domDocument:t,state:n,props:i}){const o=Sd(t,"div",{class:"raw-html-embed__buttons-wrapper"});if(n.isEditable){const t=aE(e,"save",i.onSaveClick),n=aE(e,"cancel",i.onCancelClick);o.append(t.element,n.element),r.add(t).add(n)}else{const t=aE(e,"edit",i.onEditClick);o.append(t.element),r.add(t)}return o}({editor:e,domDocument:a,state:i,props:c}))}function s({domDocument:e,state:t,props:n}){const r=Sd(e,"textarea",{placeholder:n.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return r.disabled=n.isDisabled,r.value=t.getRawHtmlValue(),r}this.editor.editing.view.on("render",()=>{for(const e of r){if(e.element&&e.element.isConnected)return;e.destroy(),r.delete(e)}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(e,{writer:t})=>t.createElement("rawHtml",{value:e.getCustomProperty("$rawContent")})}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(e,{writer:t})=>t.createRawElement("div",{class:"raw-html-embed"},function(t){t.innerHTML=e.getAttribute("value")||""})}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(r,{writer:s})=>{let a,l,c;const u=s.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(t){a=t,o({editor:e,domElement:t,state:l,props:c}),a.addEventListener("mousedown",()=>{if(l.isEditable){const t=e.model;t.document.selection.getSelectedElement()!==r&&t.change(e=>e.setSelection(r,"on"))}},!0)}),d={makeEditable(){l=Object.assign({},l,{isEditable:!0}),o({domElement:a,editor:e,state:l,props:c}),n.change(e=>{e.setAttribute("data-cke-ignore-events","true",u)}),a.querySelector("textarea").focus()},save(t){t!==l.getRawHtmlValue()?(e.execute("htmlEmbed",t),e.editing.view.focus()):this.cancel()},cancel(){l=Object.assign({},l,{isEditable:!1}),o({domElement:a,editor:e,state:l,props:c}),e.editing.view.focus(),n.change(e=>{e.removeAttribute("data-cke-ignore-events",u)})}};l={showPreviews:i.showPreviews,isEditable:!1,getRawHtmlValue:()=>r.getAttribute("value")||""},c={sanitizeHtml:i.sanitizeHtml,textareaPlaceholder:t("Paste raw HTML here..."),onEditClick(){d.makeEditable()},onSaveClick(e){d.save(e)},onCancelClick(){d.cancel()}};const h=s.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":t("HTML snippet"),dir:e.locale.uiLanguageDirection},u);return s.setCustomProperty("rawHtmlApi",d,h),s.setCustomProperty("rawHtml",!0,h),Q_(h,s,{label:t("HTML snippet"),hasSelectionHandle:!0})}})}}function aE(e,t,n){const{t:r}=e.locale,i=new Wy(e.locale),o=e.commands.get("htmlEmbed");return i.set({class:`raw-html-embed__${t}-button`,icon:uy,tooltip:!0,tooltipPosition:"rtl"===e.locale.uiLanguageDirection?"e":"w"}),i.render(),"edit"===t?(i.set({icon:uy,label:r("Edit source")}),i.bind("isEnabled").to(o)):"save"===t?(i.set({icon:ny,label:r("Save changes")}),i.bind("isEnabled").to(o)):i.set({icon:ty,label:r("Cancel")}),i.on("execute",n),i}class lE extends zb{static get pluginName(){return"HtmlEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("htmlEmbed",()=>{const e=this._createButton(Wy);return e.set({tooltip:!0,label:t("Insert HTML")}),e}),e.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const e=this._createButton(lv);return e.set({label:t("HTML snippet")}),e})}_createButton(e){const t=this.editor,n=t.commands.get("htmlEmbed"),r=new e(t.locale);return r.set({icon:yy}),r.bind("isEnabled").to(n,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("htmlEmbed"),t.editing.view.focus(),t.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),r}}class cE extends zb{static get requires(){return[sE,lE,ux]}static get pluginName(){return"HtmlEmbed"}static get isOfficialPlugin(){return!0}}new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class uE{_definitions=new Set;get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(e=>this._definitions.add(e)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref"))return;if(!t.item.is("selection")&&!n.schema.isInline(t.item))return;const r=n.writer,i=r.document.selection;for(const e of this._definitions){const o=r.createAttributeElement("a",e.attributes,{priority:5});e.classes&&r.addClass(e.classes,o);for(const t in e.styles)r.setStyle(t,e.styles[t],o);r.setCustomProperty("link",!0,o),e.callback(t.attributeNewValue)?t.item.is("selection")?r.wrap(i.getFirstRange(),o):r.wrap(n.mapper.toViewRange(t.range),o):r.unwrap(n.mapper.toViewRange(t.range),o)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(e,t,{writer:n,mapper:r})=>{const i=r.toViewElement(t.item),o=Array.from(i.getChildren()).find(e=>e.is("element","a"));if(o)for(const e of this._definitions){const r=jh(e.attributes);if(e.callback(t.attributeNewValue)){for(const[e,t]of r)"class"===e?n.addClass(t,o):n.setAttribute(e,t,o);e.classes&&n.addClass(e.classes,o);for(const t in e.styles)n.setStyle(t,e.styles[t],o)}else{for(const[e,t]of r)"class"===e?n.removeClass(t,o):n.removeAttribute(e,o);e.classes&&n.removeClass(e.classes,o);for(const t in e.styles)n.removeStyle(t,o)}}})}}}const dE=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,hE=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,pE=/^((\w+:(\/{2,})?)|(\W))/i,fE=["https?","ftps?","mailto"],mE="Ctrl+K";function gE(e,{writer:t}){const n=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,n),n}function bE(e,t=fE){const n=String(e),r=t.join("|");return function(e,t){return!!e.replace(dE,"").match(t)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",r)}`,"i"))?n:"#"}function yE(e,t){return!!e&&t.checkAttribute(e.name,"linkHref")}function vE(e,t){const n=function(e){return hE.test(e)}(e)?"mailto:":t,r=!!n&&!wE(e);return e&&r?n+e:e}function wE(e){return pE.test(e)}function _E(e){window.open(e,"_blank","noopener")}class xE extends qb{manualDecorators=new Ch;automaticDecorators=new uE;restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Th(t.getSelectedBlocks());yE(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}execute(e,t={}){const n=this.editor.model,r=n.document.selection,i=[],o=[];for(const e in t)t[e]?i.push(e):o.push(e);n.change(t=>{if(r.isCollapsed){const s=r.getFirstPosition();if(r.hasAttribute("linkHref")){const a=EE(r);let l=w_(s,"linkHref",r.getAttribute("linkHref"),n);r.getAttribute("linkHref")===a&&(l=this._updateLinkContent(n,t,l,e)),t.setAttribute("linkHref",e,l),i.forEach(e=>{t.setAttribute(e,!0,l)}),o.forEach(e=>{t.removeAttribute(e,l)}),t.setSelection(t.createPositionAfter(l.end.nodeBefore))}else if(""!==e){const o=jh(r.getAttributes());o.set("linkHref",e),i.forEach(e=>{o.set(e,!0)});const{end:a}=n.insertContent(t.createText(e,o),s);t.setSelection(a)}["linkHref",...i,...o].forEach(e=>{t.removeSelectionAttribute(e)})}else{const s=n.schema.getValidRanges(r.getRanges(),"linkHref"),a=[];for(const e of r.getSelectedBlocks())n.schema.checkAttribute(e,"linkHref")&&a.push(t.createRangeOn(e));const l=a.slice();for(const e of s)this._isRangeToUpdate(e,a)&&l.push(e);for(const s of l){let a=s;if(1===l.length){const i=EE(r);r.getAttribute("linkHref")===i&&(a=this._updateLinkContent(n,t,s,e),t.setSelection(t.createSelection(a)))}t.setAttribute("linkHref",e,a),i.forEach(e=>{t.setAttribute(e,!0,a)}),o.forEach(e=>{t.removeAttribute(e,a)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,r=n.getSelectedElement();return yE(r,t.schema)?r.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,r){const i=t.createText(r,{linkHref:r});return e.insertContent(i,n)}}function EE(e){if(e.isCollapsed){const t=e.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(e.getFirstRange().getItems());if(t.length>1)return null;const n=t[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class kE extends qb{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();yE(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,r=e.commands.get("link");t.change(e=>{const i=n.isCollapsed?[w_(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const t of i)if(e.removeAttribute("linkHref",t),r)for(const n of r.manualDecorators)e.removeAttribute(n.id,t)})}}class AE extends(gd()){id;defaultValue;label;attributes;classes;styles;constructor({id:e,label:t,attributes:n,classes:r,styles:i,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=n,this.classes=r,this.styles=i}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const SE="automatic",PE=/^(https?:)?\/\//;class CE extends zb{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[h_,Qw,yx]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:gE}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,n)=>gE(bE(e,t),n)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new xE(e)),e.commands.add("unlink",new kE(e));const n=function(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach(e=>("label"in e&&n[e.label]&&(e.label=n[e.label]),e)),t}(e.t,function(e){const t=[];if(e)for(const[n,r]of Object.entries(e)){const e=Object.assign({},r,{id:`link${(0,ku.upperFirst)(n)}`});t.push(e)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(e=>e.mode===SE)),this._enableManualDecorators(n.filter(e=>"manual"===e.mode)),e.plugins.get(h_).registerAttribute("linkHref"),function(e,t,n,r){const i=e.editing.view,o=new Set;i.document.registerPostFixer(n=>{const i=e.model.document.selection;let s=!1;if(i.hasAttribute(t)){const a=w_(i.getFirstPosition(),t,i.getAttribute(t),e.model),l=e.editing.mapper.toViewRange(a);for(const e of l.getItems())e.is("element","a")&&!e.hasClass(r)&&(n.addClass(r,e),o.add(e),s=!0)}return s}),e.conversion.for("editingDowncast").add(e=>{function t(){i.change(e=>{for(const t of o.values())e.removeClass(r,t),o.delete(t)})}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})})}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:SE,callback:e=>!!e&&PE.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(e=>{t.model.schema.extend("$text",{allowAttributes:e.id});const r=new AE(e);n.add(r),t.conversion.for("downcast").attributeToElement({model:r.id,view:(e,{writer:t,schema:n},{item:i})=>{if((i.is("selection")||n.isInline(i))&&e){const e=t.createAttributeElement("a",r.attributes,{priority:5});r.classes&&t.addClass(r.classes,e);for(const n in r.styles)t.setStyle(n,r.styles[n],e);return t.setCustomProperty("link",!0,e),e}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...r._createPattern()},model:{key:r.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(e,t)=>{if(!(Tu.isMac?t.domEvent.metaKey:t.domEvent.ctrlKey))return;let n=t.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const r=n.getAttribute("href");r&&(e.stop(),t.preventDefault(),_E(r))},{context:"$capture"}),this.listenTo(t,"keydown",(t,n)=>{const r=e.commands.get("link").value;r&&n.keyCode===bh.enter&&n.altKey&&(t.stop(),_E(r))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:r})=>{r.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(t=>{var n;!function(e,t){e.removeSelectionAttribute("linkHref");for(const n of t)e.removeSelectionAttribute(n)}(t,(n=e.schema,n.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(e,r)=>{t.change(e=>{const t=e.createRangeIn(r.content);for(const r of t.getItems())if(r.hasAttribute("linkHref")){const t=vE(r.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,r)}})})}}class TE extends Uy{focusTracker=new Oh;keystrokes=new Nh;urlInputView;saveButtonView;cancelButtonView;_manualDecoratorSwitches;children;_validators;_focusables=new vy;_focusCycler;constructor(e,t,n){super(e);const r=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),ny,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),ty,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Yy({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),function({view:e}){e.listenTo(e.element,"submit",(t,n)=>{n.preventDefault(),e.fire("submit")},{useCapture:!0})}({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new wv(this.locale,Jv);return t.fieldView.inputMode="url",t.label=e("Link URL"),t}_createButton(e,t,n,r){const i=new Wy(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const r=new mv(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,e],"value",(e,t)=>void 0===t&&void 0===e?!!n.defaultValue:!!e),r.on("execute",()=>{n.set("value",!r.isOn)}),t.add(r)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new Uy;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class OE extends Uy{focusTracker=new Oh;keystrokes=new Nh;previewButtonView;unlinkButtonView;editButtonView;_focusables=new vy;_focusCycler;_linkConfig;constructor(e,t={}){super(e);const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),uy,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Yy({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const r=new Wy(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const e=new Wy(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&bE(e,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",e=>e||n("This link has no URL")),e.bind("isEnabled").to(this,"href",e=>!!e),e.template.tag="a",e.template.eventListeners={},e}}const ME="link-ui";class DE extends zb{actionsView=null;formView=null;_balloon;static get requires(){return[Iw]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(Tb),this._balloon=e.plugins.get(Iw),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:ME,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ME,view:(e,{writer:t})=>{if(!e.markerRange.isCollapsed)return null;const n=t.createUIElement("span");return t.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],n),n}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:mE},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new OE(e.locale,e.config.get("link")),n=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(e,t)=>{this._hideUI(),t()}),t.keystrokes.set(mE,(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),r=new(i=TE,class extends i{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}})(e.locale,t,function(e){const t=e.t,n=e.config.get("link.allowCreatingEmptyLinks");return[e=>{if(!n&&!e.url.length)return t("Link URL must not be empty.")}]}(e));var i;return r.urlInputView.fieldView.bind("value").to(t,"value"),r.urlInputView.bind("isEnabled").to(t,"isEnabled"),r.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(r,"submit",()=>{if(r.isValid()){const{value:t}=r.urlInputView.fieldView.element,i=vE(t,n);e.execute("link",i,r.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(r.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(e,t)=>{this._closeFormView(),t()}),r}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const e=this._createButton(Wy);return e.set({tooltip:!0}),e}),e.ui.componentFactory.add("menuBar:link",()=>{const e=this._createButton(lv);return e.set({role:"menuitemcheckbox"}),e})}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("link"),i=new e(t.locale),o=n.t;return i.set({label:o("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:mE,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",e=>!!e),this.listenTo(i,"execute",()=>this._showUI(!0)),i}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(mE,(t,n)=>{n(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),qy({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),r=o();const i=()=>{const e=this._getSelectedLinkElement(),t=o();n&&!e||!n&&t!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,r=t};function o(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let r;if(t.markers.has(ME)){const t=Array.from(this.editor.editing.mapper.markerNameToElements(ME)),n=e.createRange(e.createPositionBefore(t[0]),e.createPositionAfter(t[t.length-1]));r=e.domConverter.viewRangeToDom(n)}else r=()=>{const t=this._getSelectedLinkElement();return t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&K_(n))return IE(t.getFirstPosition());{const n=t.getFirstRange().getTrimmed(),r=IE(n.start),i=IE(n.end);return r&&r==i&&e.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(ME))t.updateMarker(ME,{range:n});else if(n.start.isAtEnd){const r=n.start.getLastMatchingPosition(({item:t})=>!e.schema.isContent(t),{boundaries:n});t.addMarker(ME,{usingOperation:!1,affectsData:!1,range:t.createRange(r,n.end)})}else t.addMarker(ME,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ME)&&e.change(e=>{e.removeMarker(ME)})}}function IE(e){return e.getAncestors().find(e=>function(e){return e.is("attributeElement")&&!!e.getCustomProperty("link")}(e))||null}const NE=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class jE extends zb{static get requires(){return[l_,CE]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?w_(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,r=n.document.selection,i=r.getFirstPosition(),o=r.getLastPosition();let s=t.getJoined(this._expandLinkRange(n,i)||t);s&&(s=s.getJoined(this._expandLinkRange(n,o)||t)),s&&(s.start.isBefore(i)||s.end.isAfter(o))&&e.setSelection(s)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,r=e.plugins.get("ClipboardPipeline"),i=e.commands.get("link");r.on("inputTransformation",(e,r)=>{if(!this.isEnabled||!i.isEnabled||n.isCollapsed||"paste"!==r.method)return;if(n.rangeCount>1)return;const o=n.getFirstRange(),s=r.dataTransfer.getData("text/plain");if(!s)return;const a=s.match(NE);a&&a[2]===s&&(t.change(e=>{this._selectEntireLinks(e,o),i.execute(s)}),e.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new d_(e.model,e=>{if(!function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e))return;const t=RE(e.substr(0,e.length-1));return t?{url:t}:void 0});t.on("matched:data",(t,n)=>{const{batch:r,range:i,url:o}=n;if(!r.isTyping)return;const s=i.end.getShiftedBy(-1),a=s.getShiftedBy(-o.length),l=e.model.createRange(a,s);this._applyAutoLink(o,l)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const e=t.document.selection.getFirstPosition();if(!e.parent.previousSibling)return;const n=t.createRangeIn(e.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const e=t.document.selection.getFirstPosition(),n=t.createRange(t.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:r}=u_(e,t),i=RE(n);if(i){const e=t.createRange(r.end.getShiftedBy(-i.length),r.end);this._applyAutoLink(i,e)}}_applyAutoLink(e,t){const n=this.editor.model,r=vE(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,n)&&wE(r)&&!function(e){const t=e.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}(t)&&this._persistAutoLink(r,t)}_persistAutoLink(e,t){const n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange(i=>{i.setAttribute("linkHref",e,t),n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function RE(e){const t=NE.exec(e);return t?t[2]:null}class LE extends zb{static get requires(){return[CE,DE,jE]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class FE{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward="forward"==t.direction,this._includeSelf=!!t.includeSelf,this._sameAttributes=Sh(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return Th(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of BE(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(e=>t.getAttribute(e)!==this._startElement.getAttribute(e)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*BE(e,t="forward"){const n="forward"==t,r=[];let i=null;for(;UE(e);){let t=null;if(i){const n=e.getAttribute("listIndent"),o=i.getAttribute("listIndent");n>o?r[o]=i:n<o?(t=r[n],r.length=n):t=i}yield{node:e,previous:i,previousNodeInList:t},i=e,e=n?e.nextSibling:e.previousSibling}}class VE{_listHead;constructor(e){this._listHead=e}[Symbol.iterator](){return BE(this._listHead,"forward")}}class zE{static next(){return Hu()}}function UE(e){return!!e&&e.is("element")&&e.hasAttribute("listItemId")}function qE(e,t={}){return[...HE(e,{...t,direction:"backward"}),...HE(e,{...t,direction:"forward"})]}function HE(e,t={}){const n="forward"==t.direction,r=Array.from(new FE(e,{...t,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?r:r.reverse()}function $E(e,t){const n=new FE(e,{sameIndent:!0,sameAttributes:"listType",...t}),r=new FE(e,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(n).reverse(),...r]}function WE(e){return!FE.first(e,{sameIndent:!0,sameAttributes:"listItemId"})}function GE(e){return!FE.first(e,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function JE(e,t={}){e=Sh(e);const n=!1!==t.withNested,r=new Set;for(const t of e)for(const e of qE(t,{higherIndent:n}))r.add(e);return ek(r)}function YE(e,t){const n=HE(e,{direction:"forward"}),r=zE.next();for(const e of n)t.setAttribute("listItemId",r,e);return n}function KE(e,t,n){const r={};for(const[e,n]of t.getAttributes())e.startsWith("list")&&(r[e]=n);const i=HE(e,{direction:"forward"});for(const e of i)n.setAttributes(r,e);return i}function QE(e,t,{expand:n,indentBy:r=1}={}){e=Sh(e);const i=n?JE(e):e;for(const e of i){const n=e.getAttribute("listIndent")+r;n<0?XE(e,t):t.setAttribute("listIndent",n,e)}return i}function XE(e,t){e=Sh(e);for(const n of e)n.is("element","listItem")&&t.rename(n,"paragraph");for(const n of e)for(const e of n.getAttributeKeys())e.startsWith("list")&&t.removeAttribute(e,n);return e}function ZE(e){if(!e.length)return!1;const t=e[0].getAttribute("listItemId");return!!t&&!e.some(e=>e.getAttribute("listItemId")!=t)}function ek(e){return Array.from(e).filter(e=>"$graveyard"!==e.root.rootName).sort((e,t)=>e.index-t.index)}function tk(e){const t=e.document.selection.getSelectedElement();return t&&e.schema.isObject(t)&&e.schema.isBlock(t)?t:null}function nk(e,t){return t.checkChild(e.parent,"listItem")&&t.checkChild(e,"$text")&&!t.isObject(e)}function rk(e,t,n){return HE(t,{direction:"forward"}).pop().index>e.index?KE(e,t,n):[]}class ik extends qb{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=ok(e.document.selection);e.change(e=>{const n=[];ZE(t)&&!WE(t[0])?("forward"==this._direction&&n.push(...QE(t,e)),n.push(...YE(t[0],e))):"forward"==this._direction?n.push(...QE(t,e,{expand:!0})):n.push(...function(e,t){const n=JE(e=Sh(e)),r=new Set,i=Math.min(...n.map(e=>e.getAttribute("listIndent"))),o=new Map;for(const e of n)o.set(e,FE.first(e,{lowerIndent:!0}));for(const e of n){if(r.has(e))continue;r.add(e);const n=e.getAttribute("listIndent")-1;if(n<0)XE(e,t);else{if(e.getAttribute("listIndent")==i){const n=rk(e,o.get(e),t);for(const e of n)r.add(e);if(n.length)continue}t.setAttribute("listIndent",n,e)}}return ek(r)}(t,e));for(const t of n){if(!t.hasAttribute("listType"))continue;const n=FE.first(t,{sameIndent:!0});n&&e.setAttribute("listType",n.getAttribute("listType"),t)}this._fireAfterExecute(n)})}_fireAfterExecute(e){this.fire("afterExecute",ek(new Set(e)))}_checkEnabled(){let e=ok(this.editor.model.document.selection),t=e[0];if(!t)return!1;if("backward"==this._direction)return!0;if(ZE(e)&&!WE(e[0]))return!0;e=JE(e),t=e[0];const n=FE.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function ok(e){const t=Array.from(e.getSelectedBlocks()),n=t.findIndex(e=>!UE(e));return-1!=n&&(t.length=n),t}class sk extends qb{type;_listWalkerOptions;constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,r=tk(t),i=Array.from(n.selection.getSelectedBlocks()).filter(e=>t.schema.checkAttribute(e,"listType")||nk(e,t.schema)),o=void 0!==e.forceValue?!e.forceValue:this.value;t.change(s=>{if(o){const e=i[i.length-1],t=HE(e,{direction:"forward"}),n=[];t.length>1&&n.push(...YE(t[1],s)),n.push(...XE(i,s)),n.push(...function(e,t){const n=[];let r=Number.POSITIVE_INFINITY;for(const{node:i}of BE(e.nextSibling,"forward")){const e=i.getAttribute("listIndent");if(0==e)break;e<r&&(r=e);const o=e-r;t.setAttribute("listIndent",o,i),n.push(i)}return n}(e,s)),this._fireAfterExecute(n)}else if((r||n.selection.isCollapsed)&&UE(i[0])){const t=$E(r||i[0],this._listWalkerOptions);for(const n of t)s.setAttributes({...e.additionalAttributes,listType:this.type},n);this._fireAfterExecute(t)}else{const n=[];for(const r of i)if(r.hasAttribute("listType"))for(const t of JE(r,{withNested:!1}))t.getAttribute("listType")!=this.type&&(s.setAttributes({...e.additionalAttributes,listType:this.type},t),n.push(t));else!r.is("element","listItem")&&nk(r,t.schema)&&s.rename(r,"listItem"),s.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:zE.next(),listType:this.type},r),n.push(r);this._fireAfterExecute(n)}})}_fireAfterExecute(e){this.fire("afterExecute",ek(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const e of t)if(e.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const e of r)if(t.checkAttribute(e,"listType")||nk(e,t))return!0;return!1}}class ak extends qb{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,r=[];t.change(i=>{const{firstElement:o,lastElement:s}=this._getMergeSubjectElements(n,e),a=o.getAttribute("listIndent")||0,l=s.getAttribute("listIndent"),c=s.getAttribute("listItemId");if(a!=l){const e=(u=s,Array.from(new FE(u,{direction:"forward",higherIndent:!0})));r.push(...QE([s,...e],i,{indentBy:a-l,expand:a<l}))}var u;if(e){let e=n;n.isCollapsed&&(e=i.createSelection(i.createRange(i.createPositionAt(o,"end"),i.createPositionAt(s,0)))),t.deleteContent(e,{doNotResetEntireContent:n.isCollapsed});const a=e.getLastPosition().parent,l=a.nextSibling;r.push(a),l&&l!==s&&l.getAttribute("listItemId")==c&&r.push(...KE(l,a,i))}else r.push(...KE(s,o,i));this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",ek(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=tk(e);if(t.isCollapsed||n){const e=n||t.getFirstPosition().parent;if(!UE(e))return!1;const r="backward"==this._direction?e.previousSibling:e.nextSibling;if(!r)return!1;if(ZE([e,r]))return!1}else{const e=t.getLastPosition(),n=t.getFirstPosition();if(e.parent===n.parent)return!1;if(!UE(e.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=tk(this.editor.model);let r,i;if(e.isCollapsed||n){const o=n||e.getFirstPosition().parent,s=WE(o);"backward"==this._direction?(i=o,r=s&&!t?FE.first(o,{sameIndent:!0,lowerIndent:!0}):o.previousSibling):(r=o,i=o.nextSibling)}else r=e.getFirstPosition().parent,i=e.getLastPosition().parent;return{firstElement:r,lastElement:i}}}class lk extends qb{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=YE(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",ek(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&UE(t)&&!WE(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?e:e.nextSibling}}class ck extends zb{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return function(e){e=Sh(e);const t=new Set;for(const n of e)for(const e of $E(n))t.add(e);return ek(t)}(e)}isFirstBlockOfListItem(e){return WE(e)}isListItemBlock(e){return UE(e)}expandListBlocksToCompleteItems(e,t={}){return JE(e,t)}isNumberedListType(e){return function(e){return"numbered"==e||"customNumbered"==e}(e)}}function uk(e){return e.is("element","ol")||e.is("element","ul")}function dk(e){return e.is("element","li")}function hk(e,t,n,r=mk(n,t)){return e.createAttributeElement(fk(n),null,{priority:2*t/100-100,id:r})}function pk(e,t,n){return e.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:n})}function fk(e){return"numbered"==e||"customNumbered"==e?"ol":"ul"}function mk(e,t){return`list-${e}-${t}`}function gk(e,t){const n=e.nodeBefore;if(UE(n)){let e=n;for(const{node:n}of BE(e,"backward"))if(e=n,t.has(e))return;t.set(n,e)}else{const n=e.nodeAfter;UE(n)&&t.set(n,n)}}function bk(e,t,n,{dataPipeline:r}={}){const i=function(e){return(t,n)=>{const r=[];for(const n of e)t.hasAttribute(n)&&r.push(`attribute:${n}`);return!!r.every(e=>!1!==n.test(t,e))&&(r.forEach(e=>n.consume(t,e)),!0)}}(e);return(o,s,a)=>{const{writer:l,mapper:c,consumable:u}=a,d=s.item;if(!e.includes(s.attributeKey))return;if(!i(d,u))return;const h=function(e,t,n){const r=n.createRangeOn(e);return t.toViewRange(r).getTrimmed().end.nodeBefore}(d,c,n);vk(h,l,c),function(e,t){let n=e.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const r=n.parent;t.unwrap(t.createRangeOn(e),n),n=r}}(h,l);const p=function(e,t,n,r,{dataPipeline:i}){let o=r.createRangeOn(t);if(!WE(e))return o;for(const s of n){if("itemMarker"!=s.scope)continue;const n=s.createElement(r,e,{dataPipeline:i});if(!n)continue;if(r.setCustomProperty("listItemMarker",!0,n),s.canInjectMarkerIntoElement&&s.canInjectMarkerIntoElement(e)?r.insert(r.createPositionAt(t,0),n):(r.insert(o.start,n),o=r.createRange(r.createPositionBefore(n),r.createPositionAfter(t))),!s.createWrapperElement||!s.canWrapElement)continue;const a=s.createWrapperElement(r,e,{dataPipeline:i});r.setCustomProperty("listItemWrapper",!0,a),s.canWrapElement(e)?o=r.wrap(o,a):(o=r.wrap(r.createRangeOn(n),a),o=r.createRange(o.start,r.createPositionAfter(t)))}return o}(d,h,t,l,{dataPipeline:r});!function(e,t,n,r){if(!e.hasAttribute("listIndent"))return;const i=e.getAttribute("listIndent");let o=e;for(let e=i;e>=0;e--){const i=pk(r,e,o.getAttribute("listItemId")),s=hk(r,e,o.getAttribute("listType"));for(const e of n)"list"!=e.scope&&"item"!=e.scope||!o.hasAttribute(e.attributeName)||e.setAttributeOnDowncast(r,o.getAttribute(e.attributeName),"list"==e.scope?s:i);if(t=r.wrap(t,i),t=r.wrap(t,s),0==e)break;if(o=FE.first(o,{lowerIndent:!0}),!o)break}}(d,p,t,l)}}function yk(e,{dataPipeline:t}={}){return(n,{writer:r})=>{if(!wk(n,e))return null;if(!t)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function vk(e,t,n){for(;e.parent.is("attributeElement")&&e.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(e),e.parent);const r=[];i(t.createPositionBefore(e).getWalker({direction:"backward"})),i(t.createRangeIn(e).getWalker());for(const e of r)t.remove(e);function i(e){for(const{item:t}of e){if(t.is("element")&&n.toModelElement(t))break;t.is("element")&&t.getCustomProperty("listItemMarker")&&r.push(t)}}}function wk(e,t,n=qE(e)){if(!UE(e))return!1;for(const n of e.getAttributeKeys())if(!n.startsWith("selection:")&&!t.includes(n))return!1;return n.length<2}const _k=["listType","listIndent","listItemId"];class xk extends zb{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[V_,l_,ck,yx]}constructor(e){super(e),e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new Gu("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:_k}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const e of _k)t.schema.setAttributeProperties(e,{copyOnReplace:!0});e.commands.add("numberedList",new sk(e,"numbered")),e.commands.add("bulletedList",new sk(e,"bulleted")),e.commands.add("customNumberedList",new sk(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new sk(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new ik(e,"forward")),e.commands.add("outdentList",new ik(e,"backward")),e.commands.add("splitListItemBefore",new lk(e,"before")),e.commands.add("splitListItemAfter",new lk(e,"after")),n&&(e.commands.add("mergeListItemBackward",new ak(e,"backward")),e.commands.add("mergeListItemForward",new ak(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[..._k,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(r,i)=>{const o=e.model.document.selection;tk(e.model)||e.model.change(()=>{const s=o.getFirstPosition();if(o.isCollapsed&&"backward"==i.direction){if(!s.isAtStart)return;const n=s.parent;if(!UE(n))return;if(FE.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:Ek(e.model,"backward")})}else GE(n)||e.execute("splitListItemAfter"),e.execute("outdentList");i.preventDefault(),r.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:Ek(e.model,"forward")}),i.preventDefault(),r.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,r=n.get("enter");this.listenTo(e.editing.view.document,"enter",(n,r)=>{const i=t.document,o=i.selection.getFirstPosition().parent;if(i.selection.isCollapsed&&UE(o)&&o.isEmpty&&!r.isSoft){const t=WE(o),i=GE(o);t&&i?(e.execute("outdentList"),r.preventDefault(),n.stop()):t&&!i?(e.execute("splitListItemAfter"),r.preventDefault(),n.stop()):i&&(e.execute("splitListItemBefore"),r.preventDefault(),n.stop())}},{context:"li"}),this.listenTo(r,"afterExecute",()=>{const t=n.get("splitListItemBefore");t.refresh(),t.isEnabled&&2===qE(e.model.document.selection.getLastPosition().parent).length&&t.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const r=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),i=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(e,{writer:t})=>t.createElement(i,{listType:""})}).elementToElement({view:"p",model:(e,{writer:t})=>e.parent&&e.parent.is("element","li")?t.createElement(i,{listType:""}):null,converterPriority:"high"}).add(e=>{e.on("element:li",(e,t,n)=>{const{writer:r,schema:i}=n;if(!t.modelRange)return;const o=Array.from(t.modelRange.getItems({shallow:!0})).filter(e=>i.checkAttribute(e,"listItemId"));if(!o.length)return;const s=zE.next(),a=function(e){let t=0,n=e.parent;for(;n;){if(dk(n))t++;else{const e=n.previousSibling;e&&dk(e)&&t++}n=n.parent}return t}(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=o[0].getAttribute("listType");c&&(l=c);const u={listItemId:s,listIndent:a,listType:l};for(const e of o)e.hasAttribute("listItemId")||r.setAttributes(u,e);o.length>1&&o[1].getAttribute("listItemId")!=u.listItemId&&n.keepEmptyElement(o[0])})}),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:i,view:yk(n),converterPriority:"high"}).add(e=>{var r;e.on("attribute",bk(n,this._downcastStrategies,t)),e.on("remove",(r=t.schema,(e,t,n)=>{const{writer:i,mapper:o}=n,s=e.name.split(":")[1];if(!r.checkAttribute(s,"listItemId"))return;const a=o.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),c=o.toViewPosition(l,{isPhantom:!0}),u=i.createRange(a,c).getTrimmed().end.nodeBefore;u&&vk(u,i,o)}))}),e.conversion.for("dataDowncast").elementToElement({model:i,view:yk(n,{dataPipeline:!0}),converterPriority:"high"}).add(e=>{e.on("attribute",bk(n,this._downcastStrategies,t,{dataPipeline:!0}))});const o=(s=this._downcastStrategies,a=e.editing.view,(e,t)=>{if(t.modelPosition.offset>0)return;const n=t.modelPosition.parent;if(!UE(n))return;if(!s.some(e=>"itemMarker"==e.scope&&e.canInjectMarkerIntoElement&&e.canInjectMarkerIntoElement(n)))return;const r=t.mapper.toViewElement(n),i=a.createRangeIn(r),o=i.getWalker();let l=i.start;for(const{item:e}of o){if(e.is("element")&&t.mapper.toModelElement(e)||e.is("$textProxy"))break;e.is("element")&&e.getCustomProperty("listItemMarker")&&(l=a.createPositionAfter(e),o.skip(({previousPosition:e})=>!e.isEqual(l)))}t.viewPosition=l});var s,a;e.editing.mapper.on("modelToViewPosition",o),e.data.mapper.on("modelToViewPosition",o),this.listenTo(t.document,"change:data",function(e,t,n,r){return()=>{const r=e.document.differ.getChanges(),s=[],a=new Map,l=new Set;for(const e of r)if("insert"==e.type&&"$text"!=e.name)gk(e.position,a),e.attributes.has("listItemId")?l.add(e.position.nodeAfter):gk(e.position.getShiftedBy(e.length),a);else if("remove"==e.type&&e.attributes.has("listItemId"))gk(e.position,a);else if("attribute"==e.type){const t=e.range.start.nodeAfter;n.includes(e.attributeKey)?(gk(e.range.start,a),null===e.attributeNewValue?(gk(e.range.start.getShiftedBy(1),a),o(t)&&s.push(t)):l.add(t)):UE(t)&&o(t)&&s.push(t)}for(const e of a.values())s.push(...i(e,l));for(const e of new Set(s))t.reconvertItem(e)};function i(e,t){const r=[],i=new Set,a=[];for(const{node:l,previous:c}of BE(e,"forward")){if(i.has(l))continue;const e=l.getAttribute("listIndent");c&&e<c.getAttribute("listIndent")&&(a.length=e+1),a[e]=Object.fromEntries(Array.from(l.getAttributes()).filter(([e])=>n.includes(e)));const u=HE(l,{direction:"forward"});for(const e of u)i.add(e),(o(e,u)||s(e,a,t))&&r.push(e)}return r}function o(e,i){const o=t.mapper.toViewElement(e);if(!o)return!1;if(r.fire("checkElement",{modelElement:e,viewElement:o}))return!0;if(!e.is("element","paragraph")&&!e.is("element","listItem"))return!1;const s=wk(e,n,i);return!(!s||!o.is("element","p"))||!(s||!o.is("element","span"))}function s(e,n,i){if(i.has(e))return!1;const o=t.mapper.toViewElement(e);let s=n.length-1;for(let e=o.parent;!e.is("editableElement");e=e.parent){const t=dk(e),i=uk(e);if(!i&&!t)continue;const o="checkAttributes:"+(t?"item":"list");if(r.fire(o,{viewElement:e,modelAttributes:n[s]}))break;if(i&&(s--,s<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(e,{viewElement:t,modelAttributes:n})=>{t.id!=n.listItemId&&(e.return=!0,e.stop())}),this.on("checkAttributes:list",(e,{viewElement:t,modelAttributes:n})=>{t.name==fk(n.listType)&&t.id==mk(n.listType,n.listIndent)||(e.return=!0,e.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(e,t,n,r){const i=e.document.differ.getChanges(),o=new Map,s=r.editor.config.get("list.multiBlock");let a=!1;for(const r of i){if("insert"==r.type&&"$text"!=r.name){const i=r.position.nodeAfter;if(!e.schema.checkAttribute(i,"listItemId"))for(const e of Array.from(i.getAttributeKeys()))n.includes(e)&&(t.removeAttribute(e,i),a=!0);gk(r.position,o),r.attributes.has("listItemId")||gk(r.position.getShiftedBy(r.length),o);for(const{item:t,previousPosition:n}of e.createRangeIn(i))UE(t)&&gk(n,o)}else"remove"==r.type?gk(r.position,o):"attribute"==r.type&&n.includes(r.attributeKey)&&(gk(r.range.start,o),null===r.attributeNewValue&&gk(r.range.start.getShiftedBy(1),o));if(!s&&"attribute"==r.type&&_k.includes(r.attributeKey)){const e=r.range.start.nodeAfter;null===r.attributeNewValue&&e&&e.is("element","listItem")?(t.rename(e,"paragraph"),a=!0):null===r.attributeOldValue&&e&&e.is("element")&&"listItem"!=e.name&&(t.rename(e,"listItem"),a=!0)}}const l=new Set;for(const e of o.values())a=r.fire("postFixer",{listNodes:new VE(e),listHead:e,writer:t,seenIds:l})||a;return a}(e,n,t,this)),this.on("postFixer",(e,{listNodes:t,writer:n})=>{e.return=function(e,t){let n=0,r=-1,i=null,o=!1;for(const{node:s}of e){const e=s.getAttribute("listIndent");if(e>n){let a;null===i?(i=e-n,a=n):(i>e&&(i=e),a=e-i),a>r+1&&(a=r+1),t.setAttribute("listIndent",a,s),o=!0,r=a}else i=null,n=e+1,r=e}return o}(t,n)||e.return},{priority:"high"}),this.on("postFixer",(e,{listNodes:t,writer:n,seenIds:r})=>{e.return=function(e,t,n){const r=new Set;let i=!1;for(const{node:o}of e){if(r.has(o))continue;let e=o.getAttribute("listType"),s=o.getAttribute("listItemId");if(t.has(s)&&(s=zE.next()),t.add(s),o.is("element","listItem"))o.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,o),i=!0);else for(const t of HE(o,{direction:"forward"}))r.add(t),t.getAttribute("listType")!=e&&(s=zE.next(),e=t.getAttribute("listType")),t.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,t),i=!0)}return i}(t,r,n)||e.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(e){return(t,[n,r])=>{const i=n.is("documentFragment")?Array.from(n.getChildren()):[n];if(!i.length)return;const o=(r?e.createSelection(r):e.document.selection).getFirstPosition();let s;if(UE(o.parent))s=o.parent;else{if(!UE(o.nodeBefore))return;s=o.nodeBefore}e.change(e=>{const t=s.getAttribute("listType"),n=s.getAttribute("listIndent"),r=i[0].getAttribute("listIndent")||0,o=Math.max(n-r,0);for(const n of i){const r=UE(n);s.is("element","listItem")&&n.is("element","paragraph")&&e.rename(n,"listItem"),e.setAttributes({listIndent:(r?n.getAttribute("listIndent"):0)+o,listItemId:r?n.getAttribute("listItemId"):zE.next(),listType:t},n)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(t,n)=>{e.change(e=>{const t=Array.from(n.content.getChildren()),r=t[t.length-1];if(t.length>1&&r.is("element")&&r.isEmpty&&t.slice(0,-1).every(UE)&&e.remove(r),"copy"==n.method||"cut"==n.method){const t=Array.from(n.content.getChildren());ZE(t)&&XE(t,e)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function Ek(e,t){const n=e.document.selection;if(!n.isCollapsed)return!tk(e);if("forward"===t)return!0;const r=n.getFirstPosition().parent,i=r.previousSibling;return!e.schema.isObject(i)&&(!!i.isEmpty||ZE([r,i]))}function kk(e,t,n,r){e.ui.componentFactory.add(t,()=>{const i=Ak(Wy,e,t,n,r);return i.set({tooltip:!0,isToggleable:!0}),i}),e.ui.componentFactory.add(`menuBar:${t}`,()=>{const i=Ak(lv,e,t,n,r);return i.set({role:"menuitemcheckbox",isToggleable:!0}),i})}function Ak(e,t,n,r,i){const o=t.commands.get(n),s=new e(t.locale);return s.set({label:r,icon:i}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",()=>{t.execute(n),t.editing.view.focus()}),s}class Sk extends zb{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||kk(this.editor,"numberedList",e("Numbered List"),by),this.editor.ui.componentFactory.has("bulletedList")||kk(this.editor,"bulletedList",e("Bulleted List"),gy)}}class Pk extends zb{static get requires(){return[xk,Sk]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const Ck={},Tk={},Ok={},Mk=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:e,typeAttribute:t,listType:n}of Mk)Ck[e]=n,Tk[e]=t,t&&(Ok[t]=e);let Dk={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Ik=/[&<>"']/,Nk=/[&<>"']/g,jk=/[<>"']|&(?!#?\w+;)/,Rk=/[<>"']|&(?!#?\w+;)/g,Lk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fk=e=>Lk[e];function Bk(e,t){if(t){if(Ik.test(e))return e.replace(Nk,Fk)}else if(jk.test(e))return e.replace(Rk,Fk);return e}const Vk=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function zk(e){return e.replace(Vk,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Uk=/(^|[^\[])\^/g;function qk(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(Uk,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const Hk=/[^\w:]/g,$k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Wk(e,t,n){if(e){let e;try{e=decodeURIComponent(zk(n)).replace(Hk,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!$k.test(n)&&(n=function(e,t){Gk[" "+e]||(Jk.test(e)?Gk[" "+e]=e+"/":Gk[" "+e]=eA(e,"/",!0));const n=-1===(e=Gk[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Yk,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Kk,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const Gk={},Jk=/^[^:]+:\/*[^/]*$/,Yk=/^([^:]+:)[\s\S]*$/,Kk=/^([^:]+:\/*[^/]*)[\s\S]*$/,Qk={exec:function(){}};function Xk(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Zk(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function eA(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function tA(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function nA(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function rA(e,t,n,r){const i=t.href,o=t.title?Bk(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:Bk(s)}}class iA{constructor(e){this.options=e||Dk}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:eA(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map(e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=eA(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,s,a,l,c,u,d,h,p,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const b=new RegExp(`^( {0,3}${f})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(o=2,h=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(d=e.split("\n",1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(c));){if(c.search(/[^ ]/)>=o||!c.trim())h+="\n"+c.slice(o);else{if(a)break;h+="\n"+c}a||c.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(i="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:h}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const y=g.items.length;for(s=0;s<y;s++){this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]);const e=g.items[s].tokens.filter(e=>"space"===e.type),t=e.every(e=>{const t=e.raw.split("");let n=0;for(const e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1});!g.loose&&e.length&&t&&(g.loose=!0,g.items[s].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):Bk(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Zk(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,o,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=Zk(e.rows[n],e.header.length).map(e=>({text:e}));for(s=e.header.length,r=0;r<s;r++)e.header[r].tokens=[],this.lexer.inlineTokens(e.header[r].text,e.header[r].tokens);for(s=e.rows.length,r=0;r<s;r++)for(o=e.rows[r],i=0;i<o.length;i++)o[i].tokens=[],this.lexer.inlineTokens(o[i].text,o[i].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Bk(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Bk(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=eA(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),rA(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return rA(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;if(o=Math.min(o,o+s+a),Math.min(n,o)%2){const t=e.slice(1,n+r.index+o);return{type:"em",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+r.index+o-1);return{type:"strong",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=Bk(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=Bk(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=Bk(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=Bk(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Bk(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Bk(n[0]):n[0]:Bk(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const oA={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Qk,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};oA.def=qk(oA.def).replace("label",oA._label).replace("title",oA._title).getRegex(),oA.bullet=/(?:[*+-]|\d{1,9}[.)])/,oA.listItemStart=qk(/^( *)(bull) */).replace("bull",oA.bullet).getRegex(),oA.list=qk(oA.list).replace(/bull/g,oA.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+oA.def.source+")").getRegex(),oA._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oA._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,oA.html=qk(oA.html,"i").replace("comment",oA._comment).replace("tag",oA._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oA.paragraph=qk(oA._paragraph).replace("hr",oA.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oA._tag).getRegex(),oA.blockquote=qk(oA.blockquote).replace("paragraph",oA.paragraph).getRegex(),oA.normal=Xk({},oA),oA.gfm=Xk({},oA.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),oA.gfm.table=qk(oA.gfm.table).replace("hr",oA.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oA._tag).getRegex(),oA.gfm.paragraph=qk(oA._paragraph).replace("hr",oA.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",oA.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oA._tag).getRegex(),oA.pedantic=Xk({},oA.normal,{html:qk("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",oA._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qk,paragraph:qk(oA.normal._paragraph).replace("hr",oA.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oA.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const sA={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Qk,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Qk,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function aA(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function lA(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}sA._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",sA.punctuation=qk(sA.punctuation).replace(/punctuation/g,sA._punctuation).getRegex(),sA.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,sA.escapedEmSt=/\\\*|\\_/g,sA._comment=qk(oA._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),sA.emStrong.lDelim=qk(sA.emStrong.lDelim).replace(/punct/g,sA._punctuation).getRegex(),sA.emStrong.rDelimAst=qk(sA.emStrong.rDelimAst,"g").replace(/punct/g,sA._punctuation).getRegex(),sA.emStrong.rDelimUnd=qk(sA.emStrong.rDelimUnd,"g").replace(/punct/g,sA._punctuation).getRegex(),sA._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,sA._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,sA._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,sA.autolink=qk(sA.autolink).replace("scheme",sA._scheme).replace("email",sA._email).getRegex(),sA._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,sA.tag=qk(sA.tag).replace("comment",sA._comment).replace("attribute",sA._attribute).getRegex(),sA._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,sA._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,sA._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,sA.link=qk(sA.link).replace("label",sA._label).replace("href",sA._href).replace("title",sA._title).getRegex(),sA.reflink=qk(sA.reflink).replace("label",sA._label).replace("ref",oA._label).getRegex(),sA.nolink=qk(sA.nolink).replace("ref",oA._label).getRegex(),sA.reflinkSearch=qk(sA.reflinkSearch,"g").replace("reflink",sA.reflink).replace("nolink",sA.nolink).getRegex(),sA.normal=Xk({},sA),sA.pedantic=Xk({},sA.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qk(/^!?\[(label)\]\((.*?)\)/).replace("label",sA._label).getRegex(),reflink:qk(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sA._label).getRegex()}),sA.gfm=Xk({},sA.normal,{escape:qk(sA.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),sA.gfm.url=qk(sA.gfm.url,"i").replace("email",sA.gfm._extended_email).getRegex(),sA.breaks=Xk({},sA.gfm,{br:qk(sA.br).replace("{2,}","*").getRegex(),text:qk(sA.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class cA{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Dk,this.options.tokenizer=this.options.tokenizer||new iA,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:oA.normal,inline:sA.normal};this.options.pedantic?(t.block=oA.pedantic,t.inline=sA.pedantic):this.options.gfm&&(t.block=oA.gfm,this.options.breaks?t.inline=sA.breaks:t.inline=sA.gfm),this.tokenizer.rules=t}static get rules(){return{block:oA,inline:sA}}static lex(e,t){return new cA(t).lex(e)}static lexInline(e,t){return new cA(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach(function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))}),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,r,i,o,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+nA("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+nA("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,lA))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,lA))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach(function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))}),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,aA))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class uA{constructor(e){this.options=e||Dk}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+Bk(r,!0)+'">'+(n?e:Bk(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Bk(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=Wk(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+Bk(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=Wk(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class dA{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class hA{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class pA{constructor(e){this.options=e||Dk,this.options.renderer=this.options.renderer||new uA,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new dA,this.slugger=new hA}static parse(e,t){return new pA(t).parse(e)}static parseInline(e,t){return new pA(t).parseInline(e)}parse(e,t=!0){let n,r,i,o,s,a,l,c,u,d,h,p,f,m,g,b,y,v,w,_="";const x=e.length;for(n=0;n<x;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(w=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))_+=w||"";else switch(d.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(d.tokens),d.depth,zk(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),u="",o=d.rows.length,r=0;r<o;r++){for(a=d.rows[r],l="",s=a.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(a[i].tokens),{header:!1,align:d.align[i]});u+=this.renderer.tablerow(l)}_+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),_+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,o=d.items.length,u="",r=0;r<o;r++)g=d.items[r],b=g.checked,y=g.task,m="",g.task&&(v=this.renderer.checkbox(b),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:v}):m+=v),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,y,b);_+=this.renderer.list(u,h,p);continue;case"html":_+=this.renderer.html(d.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<x&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);_+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return _}parseInline(e,t){t=t||this.renderer;let n,r,i,o="";const s=e.length;for(n=0;n<s;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}function fA(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),tA(t=Xk({},fA.defaults,t||{})),n){const r=t.highlight;let i;try{i=cA.lex(e,t)}catch(e){return n(e)}const o=function(e){let o;if(!e)try{t.walkTokens&&fA.walkTokens(i,t.walkTokens),o=pA.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();let s=0;return fA.walkTokens(i,function(e){"code"===e.type&&(s++,setTimeout(()=>{r(e.text,e.lang,function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()})},0))}),void(0===s&&o())}try{const n=cA.lex(e,t);return t.walkTokens&&fA.walkTokens(n,t.walkTokens),pA.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Bk(e.message+"",!0)+"</pre>";throw e}}function mA(e,t){return Array(t+1).join(e)}fA.options=fA.setOptions=function(e){var t;return Xk(fA.defaults,e),t=fA.defaults,Dk=t,fA},fA.getDefaults=function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},fA.defaults=Dk,fA.use=function(...e){const t=Xk({},...e),n=fA.defaults.extensions||{renderers:{},childTokens:{}};let r;e.forEach(e=>{if(e.extensions&&(r=!0,e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;n.renderers[e.name]=t?function(...n){let r=e.renderer.apply(this,n);return!1===r&&(r=t.apply(this,n)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");n[e.level]?n[e.level].unshift(e.tokenizer):n[e.level]=[e.tokenizer],e.start&&("block"===e.level?n.startBlock?n.startBlock.push(e.start):n.startBlock=[e.start]:"inline"===e.level&&(n.startInline?n.startInline.push(e.start):n.startInline=[e.start]))}e.childTokens&&(n.childTokens[e.name]=e.childTokens)})),e.renderer){const n=fA.defaults.renderer||new uA;for(const t in e.renderer){const r=n[t];n[t]=(...i)=>{let o=e.renderer[t].apply(n,i);return!1===o&&(o=r.apply(n,i)),o}}t.renderer=n}if(e.tokenizer){const n=fA.defaults.tokenizer||new iA;for(const t in e.tokenizer){const r=n[t];n[t]=(...i)=>{let o=e.tokenizer[t].apply(n,i);return!1===o&&(o=r.apply(n,i)),o}}t.tokenizer=n}if(e.walkTokens){const n=fA.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t),n&&n.call(this,t)}}r&&(t.extensions=n),fA.setOptions(t)})},fA.walkTokens=function(e,t){for(const n of e)switch(t.call(fA,n),n.type){case"table":for(const e of n.header)fA.walkTokens(e.tokens,t);for(const e of n.rows)for(const n of e)fA.walkTokens(n.tokens,t);break;case"list":fA.walkTokens(n.items,t);break;default:fA.defaults.extensions&&fA.defaults.extensions.childTokens&&fA.defaults.extensions.childTokens[n.type]?fA.defaults.extensions.childTokens[n.type].forEach(function(e){fA.walkTokens(n[e],t)}):n.tokens&&fA.walkTokens(n.tokens,t)}},fA.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");tA(t=Xk({},fA.defaults,t||{}));try{const n=cA.lexInline(e,t);return t.walkTokens&&fA.walkTokens(n,t.walkTokens),pA.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Bk(e.message+"",!0)+"</pre>";throw e}},fA.Parser=pA,fA.parser=pA.parse,fA.Renderer=uA,fA.TextRenderer=dA,fA.Lexer=cA,fA.lexer=cA.lex,fA.Tokenizer=iA,fA.Slugger=hA,fA.parse=fA,fA.options,fA.setOptions,fA.use,fA.walkTokens,fA.parseInline,pA.parse,cA.lex;var gA={};function bA(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function yA(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function vA(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(wA(i,t,n))return i}}function wA(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}gA.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},gA.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},gA.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+mA(1===r?"=":"-",e.length)+"\n\n":"\n\n"+mA("#",r)+" "+e+"\n\n"}},gA.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},gA.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},gA.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var o=i.getAttribute("start"),s=Array.prototype.indexOf.call(i.children,t);r=(o?Number(o)+s:s+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},gA.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},gA.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm");r=l.exec(o);)r[0].length>=a&&(a=r[0].length+1);var c=mA(s,a);return"\n\n"+c+i+"\n"+o.replace(/\n$/,"")+"\n"+c+"\n\n"}},gA.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},gA.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=bA(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},gA.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,o=t.getAttribute("href"),s=bA(t.getAttribute("title"));switch(s&&(s=' "'+s+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+o+s;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+o+s;break;default:var a=this.references.length+1;r="["+e+"]["+a+"]",i="["+a+"]: "+o+s}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},gA.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},gA.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},gA.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},gA.image={filter:"img",replacement:function(e,t){var n=bA(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=bA(t.getAttribute("title"));return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},yA.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=vA(this.array,e,this.options))||(t=vA(this._keep,e,this.options))||(t=vA(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var _A="undefined"!=typeof window?window:{};!function(){var e=_A.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?function(){var e=function(){};(function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){_A.ActiveXObject&&(e=!0)}return e})()?e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}}():_A.DOMParser;Array.prototype.reduce;var xA=Array.prototype.indexOf,EA=Array.prototype.every,kA={};function AA(e){var t,n,r=e.parentNode;return"THEAD"===r.nodeName||r.firstChild===e&&("TABLE"===r.nodeName||(n=(t=r).previousSibling,"TBODY"===t.nodeName&&(!n||"THEAD"===n.nodeName&&/^\s*$/i.test(n.textContent))))&&EA.call(e.childNodes,function(e){return"TH"===e.nodeName})}function SA(e,t){var n=" ";return 0===xA.call(t.parentNode.childNodes,t)&&(n="| "),n+e+" |"}kA.tableCell={filter:["th","td"],replacement:function(e,t){return SA(e,t)}},kA.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(AA(t))for(var i=0;i<t.childNodes.length;i++){var o="---",s=(t.childNodes[i].getAttribute("align")||"").toLowerCase();s&&(o=r[s]||o),n+=SA(o,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},kA.table={filter:function(e){return"TABLE"===e.nodeName&&AA(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},kA.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};const PA={"(":")","[":"]","{":"}"};class CA extends qb{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"mention")}execute(e){const t=this.editor.model,n=t.document.selection,r="string"==typeof e.mention?{id:e.mention}:e.mention,i=r.id,o=e.range||n.getFirstRange();if(!t.canEditAt(o))return;const s=e.text||i,a=OA({_text:s,id:i},r);if(1!=e.marker.length)throw new Gu("mentioncommand-incorrect-marker",this);if(i.charAt(0)!=e.marker)throw new Gu("mentioncommand-incorrect-id",this);t.change(e=>{const r=jh(n.getAttributes()),i=new Map(r.entries());i.set("mention",a);const l=t.insertContent(e.createText(s,i),o),c=l.start.nodeBefore,u=l.end.nodeAfter,d=u&&u.is("$text")&&u.data.startsWith(" ");let h=!1;if(c&&u&&c.is("$text")&&u.is("$text")){const e=c.data.slice(-1),t=e in PA,n=t&&u.data.startsWith(PA[e]);h=t&&n}h||d||t.insertContent(e.createText(" ",r),o.start.getShiftedBy(s.length))})}}class TA extends zb{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,n=t.document;t.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:e=>MA(e)}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:IA}),e.conversion.for("downcast").add(DA),n.registerPostFixer(e=>function(e,t,n){const r=t.differ.getChanges();let i=!1;for(const t of r){if("attribute"==t.type)continue;const r=t.position;if("$text"==t.name){const t=r.textNode&&r.textNode.nextSibling;i=jA(r.textNode,e)||i,i=jA(t,e)||i,i=jA(r.nodeBefore,e)||i,i=jA(r.nodeAfter,e)||i}if("$text"!=t.name&&"insert"==t.type){const t=r.nodeAfter;for(const n of e.createRangeIn(t).getItems())i=jA(n,e)||i}if("insert"==t.type&&n.isInline(t.name)){const t=r.nodeAfter&&r.nodeAfter.nextSibling;i=jA(r.nodeBefore,e)||i,i=jA(t,e)||i}}return i}(e,n,t.schema)),n.registerPostFixer(e=>function(e,t){const n=t.differ.getChanges();let r=!1;for(const t of n)if("attribute"===t.type&&"mention"!=t.attributeKey){const n=t.range.start.nodeBefore,i=t.range.end.nodeAfter;for(const o of[n,i])NA(o)&&o.getAttribute(t.attributeKey)!=t.attributeNewValue&&(e.setAttribute(t.attributeKey,t.attributeNewValue,o),r=!0)}return r}(e,n)),n.registerPostFixer(e=>function(e,t){const n=t.selection,r=n.focus;return!!(n.isCollapsed&&n.hasAttribute("mention")&&function(e){const t=e.isAtStart;return e.nodeBefore&&e.nodeBefore.is("$text")||t}(r))&&(e.removeSelectionAttribute("mention"),!0)}(e,n)),e.commands.add("mention",new CA(e))}}function OA(e,t){return Object.assign({uid:Hu()},e,t||{})}function MA(e,t){const n=e.getAttribute("data-mention"),r=e.getChild(0);if(r)return OA({id:n,_text:r.data},t)}function DA(e){e.on("attribute:mention",(e,t,n)=>{const r=t.attributeNewValue;if(!t.item.is("$textProxy")||!r)return;const i=t.range.start;(i.textNode||i.nodeAfter).data!=r._text&&n.consumable.consume(t.item,e.name)},{priority:"highest"})}function IA(e,{writer:t}){if(!e)return;const n={class:"mention","data-mention":e.id},r={id:e.uid,priority:20};return t.createAttributeElement("span",n,r)}function NA(e){return!(!e||!e.is("$text")&&!e.is("$textProxy")||!e.hasAttribute("mention"))&&e.data!=e.getAttribute("mention")._text}function jA(e,t){return!!NA(e)&&(t.removeAttribute("mention",e),!0)}class RA extends Ov{selected;position;constructor(e){super(e),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,t=this.items.getIndex(e);this.select(t+1)}selectPrevious(){const e=this.selected,t=this.items.getIndex(e);this.select(t-1)}select(e){let t=0;e>0&&e<this.items.length?t=e:e<0&&(t=this.items.length-1);const n=this.items.get(t);this.selected!==n&&(this.selected&&this.selected.removeHighlight(),n.highlight(),this.selected=n,this._isItemVisibleInScrolledArea(n)||(this.element.scrollTop=n.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new Ud(this.element).contains(new Ud(e.element))}}class LA extends Uy{domElement;constructor(e,t){super(e),this.template=void 0,this.domElement=t,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(e,t,n)=>{n?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class FA extends Pv{item;marker;highlight(){this.children.first.isOn=!0}removeHighlight(){this.children.first.isOn=!1}}const BA=[bh.arrowup,bh.arrowdown,bh.esc],VA=[bh.enter,bh.tab];class zA extends zb{_mentionsView;_mentionsConfigurations;_balloon;_items=new Ch;_lastRequested;_requestFeedDebounced;static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Iw]}constructor(e){super(e),this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=(0,ku.debounce)(this._requestFeed,100),e.config.define("mention",{feeds:[]})}init(){const e=this.editor,t=e.config.get("mention.commitKeys")||VA,n=BA.concat(t);this._balloon=e.plugins.get(Iw),e.editing.view.document.on("keydown",(e,r)=>{var i;i=r.keyCode,n.includes(i)&&this._isUIVisible&&(r.preventDefault(),e.stop(),r.keyCode==bh.arrowdown&&this._mentionsView.selectNext(),r.keyCode==bh.arrowup&&this._mentionsView.selectPrevious(),t.includes(r.keyCode)&&this._mentionsView.executeSelected(),r.keyCode==bh.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),qy({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const r=e.config.get("mention.feeds");for(const e of r){const{feed:t,marker:n,dropdownLimit:r}=e;if(!WA(n))throw new Gu("mentionconfig-incorrect-marker",null,{marker:n});const i={marker:n,feedCallback:"function"==typeof t?t.bind(this.editor):$A(t),itemRenderer:e.itemRenderer,dropdownLimit:r};this._mentionsConfigurations.set(n,i)}this._setupTextWatcher(r),this.listenTo(e,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(e,t)=>this._handleFeedResponse(t)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker())}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,t=new RA(e);return t.items.bindTo(this._items).using(n=>{const{item:r,marker:i}=n,{dropdownLimit:o}=this._mentionsConfigurations.get(i),s=o||this.editor.config.get("mention.dropdownLimit")||10;if(t.items.length>=s)return null;const a=new FA(e),l=this._renderItem(r,i);return l.delegate("execute").to(a),a.children.add(l),a.item=r,a.marker=i,a.on("execute",()=>{t.fire("execute",{item:r,marker:i})}),a}),t.on("execute",(e,t)=>{const n=this.editor,r=n.model,i=t.item,o=t.marker,s=n.model.markers.get("mention"),a=r.createPositionAt(r.document.selection.focus),l=r.createPositionAt(s.getStart()),c=r.createRange(l,a);this._hideUIAndRemoveMarker(),n.execute("mention",{mention:i,text:i.text,marker:o,range:c}),n.editing.view.focus()}),t}_getItemRenderer(e){const{itemRenderer:t}=this._mentionsConfigurations.get(e);return t}_requestFeed(e,t){this._lastRequested=t;const{feedCallback:n}=this._mentionsConfigurations.get(e),r=n(t);r instanceof Promise?r.then(n=>{this._lastRequested==t?this.fire("requestFeed:response",{feed:n,marker:e,feedText:t}):this.fire("requestFeed:discarded",{feed:n,marker:e,feedText:t})}).catch(t=>{this.fire("requestFeed:error",{error:t}),Ju("mention-feed-callback-error",{marker:e})}):this.fire("requestFeed:response",{feed:r,marker:e,feedText:t})}_setupTextWatcher(e){const t=this.editor,n=e.map(e=>({...e,pattern:HA(e.marker,e.minimumCharacters||0)})),r=new d_(t.model,function(e){return t=>{const n=qA(e,t);if(!n)return!1;let r=0;0!==n.position&&(r=n.position-1);const i=t.substring(r);return n.pattern.test(i)}}(n));r.on("matched",(e,r)=>{const i=qA(n,r.text),o=t.model.document.selection.focus,s=t.model.createPositionAt(o.parent,i.position);if(function(e){const t=e.textNode&&e.textNode.hasAttribute("mention"),n=e.nodeBefore;return t||n&&n.is("$text")&&n.hasAttribute("mention")}(o)||function(e){const t=e.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}(s))return void this._hideUIAndRemoveMarker();const a=function(e,t){let n=0;0!==e.position&&(n=e.position-1);const r=HA(e.marker,0);return t.substring(n).match(r)[2]}(i,r.text),l=i.marker.length+a.length,c=o.getShiftedBy(-l),u=o.getShiftedBy(-a.length),d=t.model.createRange(c,u);if(GA(t)){const e=t.model.markers.get("mention");t.model.change(t=>{t.updateMarker(e,{range:d})})}else t.model.change(e=>{e.addMarker("mention",{range:d,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(i.marker,a)}),r.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const i=t.commands.get("mention");return r.bind("isEnabled").to(i),r}_handleFeedResponse(e){const{feed:t,marker:n}=e;if(!GA(this.editor))return;this._items.clear();for(const e of t){const t="object"!=typeof e?{id:e,text:e}:e;this._items.add({item:t,marker:n})}const r=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(r):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),GA(this.editor)&&this.editor.model.change(e=>e.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(e,t){const n=this.editor;let r,i=e.id;const o=this._getItemRenderer(t);if(o){const t=o(e);"string"!=typeof t?r=new LA(n.locale,t):i=t}if(!r){const e=new Wy(n.locale);e.label=i,e.withText=!0,r=e}return r}_getBalloonPanelPositionData(e,t){const n=this.editor,r=n.editing,i=r.view.domConverter,o=r.mapper;return{target:()=>{let t=e.getRange();"$graveyard"==t.start.root.rootName&&(t=n.model.document.selection.getFirstRange());const r=o.toViewRange(t);return Ud.getDomRangeRects(i.viewRangeToDom(r)).pop()},limiter:()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},positions:UA(t,n.locale.uiLanguageDirection)}}}function UA(e,t){const n={caret_se:e=>({top:e.bottom+3,left:e.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(e,t)=>({top:e.top-t.height-3,left:e.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(e,t)=>({top:e.bottom+3,left:e.right-t.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(e,t)=>({top:e.top-t.height-3,left:e.right-t.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(n,e)?[n[e]]:"rtl"!==t?[n.caret_se,n.caret_sw,n.caret_ne,n.caret_nw]:[n.caret_sw,n.caret_se,n.caret_nw,n.caret_ne]}function qA(e,t){let n;for(const r of e){const e=t.lastIndexOf(r.marker);e>0&&!t.substring(e-1).match(r.pattern)||(!n||e>=n.position)&&(n={marker:r.marker,position:e,minimumCharacters:r.minimumCharacters,pattern:r.pattern})}return n}function HA(e,t){const n=0==t?"*":`{${t},}`,r=Tu.features.isRegExpUnicodePropertySupported?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'";return e=e.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&"),new RegExp(`(?:^|[ ${r}])([${e}])(.${n})$`,"u")}function $A(e){return t=>e.filter(e=>("string"==typeof e?e:String(e.id)).toLowerCase().includes(t.toLowerCase()))}function WA(e){return e&&1==e.length}function GA(e){return e.model.markers.has("mention")}class JA extends zb{toMentionAttribute(e,t){return MA(e,t)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[TA,zA]}}function YA({height:e="150px",id:n,value:r,onChange:i,placeholder:o}){return(0,t.createElement)(wu,{editor:Lx,config:{toolbar:{items:["bold","italic","link","bulletedList","numberedList"]},plugins:[T_,Zx,N_,LE,Pk,JA,rE,Xx,cE,Nx],htmlEmbed:{showPreviews:!0,sanitizeHtml:e=>({html:e,hasChanged:!1})}},onReady:t=>{null!=t&&(t.editing.view.change(n=>{n.setStyle({height:e},t.editing.view.document.getRoot())}),t.plugins.get("Clipboard").on("inputTransformation",(e,n)=>{n.content=t.data.processor.toView(n.dataTransfer.getData("text/html")||n.dataTransfer.getData("text/plain"))}))},placeholder:o,data:void 0===r||0===r.length?"<p></p>":r,onChange:(e,t)=>{if(null!=t){const e=t.getData();i({name:n,value:e})}}})}function KA(e){const{type:n="text",label:r="",labelClass:i="",placeholder:o="",className:s="",areaClassName:a="",onChange:l=()=>{},onInput:c=()=>{},onKeyup:u=()=>{},id:d="",name:h="",value:p="",required:f=!1,ref:m=null,options:g=[],rows:b=4,cols:y=90,style:v={},autoComplete:w="off",min:_=0,max:x,left:E=(0,t.createElement)(t.Fragment,null),right:k=(0,t.createElement)(t.Fragment,null),editorHeight:A="150px",hasError:S=!1,errorMessage:P="",checked:C,select2Style:T,readOnly:O,isSearchable:M=!1}=e,D=()=>{let e="";switch(n){case"text":case"url":case"number":case"email":case"search":case"password":case"tel":case"color":case"file":e+="!min-h-[42px] bg-white placeholder:text-b2-table transition !py-1 !px-5 !rounded\n                                text-b3-regular !text-b1-notice-comment !border !border-solid !border-border-dark !shadow-none placeholder:text-b2-table focus:!outline-none \n                                focus:!border-primary focus:!shadow-none focus:ring-0 required:border-red-500 w-full shadow-none !border-1";break;case"textarea":e+="w-full border-border-mid rounded";break;case"radio":e+="!m-0 border-2 !border-border-dark text-primary focus:ring-0 focus:![box-shadow:none] focus:text-primary checked:text-primary checked:!border-primary checked:before:!bg-white";break;case"checkbox":e+="!h-4 !w-4 !mr-2.5 !border-2 !border-border-dark !rounded-[2px] !text-primary cursor-pointer focus:![box-shadow:none] checked:bg-checkbox-size checked:bg-checkbox-position checked:bg-checkbox-check checked:before:!content-none checked:!border-primary"}return s?.length&&(e=`${e} ${s}`),ro(e)},I={...v},N=e=>{let{name:t,value:r}=e.target;"checkbox"===n&&(r=!!e.target.checked),l({name:t,value:r})};return(0,t.createElement)(t.Fragment,null,r.length?(0,t.createElement)(oo,{htmlFor:d,className:i},r," ",f?(0,t.createElement)("span",null,"*"):""):"",(0,t.createElement)("div",{className:`flex items-center relative ${a}`},E,("text"===n||"url"===n||"number"===n||"radio"===n||"checkbox"===n||"email"===n||"password"===n||"tel"===n||"file"===n||"color"===n||"search"===n)&&(0,t.createElement)("input",{type:n,ref:m,required:f,placeholder:o,className:D(),style:I,onChange:N,onInput:c,name:h,id:d,value:p,min:_,max:x,autoComplete:w,checked:C,readOnly:O}),"text-editor"===n&&(0,t.createElement)("div",{className:"w-full"},(0,t.createElement)(YA,{id:d,height:A,onChange:l,value:p,placeholder:o})),"textarea"===n&&(0,t.createElement)("textarea",{ref:m,required:f,placeholder:o,className:D(),style:I,onChange:N,onInput:c,onKeyUp:u,id:d,name:h,value:p,rows:b,cols:y,autoComplete:w}),("select"===n||"multiselect"===n)&&(0,t.createElement)(ru,{defaultValue:p,isMulti:"multiselect"===n,options:void 0!==g?g:[],placeholder:o,style:T,isSearchable:M,onChange:e=>{"function"==typeof l&&l({name:h,value:e})}}),k),P&&(0,t.createElement)("div",{className:"text-error text-b5-regular mt-1.5"},P))}function QA({block:e=1}){return(0,t.createElement)("div",{className:"bg-white shadow-xs rounded px-5 py-5"},(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-4"},(0,t.createElement)("div",{className:"h-2.5 w-[50px] bg-border-mid rounded-xsm"}),(0,t.createElement)("div",{className:"flex-1 h-2.5 bg-border-mid rounded-xsm"}),(0,t.createElement)("div",{className:"h-2.5 w-36 bg-border-mid rounded-xsm"}),(0,t.createElement)("div",{className:"h-2.5 w-36 bg-border-mid rounded-xsm"})),[...Array(0===e?1:e)].map((e,n)=>(0,t.createElement)("div",{className:"animate-pulse border-b border-background",key:n},(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-4"},(0,t.createElement)("div",{className:"h-[50px] w-[50px] bg-border-mid rounded-full"}),(0,t.createElement)("div",{className:"flex-1 h-2.5 bg-border-mid rounded-xsm"}),(0,t.createElement)("div",{className:"h-2.5 w-36 bg-border-mid rounded-xsm"}),(0,t.createElement)("div",{className:"h-2.5 w-36 bg-border-mid rounded-xsm"})))))}Symbol.iterator;var XA=__webpack_require__(9764),ZA=__webpack_require__.n(XA);const eS=e=>{const{perPage:n=10,total:r=1,paginate:i=()=>{},currentPage:o=1}=e,[s,a]=(0,t.useState)(o),[l,c]=(0,t.useState)(Math.ceil(r/n)),[u,d]=(0,t.useState)(!0),h="m-0 p-0 bg-shadebg border-r border-border-mid last:border-r-0",p="h-[44px] w-[44px] flex items-center justify-center px-2 text-[14px] font-medium text-headline transition-all hover:!text-white hover:!bg-secondary focus:shadow-none focus:outline-none focus:!bg-secondary focus:!text-white";return(0,t.useEffect)(()=>{const e=Math.ceil(r/n);c(e),u?d(!1):(a(1),i(null))},[r,n]),(0,t.useEffect)(()=>{a(o)},[o]),(0,t.createElement)(t.Fragment,null,l>1&&(0,t.createElement)("div",{className:"ai_job_listing-pagination pt-8"},(0,t.createElement)(ZA(),{pageCount:l,onPageChange:e=>{const t=e.selected+1;i(t),a(t)},initialPage:s-1,previousLabel:(0,t.createElement)("i",{className:"tio-back_ui"}),nextLabel:(0,t.createElement)("i",{className:"tio-next_ui"}),breakLabel:"...",breakClassName:h,breakLinkClassName:p,marginPagesDisplayed:2,pageRangeDisplayed:2,containerClassName:"list-none inline-flex item-center overflow-hidden m-0 p-0 border border-border-mid rounded-sm",activeClassName:"",pageClassName:h,pageLinkClassName:p,activeLinkClassName:"!bg-secondary !text-white",nextClassName:h,nextLinkClassName:p,previousClassName:h,previousLinkClassName:p,disabledClassName:"",disabledLinkClassName:"opacity-10 pointer-events-none focus:bg-white focus:text-headline",disableInitialCallback:!0})))},tS=__webpack_require__(6087),nS=({data:e=[],onClick:n=()=>{},activeValue:r=""})=>(0,t.createElement)("div",{className:"flex items-center flex-wrap gap-[5px] mb-5"},e?.map((e,i)=>(0,t.createElement)("button",{onClick:()=>{n(e)},key:i,className:(tS.isEqual(r,e.value)?"border-lightblue text-primary bg-lightblue":"text-b1-notice-comment border-border-mid bg-white")+" flex items-center gap-1 py-[7px] px-[15px] text-b3-mid rounded-md border transition hover:text-primary"},(0,t.createElement)("span",null,e.label),e.count&&(0,t.createElement)("span",null,`(${e.count})`)))),rS=({name:e="search",placeholder:n="Search...",onChange:r=()=>{}})=>(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("button",{type:"button",className:" absolute top-[4px] left-[14px] z-10 text-[16px] text-b3-meta"},(0,t.createElement)("i",{className:"tio-search"})),(0,t.createElement)("input",{type:"text",name:e,placeholder:n,onChange:e=>{r(e.target.value)},className:"w-[220px] min-h-[38px] !pl-[36px] !py-1 !px-[15px] text-[14px] !text-b1-notice-comment !border !border-solid !border-border-dark !rounded focus:!outline-none focus:!shadow-none focus:ring-0"})),iS=({header:e,body:n,children:r})=>{const i=t.Children.toArray(r).reduce((e,t)=>(t.props&&t.props.customKey&&(e[t.props.customKey]=t),e),{});return(0,t.createElement)("div",{className:"table-responsive"},(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null),e.map((e,n)=>(0,t.createElement)("th",{key:n,className:ro(e.class)},e.title)),(0,t.createElement)("th",null))),(0,t.createElement)("tbody",null,n?.length?n.map((n,r)=>(0,t.createElement)("tr",{key:r},(0,t.createElement)("td",null),e.map((e,r)=>(0,t.createElement)("td",{key:r,className:ro(e.bodyClass)},((e,t)=>{const n=i[e];if(n){const e=n.props.children;if("function"==typeof e)return e(t)}return void 0!==t[e]&&null!==t[e]?t[e]:""})(e.key,n))),(0,t.createElement)("td",null))):(0,t.createElement)("tr",null,(0,t.createElement)("td",null),(0,t.createElement)("td",{colSpan:e.length},(0,t.createElement)("h5",{className:"text-center p-5 mb-0"},"No Data Found")),(0,t.createElement)("td",null)))))},oS=e=>{const t=new Date(e);return isNaN(t)?"":(0,Ge.default)(t,"MMM dd, yyyy")},sS=e=>{switch(e){case"active":return(0,t.createElement)("div",{className:"flex items-center gap-[5px] capitalize text-green"},(0,t.createElement)("i",{className:"tio-checkmark_circle"}),(0,t.createElement)("span",null,e));case"expired":return(0,t.createElement)("div",{className:"flex items-center gap-[5px] capitalize text-red"},(0,t.createElement)("i",{className:"tio-info"}),(0,t.createElement)("span",null,e));case"archieved":return(0,t.createElement)("div",{className:"flex items-center gap-[5px] capitalize text-info"},(0,t.createElement)("i",{className:"tio-archive"}),(0,t.createElement)("span",null,e));case"inactive":default:return(0,t.createElement)("div",{className:"flex items-center gap-[5px] capitalize text-primary"},(0,t.createElement)("i",{className:"tio-pause_circle"}),(0,t.createElement)("span",null,e));case"draft":return(0,t.createElement)("div",{className:"flex items-center gap-[5px] capitalize text-warning"},(0,t.createElement)("i",{className:"tio-draft"}),(0,t.createElement)("span",null,e))}};var aS=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(aS||{});let lS=Kr(function(e,t){var n;let{features:r=1,...i}=e;return Wr({ourProps:{ref:t,"aria-hidden":!(2&~r)||(null!=(n=i["aria-hidden"])?n:void 0),hidden:!(4&~r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}),cS=(0,Pt.createContext)(null);function uS(){let e=(0,Pt.useContext)(cS);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,uS),e}return e}function dS(){let[e,t]=(0,Pt.useState)([]);return[e.length>0?e.join(" "):void 0,(0,Pt.useMemo)(()=>function(e){let n=rr(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))),r=(0,Pt.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return Pt.createElement(cS.Provider,{value:r},e.children)},[t])]}let hS=Kr(function(e,t){let n=sr(),{id:r=`headlessui-description-${n}`,...i}=e,o=uS(),s=Dr(t);return tr(()=>o.register(r),[r,o.register]),Wr({ourProps:{ref:s,...o.props,id:r},theirProps:i,slot:o.slot||{},defaultTag:"p",name:o.name||"Description"})}),pS=Object.assign(hS,{}),fS=(0,Pt.createContext)(null);function mS(){let e=(0,Pt.useContext)(fS);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,mS),e}return e}let gS=Kr(function(e,t){let n=sr(),{id:r=`headlessui-label-${n}`,passive:i=!1,...o}=e,s=mS(),a=Dr(t);tr(()=>s.register(r),[r,s.register]);let l={ref:a,...s.props,id:r};return i&&("onClick"in l&&(delete l.htmlFor,delete l.onClick),"onClick"in o&&delete o.onClick),Wr({ourProps:l,theirProps:o,slot:s.slot||{},defaultTag:"label",name:s.name||"Label"})}),bS=Object.assign(gS,{}),yS=(0,Pt.createContext)(null);yS.displayName="GroupContext";let vS=Pt.Fragment,wS=Kr(function(e,t){var n;let r=sr(),{id:i=`headlessui-switch-${r}`,checked:o,defaultChecked:s=!1,onChange:a,disabled:l=!1,name:c,value:u,form:d,...h}=e,p=(0,Pt.useContext)(yS),f=(0,Pt.useRef)(null),m=Dr(f,t,null===p?null:p.setSwitch),[g,b]=function(e,t,n){let[r,i]=(0,Pt.useState)(n),o=void 0!==e,s=(0,Pt.useRef)(o),a=(0,Pt.useRef)(!1),l=(0,Pt.useRef)(!1);return!o||s.current||a.current?!o&&s.current&&!l.current&&(l.current=!0,s.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(a.current=!0,s.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:r,rr(e=>(o||i(e),null==t?void 0:t(e)))]}(o,a,s),y=rr(()=>null==b?void 0:b(!g)),v=rr(e=>{if(zr(e.currentTarget))return e.preventDefault();e.preventDefault(),y()}),w=rr(e=>{e.key===ei.Space?(e.preventDefault(),y()):e.key===ei.Enter&&function(e){var t,n;let r=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(r){for(let t of r.elements)if(t!==e&&("INPUT"===t.tagName&&"submit"===t.type||"BUTTON"===t.tagName&&"submit"===t.type||"INPUT"===t.nodeName&&"image"===t.type))return void t.click();null==(n=r.requestSubmit)||n.call(r)}}(e.currentTarget)}),_=rr(e=>e.preventDefault()),x=(0,Pt.useMemo)(()=>({checked:g}),[g]),E={id:i,ref:m,role:"switch",type:Or(e,f),tabIndex:-1===e.tabIndex?0:null!=(n=e.tabIndex)?n:0,"aria-checked":g,"aria-labelledby":null==p?void 0:p.labelledby,"aria-describedby":null==p?void 0:p.describedby,disabled:l,onClick:v,onKeyUp:w,onKeyPress:_},k=Qn();return(0,Pt.useEffect)(()=>{var e;let t=null==(e=f.current)?void 0:e.closest("form");t&&void 0!==s&&k.addEventListener(t,"reset",()=>{b(s)})},[f,b]),Pt.createElement(Pt.Fragment,null,null!=c&&g&&Pt.createElement(lS,{features:aS.Hidden,...Qr({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:l,form:d,checked:g,name:c,value:u})}),Wr({ourProps:E,theirProps:h,slot:x,defaultTag:"button",name:"Switch"}))}),_S=Object.assign(wS,{Group:function(e){var t;let[n,r]=(0,Pt.useState)(null),[i,o]=function(){let[e,t]=(0,Pt.useState)([]);return[e.length>0?e.join(" "):void 0,(0,Pt.useMemo)(()=>function(e){let n=rr(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))),r=(0,Pt.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return Pt.createElement(fS.Provider,{value:r},e.children)},[t])]}(),[s,a]=dS(),l=(0,Pt.useMemo)(()=>({switch:n,setSwitch:r,labelledby:i,describedby:s}),[n,r,i,s]),c=e;return Pt.createElement(a,{name:"Switch.Description"},Pt.createElement(o,{name:"Switch.Label",props:{htmlFor:null==(t=l.switch)?void 0:t.id,onClick(e){n&&("LABEL"===e.currentTarget.tagName&&e.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Pt.createElement(yS.Provider,{value:l},Wr({ourProps:{},theirProps:c,defaultTag:vS,name:"Switch.Group"}))))},Label:bS,Description:pS});function xS(e){const{initialValue:n=!1,onChange:r=()=>{},id:i="",sizeLg:o=!1,parentClass:s="",label:a=!1}=e,[l,c]=(0,t.useState)(n);(0,t.useEffect)(()=>{c(n)},[n]);let u="";return l&&!o?u="translate-x-[12px] bg-white":l||o?l&&o?u="translate-x-[20px] bg-white":!l&&o&&(u="translate-x-[3px] bg-white"):u="translate-x-0 bg-white",(0,t.createElement)("div",{className:s},(0,t.createElement)(_S,{checked:l,onChange:e=>{c(e),"function"==typeof r&&r({name:i,value:e})},className:`${l?"!bg-primary border-primary":"!bg-border-mid border-border-mid"} ${o?"h-[22px] w-[40px]":"h-[14px] w-[26px]"}\n                relative inline-flex flex-shrink-0 border-2 rounded-[100px] cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus-visible:ring-2  focus-visible:ring-white focus-visible:ring-opacity-75`},(0,t.createElement)("span",{className:"sr-only"},(0,ce.__)("Toggle","ai-job-listing")),(0,t.createElement)("span",{"aria-hidden":"true",className:`${u} ${o?"h-[14px] w-[14px] top-[2px]":"h-[10px] w-[10px] top-0"} pointer-events-none inline-block rounded-full transform ring-0 transition ease-in-out duration-200 mr-[2px] absolute left-0`})),a&&(0,t.createElement)("span",{className:"text-[14px] ml-[5px] text-b2-table"},l?"Active":"Inactive"))}function ES(){let e=(0,Pt.useRef)(!1);return tr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function kS(e,...t){e&&t.length>0&&e.classList.add(...t)}function AS(e,...t){e&&t.length>0&&e.classList.remove(...t)}function SS(e=""){return e.split(/\s+/).filter(e=>e.length>1)}let PS=(0,Pt.createContext)(null);PS.displayName="TransitionContext";var CS=(e=>(e.Visible="visible",e.Hidden="hidden",e))(CS||{});let TS=(0,Pt.createContext)(null);function OS(e){return"children"in e?OS(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function MS(e,t){let n=nr(e),r=(0,Pt.useRef)([]),i=ES(),o=Qn(),s=rr((e,t=$r.Hidden)=>{let s=r.current.findIndex(({el:t})=>t===e);-1!==s&&(ar(t,{[$r.Unmount](){r.current.splice(s,1)},[$r.Hidden](){r.current[s].state="hidden"}}),o.microTask(()=>{var e;!OS(r)&&i.current&&(null==(e=n.current)||e.call(n))}))}),a=rr(e=>{let t=r.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>s(e,$r.Unmount)}),l=(0,Pt.useRef)([]),c=(0,Pt.useRef)(Promise.resolve()),u=(0,Pt.useRef)({enter:[],leave:[],idle:[]}),d=rr((e,n,r)=>{l.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter(([t])=>t!==e)),null==t||t.chains.current[n].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[n].push([e,new Promise(e=>{Promise.all(u.current[n].map(([e,t])=>t)).then(()=>e())})]),"enter"===n?c.current=c.current.then(()=>null==t?void 0:t.wait.current).then(()=>r(n)):r(n)}),h=rr((e,t,n)=>{Promise.all(u.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>n(t))});return(0,Pt.useMemo)(()=>({children:r,register:a,unregister:s,onStart:d,onStop:h,wait:c,chains:u}),[a,s,r,d,h,u,c])}function DS(){}TS.displayName="NestingContext";let IS=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function NS(e){var t;let n={};for(let r of IS)n[r]=null!=(t=e[r])?t:DS;return n}let jS=Hr.RenderStrategy,RS=Kr(function(e,t){let{show:n,appear:r=!1,unmount:i=!0,...o}=e,s=(0,Pt.useRef)(null),a=Dr(s,t);ir();let l=Br();if(void 0===n&&null!==l&&(n=(l&Fr.Open)===Fr.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=(0,Pt.useState)(n?"visible":"hidden"),d=MS(()=>{u("hidden")}),[h,p]=(0,Pt.useState)(!0),f=(0,Pt.useRef)([n]);tr(()=>{!1!==h&&f.current[f.current.length-1]!==n&&(f.current.push(n),p(!1))},[f,n]);let m=(0,Pt.useMemo)(()=>({show:n,appear:r,initial:h}),[n,r,h]);(0,Pt.useEffect)(()=>{if(n)u("visible");else if(OS(d)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&u("hidden")}else u("hidden")},[n,d]);let g={unmount:i},b=rr(()=>{var t;h&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),y=rr(()=>{var t;h&&p(!1),null==(t=e.beforeLeave)||t.call(e)});return Pt.createElement(TS.Provider,{value:d},Pt.createElement(PS.Provider,{value:m},Wr({ourProps:{...g,as:Pt.Fragment,children:Pt.createElement(LS,{ref:a,...g,...o,beforeEnter:b,beforeLeave:y})},theirProps:{},defaultTag:Pt.Fragment,features:jS,visible:"visible"===c,name:"Transition"})))}),LS=Kr(function(e,t){var n,r;let{beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:a,enter:l,enterFrom:c,enterTo:u,entered:d,leave:h,leaveFrom:p,leaveTo:f,...m}=e,g=(0,Pt.useRef)(null),b=Dr(g,t),y=null==(n=m.unmount)||n?$r.Unmount:$r.Hidden,{show:v,appear:w,initial:_}=function(){let e=(0,Pt.useContext)(PS);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[x,E]=(0,Pt.useState)(v?"visible":"hidden"),k=function(){let e=(0,Pt.useContext)(TS);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:A,unregister:S}=k;(0,Pt.useEffect)(()=>A(g),[A,g]),(0,Pt.useEffect)(()=>{if(y===$r.Hidden&&g.current)return v&&"visible"!==x?void E("visible"):ar(x,{hidden:()=>S(g),visible:()=>A(g)})},[x,g,A,S,v,y]);let P=nr({base:SS(m.className),enter:SS(l),enterFrom:SS(c),enterTo:SS(u),entered:SS(d),leave:SS(h),leaveFrom:SS(p),leaveTo:SS(f)}),C=function(e){let t=(0,Pt.useRef)(NS(e));return(0,Pt.useEffect)(()=>{t.current=NS(e)},[e]),t}({beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:a}),T=ir();(0,Pt.useEffect)(()=>{if(T&&"visible"===x&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,x,T]);let O=w&&v&&_,M=!T||_&&!w?"idle":v?"enter":"leave",D=function(e=0){let[t,n]=(0,Pt.useState)(e),r=ES(),i=(0,Pt.useCallback)(e=>{r.current&&n(t=>t|e)},[t,r]),o=(0,Pt.useCallback)(e=>Boolean(t&e),[t]),s=(0,Pt.useCallback)(e=>{r.current&&n(t=>t&~e)},[n,r]),a=(0,Pt.useCallback)(e=>{r.current&&n(t=>t^e)},[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}(0),I=rr(e=>ar(e,{enter:()=>{D.addFlag(Fr.Opening),C.current.beforeEnter()},leave:()=>{D.addFlag(Fr.Closing),C.current.beforeLeave()},idle:()=>{}})),N=rr(e=>ar(e,{enter:()=>{D.removeFlag(Fr.Opening),C.current.afterEnter()},leave:()=>{D.removeFlag(Fr.Closing),C.current.afterLeave()},idle:()=>{}})),j=MS(()=>{E("hidden"),S(g)},k),R=(0,Pt.useRef)(!1);!function({immediate:e,container:t,direction:n,classes:r,onStart:i,onStop:o}){let s=ES(),a=Qn(),l=nr(n);tr(()=>{e&&(l.current="enter")},[e]),tr(()=>{let e=Kn();a.add(e.dispose);let n=t.current;if(n&&"idle"!==l.current&&s.current)return e.dispose(),i.current(l.current),e.add(function(e,t,n,r){let i=n?"enter":"leave",o=Kn(),s=void 0!==r?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(r):()=>{};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");let a=ar(i,{enter:()=>t.enter,leave:()=>t.leave}),l=ar(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=ar(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return AS(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),kS(e,...t.base,...a,...c),o.nextFrame(()=>{AS(e,...t.base,...a,...c),kS(e,...t.base,...a,...l),function(e,t){let n=Kn();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,s]=[r,i].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),a=o+s;if(0!==a){n.group(n=>{n.setTimeout(()=>{t(),n.dispose()},a),n.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&n.dispose()})});let r=n.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),r())})}else t();n.add(()=>t()),n.dispose}(e,()=>(AS(e,...t.base,...a),kS(e,...t.base,...t.entered),s()))}),o.dispose}(n,r.current,"enter"===l.current,()=>{e.dispose(),o.current(l.current)})),e.dispose},[n])}({immediate:O,container:g,classes:P,direction:M,onStart:nr(e=>{R.current=!0,j.onStart(g,e,I)}),onStop:nr(e=>{R.current=!1,j.onStop(g,e,N),"leave"===e&&!OS(j)&&(E("hidden"),S(g))})});let L=m,F={ref:b};return O?L={...L,className:qr(m.className,...P.current.enter,...P.current.enterFrom)}:R.current&&(L.className=qr(m.className,null==(r=g.current)?void 0:r.className),""===L.className&&delete L.className),Pt.createElement(TS.Provider,{value:j},Pt.createElement(Vr,{value:ar(x,{visible:Fr.Open,hidden:Fr.Closed})|D.flags},Wr({ourProps:F,theirProps:L,defaultTag:"div",features:jS,visible:"visible"===x,name:"Transition.Child"})))}),FS=Kr(function(e,t){let n=null!==(0,Pt.useContext)(PS),r=null!==Br();return Pt.createElement(Pt.Fragment,null,!n&&r?Pt.createElement(RS,{ref:t,...e}):Pt.createElement(LS,{ref:t,...e}))}),BS=Object.assign(RS,{Child:FS,Root:RS});const VS=({children:e,menusClass:n=""})=>(0,t.createElement)("div",null,(0,t.createElement)(gi,{as:"div",className:"relative inline-block"},(0,t.createElement)("div",null,(0,t.createElement)(gi.Button,{className:"w-5 mt-[1px] text-b2-table text-[20px]"},(0,t.createElement)("i",{className:"tio-more_vertical"}))),(0,t.createElement)(BS,{as:t.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},(0,t.createElement)(gi.Items,{className:`${n} absolute right-0 mt-2 origin-top-right z-10 rounded-[5px] bg-white shadow-lg ring-1 ring-black/5 focus:outline-none`},(0,t.createElement)("div",{className:"p-[10px] grid gap-[2px]"},e))))),zS=__webpack_require__(6087),US=()=>{const e=(0,n.useDispatch)(),r=xn(),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)({column:"specific",status:["active","inactive","expired","archived","draft"]}),[h,p]=(0,t.useState)(!1),f=(0,n.useSelect)(e=>e(vt).getJobLists(u),[]),m=(0,n.useSelect)(e=>e(vt).getJobListsTotalCount(),[]),g=(0,n.useSelect)(e=>e(vt).getJobStatusCount(),[]),b=(0,n.useSelect)(e=>e(vt).getJobListsLoading(),[]),y=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]);(0,t.useEffect)(()=>{"default"!=r.key&&(e(vt).getJobLists(u),e(vt).getJobStatusCount()),e(vt).getHasJobLimit().then(e=>{p(e)})},[]);const v=zS.debounce(t=>{e(vt).getJobLists({...u,search:t,page:1}),d({...u,search:t})},500),w=[{label:(0,ce.__)("All Jobs","ai-job-listing"),value:["active","inactive","expired","archived","draft"]},{label:(0,ce.__)("Active","ai-job-listing"),value:["active"]},{label:(0,ce.__)("Expired","ai-job-listing"),value:["expired"]},{label:(0,ce.__)("Archived","ai-job-listing"),value:["archived"]},{label:(0,ce.__)("Paused","ai-job-listing"),value:["inactive"]},{label:(0,ce.__)("Draft","ai-job-listing"),value:["draft"]}];(0,t.useEffect)(()=>{const e=((e,t,n)=>{const r=new Map(t.map(e=>[e[n],e]));return e.map(e=>({...e,...r.get(e[n])||{}}))})(g,w,"label");a(e)},[g]);const _=[{key:"title",title:(0,ce.__)("Jobs","ai-job-listing")},{key:"total_applicants",title:(0,ce.__)("Applicants","ai-job-listing"),class:"text-center",bodyClass:"text-center"},{key:"total_in_progress",title:(0,ce.__)("In Progress","ai-job-listing"),class:"text-center",bodyClass:"text-center"},{key:"total_rejected",title:(0,ce.__)("Rejected","ai-job-listing"),class:"text-center",bodyClass:"text-center"},{key:"total_hired",title:(0,ce.__)("Hired","ai-job-listing"),class:"text-center",bodyClass:"text-center"},{key:"status",title:(0,ce.__)("Status","ai-job-listing"),class:"w-[200px] text-center",bodyClass:"text-center"},{key:"actions",title:(0,ce.__)("Actions","ai-job-listing"),class:"w-[220px]"}],x=t=>{e(vt).updateJobField({id:Number(t.id),status:t.status}).then(t=>{t.status&&(qe({title:(0,ce.__)("Successfull","ai-job-listing"),text:(0,ce.__)("Successfully Updated the job status","ai-job-listing"),showLoaderOnConfirm:!0,timer:1500}),e(vt).getJobLists({...u}),e(vt).getJobStatusCount())})};return(0,n.useSelect)(e=>e(St).getCurrentUser()),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"flex items-start justify-between"},(0,t.createElement)(bi,{text:(0,ce.__)("All Jobs","ai-job-listing")}),(0,t.createElement)(nS,{data:s,onClick:t=>{var n;n=t.value,e(vt).getJobLists({column:"specific",status:n}),d({column:"specific",status:n}),o(!1),c(t)},activeValue:u.status})),(0,t.createElement)(yi,{leftItem:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(rS,{placeholder:(0,ce.__)("Search jobs...","ai-job-listing"),onChange:e=>{v(e)}})),rightItem:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(KA,{type:"select",name:"job_trash",value:i,select2Style:tu,options:[{value:!1,label:"Active"},{value:!0,label:"Trash"}],onChange:t=>{o(t.value.value),e(vt).getJobLists(t.value.value?{column:"specific",trash:t.value.value,status:u.status}:{column:"specific",status:u.status})}}),(0,t.createElement)(io,{text:(0,ce.__)("Post New Job","ai-job-listing"),href:"/job/create",btnStyle:"secondary",icon:"tio-add text-[16px]",disabled:!h,onClick:()=>{e(vt).setJobPostForm({...ht}),e(vt).setJobFormStep(1),e(vt).setJobFormStepCompleted(1)}}))}),b?(0,t.createElement)(QA,{block:f.length}):(0,t.createElement)(iS,{header:_,body:f},(0,t.createElement)("div",{customKey:"title"},e=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h5",{className:"mb-[5px]"},(0,t.createElement)(Wn,{to:`/job/list/${e.id}`,className:"decoration-transparent font-bold hover:text-primary focus:ring-0"},e.title)),Ye(e?.attribute_values,"job_departments")&&(0,t.createElement)("div",{className:"mb-[15px] text-b2-table"},(0,t.createElement)("span",null,Ye(e?.attribute_values,"job_departments"))),(0,t.createElement)("div",{className:"flex items-center gap-2.5"},oS(e?.application_deadline)&&(0,t.createElement)("div",{className:"flex items-center gap-[5px] text-b1-notice-comment"},(0,t.createElement)("i",{className:"tio-calendar"}),(0,t.createElement)("span",null,oS(e?.application_deadline))),e?.status&&sS(e.status)))),(0,t.createElement)("div",{customKey:"total_applicants"},e=>(0,t.createElement)("div",{className:"flex items-center justify-center"},e?.total_applicants&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:e?.total_unread>"0"?"font-bold":""},e?.total_unread)," ","/",(0,t.createElement)("span",null,e?.total_applicants)))),(0,t.createElement)("div",{customKey:"status"},e=>null===e?.deleted_at&&"draft"!==e?.status&&"expired"!==e?.status&&(0,t.createElement)(xS,{id:"status",initialValue:"active"==e.status,onChange:t=>x({status:!0===t?.value?"active":"inactive",id:e.id,currentStatus:e.status})})),(0,t.createElement)("div",{customKey:"actions"},n=>(0,t.createElement)(t.Fragment,null,null===n?.deleted_at&&(0,t.createElement)("div",{className:"flex items-center justify-end gap-2.5"},(0,t.createElement)(io,{text:(0,ce.__)("View Details","ai-job-listing"),btnStyle:"action",outline:!0,href:`/job/list/${n.id}`}),(0,t.createElement)(io,{href:`/job/edit/${n.id}`,text:(0,ce.__)("Edit","ai-job-listing"),btnStyle:"action",outline:!0,onClick:()=>{e(vt).setJobPostForm({...ht})}}),(0,t.createElement)(VS,null,(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{href:`/job/edit/${n.id}`,text:"archived"===n?.status?(0,ce.__)("Repost","ai-job-listing"):(0,ce.__)("Edit","ai-job-listing"),btnStyle:"transparentPrimary",outline:!0})),(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{text:(0,ce.__)("Delete","ai-job-listing"),btnStyle:"transparentSecondary",outline:!0,onClick:()=>{return t=n.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure to move trash?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{e(vt).deleteJobPost({ids:[t]}).then(t=>{200===t.status&&(e(vt).getJobLists({...u}),e(vt).getJobStatusCount())})}});var t}})),"archived"!==n?.status&&"draft"!==n?.status?(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{text:(0,ce.__)("Archive","ai-job-listing"),btnStyle:"transparentPrimary",outline:!0,onClick:()=>x({status:"archived",id:n.id,currentStatus:n.status})})):null)),null!==n?.deleted_at&&(0,t.createElement)("div",{className:"flex items-center justify-end gap-2.5 w-[270px]"},(0,t.createElement)(io,{text:(0,ce.__)("Restore Job","ai-job-listing"),btnStyle:"action",onClick:()=>{return t=n.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure to restore the job?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{e(vt).restoreTrashJob({ids:[t]}).then(t=>{200===t.status&&(e(vt).getJobLists({...u}),e(vt).getJobStatusCount(),o(!1))})}});var t},outline:!0}),(0,t.createElement)(io,{text:(0,ce.__)("Delete Permanantly","ai-job-listing"),btnStyle:"action",onClick:()=>{return t=n.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are want to delete permanently?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{e(vt).deletePermanentJobPost({ids:[t]}).then(t=>{200===t.status&&(e(vt).getJobLists({...u,trash:!0}),e(vt).getJobStatusCount(),e(vt).getHasJobLimit().then(e=>{p(e)}))})}});var t},outline:!0}))))),(0,t.createElement)(eS,{perPage:y?.posts_per_page,total:m,paginate:t=>{(t=>{null!=t&&e(vt).getJobLists({...u,page:t})})(t)}}))},qS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,HS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,$S=/\.(m3u8)($|\?)/i,WS=/\.(mpd)($|\?)/i,GS=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,JS=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,YS=/vimeo\.com\/(?!progressive_redirect).+/,KS=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,QS=/open\.spotify\.com\/(\w+)\/(\w+)/i,XS=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,ZS=/tiktok\.com\/(?:@[^/]+\/video\/)?(\d+)(?:\/([\w-]+))?/,eP=(e,t)=>{if(Array.isArray(e)){for(const n of e){if("string"==typeof n&&eP(n,t))return!0;if(eP(n.src,t))return!0}return!1}return t(e)},tP={html:e=>eP(e,e=>qS.test(e)||HS.test(e)),hls:e=>eP(e,e=>$S.test(e)),dash:e=>eP(e,e=>WS.test(e)),mux:e=>GS.test(e),youtube:e=>JS.test(e),vimeo:e=>YS.test(e)&&!HS.test(e)&&!$S.test(e),wistia:e=>KS.test(e),spotify:e=>QS.test(e),twitch:e=>XS.test(e),tiktok:e=>ZS.test(e)};var nP=Pt.forwardRef((e,t)=>{const n=qS.test(`${e.src}`)?"audio":"video";return Pt.createElement(n,{...e,ref:t},e.children)}),rP=[{key:"hls",name:"hls.js",canPlay:tP.hls,canEnablePIP:()=>!0,player:(0,Pt.lazy)(()=>Promise.all([__webpack_require__.e(394),__webpack_require__.e(262)]).then(__webpack_require__.bind(__webpack_require__,8805)))},{key:"dash",name:"dash.js",canPlay:tP.dash,canEnablePIP:()=>!0,player:(0,Pt.lazy)(()=>__webpack_require__.e(395).then(__webpack_require__.bind(__webpack_require__,6517)))},{key:"mux",name:"Mux",canPlay:tP.mux,canEnablePIP:()=>!0,player:(0,Pt.lazy)(()=>Promise.all([__webpack_require__.e(394),__webpack_require__.e(723)]).then(__webpack_require__.bind(__webpack_require__,7979)))},{key:"youtube",name:"YouTube",canPlay:tP.youtube,player:(0,Pt.lazy)(()=>__webpack_require__.e(446).then(__webpack_require__.bind(__webpack_require__,4808)))},{key:"vimeo",name:"Vimeo",canPlay:tP.vimeo,player:(0,Pt.lazy)(()=>__webpack_require__.e(173).then(__webpack_require__.bind(__webpack_require__,4183)))},{key:"wistia",name:"Wistia",canPlay:tP.wistia,canEnablePIP:()=>!0,player:(0,Pt.lazy)(()=>__webpack_require__.e(340).then(__webpack_require__.bind(__webpack_require__,2868)))},{key:"spotify",name:"Spotify",canPlay:tP.spotify,canEnablePIP:()=>!1,player:(0,Pt.lazy)(()=>__webpack_require__.e(771).then(__webpack_require__.bind(__webpack_require__,3653)))},{key:"twitch",name:"Twitch",canPlay:tP.twitch,canEnablePIP:()=>!1,player:(0,Pt.lazy)(()=>__webpack_require__.e(42).then(__webpack_require__.bind(__webpack_require__,2682)))},{key:"tiktok",name:"TikTok",canPlay:tP.tiktok,canEnablePIP:()=>!1,player:(0,Pt.lazy)(()=>__webpack_require__.e(85).then(__webpack_require__.bind(__webpack_require__,3188)))},{key:"html",name:"html",canPlay:tP.html,canEnablePIP:()=>!0,player:nP}];const iP={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},oP=Pt.forwardRef((e,t)=>{const{playing:n,pip:r}=e,i=e.activePlayer,o=(0,Pt.useRef)(null),s=(0,Pt.useRef)(!0);if((0,Pt.useEffect)(()=>{var t,r;o.current&&(o.current.paused&&!0===n&&o.current.play(),o.current.paused||!1!==n||o.current.pause(),o.current.playbackRate=null!=(t=e.playbackRate)?t:1,o.current.volume=null!=(r=e.volume)?r:1)}),(0,Pt.useEffect)(()=>{var e,t,n,i,s;if(o.current&&globalThis.document){if(r&&!document.pictureInPictureElement)try{null==(t=(e=o.current).requestPictureInPicture)||t.call(e)}catch(e){}if(!r&&document.pictureInPictureElement)try{null==(i=(n=o.current).exitPictureInPicture)||i.call(n),null==(s=document.exitPictureInPicture)||s.call(document)}catch(e){}}},[r]),!i)return null;const a={};for(const t in e)t.startsWith("on")&&(a[t]=e[t]);return Pt.createElement(i,{...a,style:e.style,className:e.className,slot:e.slot,ref:(0,Pt.useCallback)(e=>{o.current=e,"function"==typeof t?t(e):null!==t&&(t.current=e)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:t=>{var n,r;s.current=!0,null==(n=e.onReady)||n.call(e),null==(r=e.onLoadStart)||r.call(e,t)},onPlay:t=>{var n,r;s.current&&(s.current=!1,null==(n=e.onStart)||n.call(e,t)),null==(r=e.onPlay)||r.call(e,t)}},e.children)});oP.displayName="Player";var sP=oP;const aP=(0,Pt.lazy)(()=>__webpack_require__.e(353).then(__webpack_require__.bind(__webpack_require__,1924))),lP=[],cP=({children:e})=>e;var uP=((e,t)=>{const n=Pt.forwardRef((n,r)=>{const i={...iP,...n},{src:o,slot:s,className:a,style:l,width:c,height:u,fallback:d,wrapper:h}=i,[p,f]=(0,Pt.useState)(!!i.light);(0,Pt.useEffect)(()=>{i.light?f(!0):f(!1)},[i.light]);const m=e=>{var t;f(!1),null==(t=i.onClickPreview)||t.call(i,e)},g=null==h?cP:h,b=!1===d?cP:Pt.Suspense;return Pt.createElement(g,{slot:s,className:a,style:{width:c,height:u,...l}},Pt.createElement(b,{fallback:d},p?(e=>{if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:o,previewAriaLabel:s}=i;return Pt.createElement(aP,{src:e,light:t,playIcon:n,previewTabIndex:r,previewAriaLabel:s,oEmbedUrl:o,onClickPreview:m})})(o):(n=>{var o,l;const c=(n=>{for(const t of[...lP,...e])if(n&&t.canPlay(n))return t;return t||null})(n);if(!c)return null;const{style:u,width:d,height:h,wrapper:p}=i,f=null==(o=i.config)?void 0:o[c.key];return Pt.createElement(sP,{...i,ref:r,activePlayer:null!=(l=c.player)?l:c,slot:p?void 0:s,className:p?void 0:a,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:d,height:h,...u},config:f})})(o)))});return n.displayName="ReactPlayer",n.addCustomPlayer=e=>{lP.push(e)},n.removeCustomPlayers=()=>{lP.length=0},n.canPlay=t=>{if(t)for(const n of[...lP,...e])if(n.canPlay(t))return!0;return!1},n.canEnablePIP=t=>{var n;if(t)for(const r of[...lP,...e])if(r.canPlay(t)&&(null==(n=r.canEnablePIP)?void 0:n.call(r)))return!0;return!1},n})(rP,rP[rP.length-1]);const dP=__webpack_require__.p+"images/pro_update.3563d2aa.png",hP=__webpack_require__.p+"images/intro.6a733c19.png",pP=__webpack_require__.p+"images/application-deadline.5e36bf67.png",fP=__webpack_require__.p+"images/resume-preview.7449117e.png",mP=__webpack_require__.p+"images/ai-description.c7ea3771.png",gP=__webpack_require__.p+"images/email-notification.cec2bf47.png",bP=__webpack_require__.p+"images/search-filter.161c43ad.png",yP=__webpack_require__.p+"images/application-status.75bff7b4.png",vP=({line:e=1})=>(0,t.createElement)("div",{className:"grid gap-4 loader-job-line"},[...Array(0===e?1:e)].map((e,n)=>(0,t.createElement)("div",{key:n,className:"h-2 bg-border-mid rounded animate-pulse loader-line"}))),wP=()=>{const e=(0,n.useDispatch)(),[r,i]=(xn(),(0,t.useState)({column:"specific",status:["active","inactive","expired","archived","draft"]})),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),c=(0,n.useSelect)(e=>e(vt).getJobOverviewStatus(),[]),u=(0,n.useSelect)(e=>e(vt).getJobOverviewStatusLoading(),[]),d=(0,n.useSelect)(e=>e(vt).getJobListsLoading(),[]);(0,t.useEffect)(()=>{e(vt).getJobLists(r).then(e=>{if(e){const t=e?.slice(0,3);l(t)}}),e(vt).setJobApplications().then(e=>{if(e){const t=e?.slice(0,3);s(t)}})},[]);const h=[{key:"title",title:(0,ce.__)("Jobs","ai-job-listing")},{key:"total_applicants",title:(0,ce.__)("Applicants","ai-job-listing"),class:"text-center",bodyClass:"text-center"},{key:"job_departments",title:(0,ce.__)("Department","ai-job-listing")},{key:"job_locations",title:(0,ce.__)("Location","ai-job-listing")},{key:"application_deadline",title:(0,ce.__)("Deadline","ai-job-listing")}],p=(0,n.useSelect)(e=>e(vt).getJobApplicationLoading(),[]),f=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),m=(0,n.useSelect)(e=>e(vt).getHasJobLimit(),[]),g=[{key:"name",title:(0,ce.__)("Applicant Name","ai-job-listing")},{key:"experience",title:(0,ce.__)("Experience","ai-job-listing")},{key:"applied_for",title:(0,ce.__)("Applied For","ai-job-listing")},{key:"expected_salary",title:(0,ce.__)("Expected Salary","ai-job-listing"),class:"text-right",bodyClass:"text-right"}],b=[{title:"Auto Resume Suggest",icon:"tio-checkmark_square_outlined",isAvailable:!1},{title:"Job Alerts",icon:"tio-checkmark_square_outlined",isAvailable:!1},{title:"Auto Delete Applications",icon:"tio-checkmark_square_outlined",isAvailable:!1},{title:"Automatic Job Matching AI",icon:"tio-checkmark_square_outlined",isAvailable:!1}],y=[{icon:pP,title:"Application Deadline",description:"Let applicants know the exact deadlines up front.",isFree:!0,isActive:!0},{icon:fP,title:"Quick Resume Preview",description:"Quickly skim through applicants by key details.",isFree:!0,isActive:!1},{icon:mP,title:"AI Job Description",description:"Write clear, tailored job descriptions with AI",isFree:!0,isActive:!1},{icon:gP,title:"Email Notification",description:"No candidate goes unnoticed, with real time alerts.",isFree:!0,isActive:!1},{icon:bP,title:"Search and Filter",description:"Set your criteria to dig through applications.",isFree:!0,isActive:!1},{icon:yP,title:"Application Status Manager",description:"Easily sort candidates by stage.",isFree:!0,isActive:!1}];return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"w-100 flex gap-5"},(0,t.createElement)("div",{className:"space-y-5 flex-1"},(0,t.createElement)("div",{className:"p-[30px] rounded bg-white"},(0,t.createElement)("div",{className:"flex gap-5 xxl:gap-14"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("h2",{className:"mb-2.5"},"Welcome to AI Job Listing"),(0,t.createElement)("p",null,"A secure, customizable AI-powered WordPress plugin that helps you manage jobs, applicants, and team workflows with ease. Built for growing businesses, HR professionals, and recruitment agencies looking to simplify hiring with zero complexities."),m&&(0,t.createElement)(io,{text:(0,ce.__)("Create A Job","ai-job-listing"),href:"/job/create",btnStyle:"secondary",size:"large"})),(0,t.createElement)("div",{className:"relative hidden m-auto xl:block"},(0,t.createElement)("div",{className:"w-full max-w-[340px] min-h-[190px] aspect-video rounded overflow-hidden"},(0,t.createElement)(uP,{src:"https://www.youtube.com/watch?v=J8tVn6HFFkM",light:(0,t.createElement)("img",{src:hP,alt:"intro"}),playIcon:(0,t.createElement)("i",{className:"hidden"}),controls:!0,style:{width:"100%",height:"auto",aspectRatio:"16/9",borderRadius:"10px"}}))))),(0,t.createElement)("div",{className:"p-[30px] bg-white rounded"},(0,t.createElement)("div",{className:"grid grid-cols-3 gap-4"},u?(0,t.createElement)(vP,{line:4}):(0,t.createElement)("div",{className:"p-[20px] xxl:p-[30px] xxl:flex-row flex flex-col-reverse items-center justify-between gap-5 border border-border-light rounded-md"},(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"leading-[1] flex-1 text-center xxl:text-left"},(0,t.createElement)("div",{className:"mb-3 text-[20px] text-headline"},"Total Job Posts"),(0,t.createElement)("div",{className:"text-[32px] font-semibold text-[#2F3448]"},c?.total_jobs)),(0,t.createElement)("div",{className:"flex items-center justify-center h-[67px] w-[67px] rounded-full text-[32px] bg-[#E3E3FF]"},(0,t.createElement)("i",{className:"tio-briefcase text-purple"})))),u?(0,t.createElement)(vP,{line:4}):(0,t.createElement)("div",{className:"p-[20px] xxl:p-[30px] xxl:flex-row flex flex-col-reverse items-center justify-between gap-5 border border-border-light rounded-md"},(0,t.createElement)("div",{className:"leading-[1] flex-1 text-center xxl:text-left"},(0,t.createElement)("div",{className:"mb-3 text-[20px] text-headline"},"Total Active Jobs"),(0,t.createElement)("div",{className:"text-[32px] font-semibold text-[#2F3448]"},c?.total_active_jobs)),(0,t.createElement)("div",{className:"flex items-center justify-center h-[67px] w-[67px] rounded-full text-[32px] bg-[#FFF2C5]"},(0,t.createElement)("i",{className:"tio-file_text text-yellow"}))),u?(0,t.createElement)(vP,{line:4}):(0,t.createElement)("div",{className:"p-[20px] xxl:p-[30px] xxl:flex-row flex flex-col-reverse items-center justify-between gap-5 border border-border-light rounded-md"},(0,t.createElement)("div",{className:"leading-[1] flex-1 text-center xxl:text-left"},(0,t.createElement)("div",{className:"mb-3 text-[20px] text-headline"},"Total Applicants"),(0,t.createElement)("div",{className:"text-[32px] font-semibold text-[#2F3448]"},c?.total_applicants)),(0,t.createElement)("div",{className:"flex items-center justify-center h-[67px] w-[67px] rounded-full text-[32px] bg-[#D6F3FF]"},(0,t.createElement)("i",{className:"tio-group_senior text-info"}))))),(0,t.createElement)("div",{className:"p-[30px] rounded bg-white dashboard-table"},(0,t.createElement)("div",{className:"flex items-center justify-between gap-5"},(0,t.createElement)("h3",{className:"text-primary"},"Recent Job Post"),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(Wn,{to:"/job-list",className:"flex items-center gap-1.5 text-success text-b2-regular ring-0 focus:ring-0 transition-all hover:text-primary"},"View All ",(0,t.createElement)("i",{className:"tio-arrow_forward"})))),d?(0,t.createElement)(QA,{block:a.length}):(0,t.createElement)(iS,{header:h,body:a},(0,t.createElement)("div",{customKey:"title"},e=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h5",{className:"mb-[5px]"},e.title))),(0,t.createElement)("div",{customKey:"job_departments"},e=>Ye(e?.attribute_values,"job_departments")&&(0,t.createElement)("span",null,Ye(e?.attribute_values,"job_departments"))),(0,t.createElement)("div",{customKey:"job_locations"},e=>Ye(e?.attribute_values,"job_locations")&&(0,t.createElement)("span",null,Ye(e?.attribute_values,"job_locations"))),(0,t.createElement)("div",{customKey:"application_deadline"},e=>oS(e?.application_deadline)&&(0,t.createElement)("span",null,oS(e?.application_deadline))))),(0,t.createElement)("div",{className:"p-[30px] rounded bg-white dashboard-table"},(0,t.createElement)("div",{className:"flex items-center justify-between gap-5"},(0,t.createElement)("h3",{className:"text-primary"},"Recent Applicant"),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(Wn,{to:"/applicants",className:"flex items-center gap-1.5 text-success text-b2-regular ring-0 focus:right-0 transition-all hover:text-primary"},"View All ",(0,t.createElement)("i",{className:"tio-arrow_forward"})))),(0,t.createElement)(t.Fragment,null,p?(0,t.createElement)(QA,{block:o?.length}):(0,t.createElement)(iS,{header:g,body:o},(0,t.createElement)("div",{customKey:"name"},e=>(0,t.createElement)("div",{className:"flex items-center leading-[1.2]"},e.profile_image_url?(0,t.createElement)("img",{className:"w-8 h-8 m-0 rounded-full",src:e.profile_image_url,alt:Ke(e?.meta_attributes,"full_name")}):(0,t.createElement)("span",{className:"rounded-full text-placeholder text-[32px]"},(0,t.createElement)("i",{className:"tio-account_circle"})),(0,t.createElement)("span",{className:"ml-2.5 mb-0 font-medium text-headline"},Ke(e?.meta_attributes,"full_name")))),(0,t.createElement)("div",{customKey:"experience"},e=>Ke(e?.meta_attributes,"work_experience")&&(0,t.createElement)(t.Fragment,null,Ke(e?.meta_attributes,"work_experience"))),(0,t.createElement)("div",{customKey:"applied_for"},e=>(0,t.createElement)("span",null,e?.job_title?.title)),(0,t.createElement)("div",{customKey:"expected_salary"},e=>Ke(e?.meta_attributes,"expected_salary")&&(0,t.createElement)(t.Fragment,null,f?.currency_symbol,Je(Ke(e?.meta_attributes,"expected_salary")))))))),(0,t.createElement)("div",{className:"w-[450px] xxl:w-[540px] space-y-5"},(0,t.createElement)("div",{className:"px-[30px] pt-[30px] pb-[15px] rounded bg-white text-center"},(0,t.createElement)("div",{className:"m-5"},(0,t.createElement)("img",{className:"my-0 mx-auto",src:dP,alt:"pro update"})),(0,t.createElement)("h2",{className:"text-h1 mb-3"},"Get More Done With Premium"),(0,t.createElement)("p",null,"Further automate your job board and reduce busy work with the premium features of AI Job Listing. "),(0,t.createElement)("div",{className:"mt-3.5"},b.map((e,n)=>(0,t.createElement)("div",{key:n,className:"py-3.5 flex items-center border-border-light "+(n===b.length-1?"":"border-b")},(0,t.createElement)("i",{className:`${e.icon} text-primary text-[20px]`}),(0,t.createElement)("div",{className:"pl-5 text-b3-mid text-headline"},e.title),(0,t.createElement)("div",{className:"pl-2 text-b3-mid text-secondary"},e.isAvailable?"":"(Coming Soon)"))))),(0,t.createElement)("div",{className:"p-[30px] rounded bg-white"},(0,t.createElement)("h3",{className:"text-primary"},"AI Job Listing Features"),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2.5"},y.map((e,n)=>(0,t.createElement)("div",{className:"p-5 border border-border-light rounded-md",key:n},(0,t.createElement)("div",{className:"mb-5 flex items-center justify-between gap-2"},(0,t.createElement)("div",null,(0,t.createElement)("img",{className:"my-0 mx-auto",src:e.icon,alt:e.title})),(0,t.createElement)("div",{className:"flex items-center gap-2.5"},(0,t.createElement)("div",{className:"px-2.5 py-[1px] border rounded-sm  text-[13px] font-bold leading-[16px] "+(e.isFree?"border-green text-green bg-success-light":"border-info text-info bg-info-light")},e.isFree?"Free":"PRO"))),(0,t.createElement)("div",null,(0,t.createElement)("h6",{className:"mb-1.5"},e.title),(0,t.createElement)("p",{className:"m-0 text-[14px] leading-[20px]"},e.description)))))))))},_P=()=>{const[e,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),s=(0,n.useSelect)(e=>e(dt).getSettingsAttributes(),[]),a=(0,n.useSelect)(e=>e(dt).getLoadingSettings(),[]);return(0,t.useEffect)(()=>{const e=[{id:1,key:"general_settings",title:"GENERAL SETTINGS",settings:[{id:1,name:"Career Page Design",icon:"tio-book_outlined",slug:"/settings/general/career-page"},{id:2,name:"Email Templates",icon:"tio-email_outlined",slug:"/settings/general/email-templates"},{id:3,name:"AI Settings",icon:"tio-magic_wand",slug:"/settings/general/ai-settings"}]},{id:2,key:"job_settings",title:"DYNAMIC DATA",settings:s}],t=e.map(e=>{const t=e.settings.filter(e=>e.name.toLowerCase().includes(i.toLowerCase()));return{...e,settings:t}}).filter(e=>e.settings.length>0);i.length>0?r(t):r(e)},[s,i]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:"Settings"}),(0,t.createElement)("div",{className:"relative mb-[30px]"},(0,t.createElement)("button",{type:"submit",className:" absolute top-[4px] left-[20px] z-10 text-[24px] text-b3-meta"},(0,t.createElement)("i",{className:"tio-search"})),(0,t.createElement)("input",{name:"settings_search",type:"text",placeholder:"Search items on settings",onChange:e=>o(e.target.value),className:"w-[440px] h-[50px] !pl-[54px] !py-1 !px-[15] text-[15px] text-b3-meta !border !border-solid !border-border-mid !rounded focus:!outline-none focus:!shadow-none focus:ring-0"})),a?(0,t.createElement)(QA,{block:a.length}):(0,t.createElement)(t.Fragment,null,e.length>0?e.map(e=>(0,t.createElement)("div",{key:e.id,className:"mb-[30px]"},(0,t.createElement)("div",{className:"mb-5 text-b4-mid text-b1-notice-comment uppercase"},e.title),(0,t.createElement)("div",{className:"flex items-center flex-wrap gap-5"},e.settings.filter(e=>!1!==e?.permission).sort((e,t)=>e.name.localeCompare(t.name)).map(n=>(0,t.createElement)(Wn,{to:"job_settings"===e.key?"jobs/"+n.slug:n.slug,className:"no-underline shadow-none outline-none focus:shadow-none",key:n.id},(0,t.createElement)("div",{className:"group h-[144px] w-[210px] flex items-center justify-center flex-col gap-2.5 p-2.5 bg-white rounded border border-white transition-all hover:border-primary hover:bg-primary"},(0,t.createElement)("div",{className:"h-[50px] w-[50px] flex items-center justify-center rounded-full text-[24px] bg-background text-primary"},(0,t.createElement)("i",{className:n.icon})),(0,t.createElement)("span",{className:"text-[14px] text-headline font-medium transition-all group-hover:text-white"},(0,ce.__)(`${n.name}`,"ai-job-listing")))))))):(0,t.createElement)("div",{className:"text-[20px] text-headline font-medium"},"No Data Found")))};function xP(e,t,n,r){let i=nr(n);(0,Pt.useEffect)(()=>{function n(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)},[e,t,r])}function EP(e){let t=rr(e),n=(0,Pt.useRef)(!1);(0,Pt.useEffect)(()=>(n.current=!1,()=>{n.current=!0,Yn(()=>{n.current&&t()})}),[t])}var kP=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(kP||{});function AP(e,t){let n=(0,Pt.useRef)([]),r=rr(e);(0,Pt.useEffect)(()=>{let e=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let i=r(t,e);return n.current=t,i}},[r,...t])}let SP=[];function PP(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}!function(){function e(){"loading"!==document.readyState&&((()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&SP[0]!==e.target&&(SP.unshift(e.target),SP=SP.filter(e=>null!=e&&e.isConnected),SP.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",e))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",e),e())}();var CP=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(CP||{});let TP=Kr(function(e,t){let n=(0,Pt.useRef)(null),r=Dr(n,t),{initialFocus:i,containers:o,features:s=30,...a}=e;ir()||(s=1);let l=Cr(n);!function({ownerDocument:e},t){let n=function(e=!0){let t=(0,Pt.useRef)(SP.slice());return AP(([e],[n])=>{!0===n&&!1===e&&Yn(()=>{t.current.splice(0)}),!1===n&&!0===e&&(t.current=SP.slice())},[e,SP,t]),rr(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);AP(()=>{t||(null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&vr(n())},[t]),EP(()=>{t&&vr(n())})}({ownerDocument:l},Boolean(16&s));let c=function({ownerDocument:e,container:t,initialFocus:n},r){let i=(0,Pt.useRef)(null),o=ES();return AP(()=>{if(!r)return;let s=t.current;s&&Yn(()=>{if(!o.current)return;let t=null==e?void 0:e.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===t)return void(i.current=t)}else if(s.contains(t))return void(i.current=t);null!=n&&n.current?vr(n.current):Er(s,dr.First)===hr.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[r]),i}({ownerDocument:l,container:n,initialFocus:i},Boolean(2&s));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let o=ES();xP(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!o.current)return;let s=PP(n);t.current instanceof HTMLElement&&s.add(t.current);let a=r.current;if(!a)return;let l=e.target;l&&l instanceof HTMLElement?MP(s,l)?(r.current=l,vr(l)):(e.preventDefault(),e.stopPropagation(),vr(a)):vr(r.current)},!0)}({ownerDocument:l,container:n,containers:o,previousActiveElement:c},Boolean(8&s));let u=function(){let e=(0,Pt.useRef)(0);return Sr("keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}(),d=rr(e=>{let t=n.current;t&&ar(u.current,{[kP.Forwards]:()=>{Er(t,dr.First,{skipElements:[e.relatedTarget]})},[kP.Backwards]:()=>{Er(t,dr.Last,{skipElements:[e.relatedTarget]})}})}),h=Qn(),p=(0,Pt.useRef)(!1),f={ref:r,onKeyDown(e){"Tab"==e.key&&(p.current=!0,h.requestAnimationFrame(()=>{p.current=!1}))},onBlur(e){let t=PP(o);n.current instanceof HTMLElement&&t.add(n.current);let r=e.relatedTarget;r instanceof HTMLElement&&"true"!==r.dataset.headlessuiFocusGuard&&(MP(t,r)||(p.current?Er(n.current,ar(u.current,{[kP.Forwards]:()=>dr.Next,[kP.Backwards]:()=>dr.Previous})|dr.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&vr(e.target)))}};return Pt.createElement(Pt.Fragment,null,Boolean(4&s)&&Pt.createElement(lS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:aS.Focusable}),Wr({ourProps:f,theirProps:a,defaultTag:"div",name:"FocusTrap"}),Boolean(4&s)&&Pt.createElement(lS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:aS.Focusable}))}),OP=Object.assign(TP,{features:CP});function MP(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let DP=(0,Pt.createContext)(!1);function IP(e){return Pt.createElement(DP.Provider,{value:e.force},e.children)}let NP=Pt.Fragment,jP=Pt.Fragment,RP=(0,Pt.createContext)(null),LP=(0,Pt.createContext)(null),FP=Kr(function(e,t){let n=e,r=(0,Pt.useRef)(null),i=Dr(function(e,t=!0){return Object.assign(e,{[Mr]:t})}(e=>{r.current=e}),t),o=Cr(r),s=function(e){let t=(0,Pt.useContext)(DP),n=(0,Pt.useContext)(RP),r=Cr(e),[i,o]=(0,Pt.useState)(()=>{if(!t&&null!==n||er.isServer)return null;let e=null==r?void 0:r.getElementById("headlessui-portal-root");if(e)return e;if(null===r)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)});return(0,Pt.useEffect)(()=>{null!==i&&(null!=r&&r.body.contains(i)||null==r||r.body.appendChild(i))},[i,r]),(0,Pt.useEffect)(()=>{t||null!==n&&o(n.current)},[n,o,t]),i}(r),[a]=(0,Pt.useState)(()=>{var e;return er.isServer?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null}),l=(0,Pt.useContext)(LP),c=ir();return tr(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),tr(()=>{if(a&&l)return l.register(a)},[l,a]),EP(()=>{var e;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}),c&&s&&a?(0,Ot.createPortal)(Wr({ourProps:{ref:i},theirProps:n,defaultTag:NP,name:"Portal"}),a):null}),BP=Kr(function(e,t){let{target:n,...r}=e,i={ref:Dr(t)};return Pt.createElement(RP.Provider,{value:n},Wr({ourProps:i,theirProps:r,defaultTag:jP,name:"Popover.Group"}))}),VP=Object.assign(FP,{Group:BP});const zP="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:UP,useEffect:qP,useLayoutEffect:HP,useDebugValue:$P}=Ct;function WP(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!zP(n,e)}catch{return!0}}const GP="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:i},o]=UP({inst:{value:r,getSnapshot:t}});return HP(()=>{i.value=r,i.getSnapshot=t,WP(i)&&o({inst:i})},[e,r,t]),qP(()=>(WP(i)&&o({inst:i}),e(()=>{WP(i)&&o({inst:i})})),[e]),$P(r),r},JP="useSyncExternalStore"in Ct?(e=>e.useSyncExternalStore)(Ct):GP;function YP(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=(null!=(n=t.defaultView)?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,o=e-i;n.style(r,"paddingRight",`${o}px`)}}}function KP(){return kr()?{before({doc:e,d:t,meta:n}){function r(e){return n.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var n;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let n=Kn();n.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>n.dispose()))}let i=null!=(n=window.scrollY)?n:window.pageYOffset,o=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let n=t.target.closest("a");if(!n)return;let{hash:i}=new URL(n.href),s=e.querySelector(i);s&&!r(s)&&(o=s)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(e.target instanceof HTMLElement)if(r(e.target)){let n=e.target;for(;n.parentElement&&r(n.parentElement);)n=n.parentElement;t.style(n,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(e.target instanceof HTMLElement)if(r(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;i!==t&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function QP(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let XP=function(e,t){let n=new Map,r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e,...i){let o=t[e].call(n,...i);o&&(n=o,r.forEach(e=>e()))}}}(0,{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:Kn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:QP(n)},i=[KP(),YP(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];i.forEach(({before:e})=>null==e?void 0:e(r)),i.forEach(({after:e})=>null==e?void 0:e(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});XP.subscribe(()=>{let e=XP.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&XP.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&XP.dispatch("TEARDOWN",n)}});let ZP=new Map,eC=new Map;function tC(e,t=!0){tr(()=>{var n;if(!t)return;let r="function"==typeof e?e():e.current;if(!r)return;let i=null!=(n=eC.get(r))?n:0;return eC.set(r,i+1),0!==i||(ZP.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),function(){var e;if(!r)return;let t=null!=(e=eC.get(r))?e:1;if(1===t?eC.delete(r):eC.set(r,t-1),1!==t)return;let n=ZP.get(r);n&&(null===n["aria-hidden"]?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",n["aria-hidden"]),r.inert=n.inert,ZP.delete(r))}},[e,t])}let nC=(0,Pt.createContext)(()=>{});nC.displayName="StackContext";var rC=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(rC||{});function iC({children:e,onUpdate:t,type:n,element:r,enabled:i}){let o=(0,Pt.useContext)(nC),s=rr((...e)=>{null==t||t(...e),o(...e)});return tr(()=>{let e=void 0===i||!0===i;return e&&s(0,n,r),()=>{e&&s(1,n,r)}},[s,n,r,i]),Pt.createElement(nC.Provider,{value:s},e)}var oC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oC||{}),sC=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(sC||{});let aC={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},lC=(0,Pt.createContext)(null);function cC(e){let t=(0,Pt.useContext)(lC);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,cC),t}return t}function uC(e,t){return ar(t.type,aC,e,t)}lC.displayName="DialogContext";let dC=Hr.RenderStrategy|Hr.Static,hC=Kr(function(e,t){let n=sr(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:s,role:a="dialog",__demoMode:l=!1,...c}=e,[u,d]=(0,Pt.useState)(0),h=(0,Pt.useRef)(!1);a="dialog"===a||"alertdialog"===a?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let p=Br();void 0===i&&null!==p&&(i=(p&Fr.Open)===Fr.Open);let f=(0,Pt.useRef)(null),m=Dr(f,t),g=Cr(f),b=e.hasOwnProperty("open")||null!==p,y=e.hasOwnProperty("onClose");if(!b&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if("function"!=typeof o)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let v=i?0:1,[w,_]=(0,Pt.useReducer)(uC,{titleId:null,descriptionId:null,panelRef:(0,Pt.createRef)()}),x=rr(()=>o(!1)),E=rr(e=>_({type:0,id:e})),k=!!ir()&&!l&&0===v,A=u>1,S=null!==(0,Pt.useContext)(lC),[P,C]=function(){let e=(0,Pt.useContext)(LP),t=(0,Pt.useRef)([]),n=rr(n=>(t.current.push(n),e&&e.register(n),()=>r(n))),r=rr(n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)}),i=(0,Pt.useMemo)(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,(0,Pt.useMemo)(()=>function({children:e}){return Pt.createElement(LP.Provider,{value:i},e)},[i])]}(),T={get current(){var e;return null!=(e=w.panelRef.current)?e:f.current}},{resolveContainers:O,mainTreeNodeRef:M,MainTreeNode:D}=function({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let i=(0,Pt.useRef)(null!=(r=null==n?void 0:n.current)?r:null),o=Cr(i),s=rr(()=>{var n,r,s;let a=[];for(let t of e)null!==t&&(t instanceof HTMLElement?a.push(t):"current"in t&&t.current instanceof HTMLElement&&a.push(t.current));if(null!=t&&t.current)for(let e of t.current)a.push(e);for(let e of null!=(n=null==o?void 0:o.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(i.current)||e.contains(null==(s=null==(r=i.current)?void 0:r.getRootNode())?void 0:s.host)||a.some(t=>e.contains(t))||a.push(e));return a});return{resolveContainers:s,contains:rr(e=>s().some(t=>t.contains(e))),mainTreeNodeRef:i,MainTreeNode:(0,Pt.useMemo)(()=>function(){return null!=n?null:Pt.createElement(lS,{features:aS.Hidden,ref:i})},[i,n])}}({portals:P,defaultContainers:[T]}),I=A?"parent":"leaf",N=null!==p&&(p&Fr.Closing)===Fr.Closing,j=!S&&!N&&k,R=(0,Pt.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==g?void 0:g.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&e.contains(M.current)&&e instanceof HTMLElement))?t:null},[M]);tC(R,j);let L=!!A||k,F=(0,Pt.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==g?void 0:g.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(M.current)&&e instanceof HTMLElement))?t:null},[M]);tC(F,L),Pr(O,e=>{e.preventDefault(),x()},!(!k||A));let B=!(A||0!==v);xP(null==g?void 0:g.defaultView,"keydown",e=>{B&&(e.defaultPrevented||e.key===ei.Escape&&(e.preventDefault(),e.stopPropagation(),x()))}),function(e,t,n=()=>[document.body]){!function(e,t,n){let r=function(e){return JP(e.subscribe,e.getSnapshot,e.getSnapshot)}(XP),i=e?r.get(e):void 0,o=!!i&&i.count>0;tr(()=>{if(e&&t)return XP.dispatch("PUSH",e,n),()=>XP.dispatch("POP",e,n)},[t,e])}(e,t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}})}(g,!(N||0!==v||S),O),(0,Pt.useEffect)(()=>{if(0!==v||!f.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&x()}});return e.observe(f.current),()=>e.disconnect()},[v,f,x]);let[V,z]=dS(),U=(0,Pt.useMemo)(()=>[{dialogState:v,close:x,setTitleId:E},w],[v,w,x,E]),q=(0,Pt.useMemo)(()=>({open:0===v}),[v]),H={ref:m,id:r,role:a,"aria-modal":0===v||void 0,"aria-labelledby":w.titleId,"aria-describedby":V};return Pt.createElement(iC,{type:"Dialog",enabled:0===v,element:f,onUpdate:rr((e,t)=>{"Dialog"===t&&ar(e,{[rC.Add]:()=>d(e=>e+1),[rC.Remove]:()=>d(e=>e-1)})})},Pt.createElement(IP,{force:!0},Pt.createElement(VP,null,Pt.createElement(lC.Provider,{value:U},Pt.createElement(VP.Group,{target:f},Pt.createElement(IP,{force:!1},Pt.createElement(z,{slot:q,name:"Dialog.Description"},Pt.createElement(OP,{initialFocus:s,containers:O,features:k?ar(I,{parent:OP.features.RestoreFocus,leaf:OP.features.All&~OP.features.FocusLock}):OP.features.None},Pt.createElement(C,null,Wr({ourProps:H,theirProps:c,slot:q,defaultTag:"div",features:dC,visible:0===v,name:"Dialog"}))))))))),Pt.createElement(D,null))}),pC=Kr(function(e,t){let n=sr(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:o},s]=cC("Dialog.Backdrop"),a=Dr(t);(0,Pt.useEffect)(()=>{if(null===s.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let l=(0,Pt.useMemo)(()=>({open:0===o}),[o]);return Pt.createElement(IP,{force:!0},Pt.createElement(VP,null,Wr({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))}),fC=Kr(function(e,t){let n=sr(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:o},s]=cC("Dialog.Panel"),a=Dr(t,s.panelRef),l=(0,Pt.useMemo)(()=>({open:0===o}),[o]),c=rr(e=>{e.stopPropagation()});return Wr({ourProps:{ref:a,id:r,onClick:c},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Panel"})}),mC=Kr(function(e,t){let n=sr(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:o,close:s}]=cC("Dialog.Overlay"),a=Dr(t),l=rr(e=>{if(e.target===e.currentTarget){if(zr(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),s()}});return Wr({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:(0,Pt.useMemo)(()=>({open:0===o}),[o]),defaultTag:"div",name:"Dialog.Overlay"})}),gC=Kr(function(e,t){let n=sr(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:s}]=cC("Dialog.Title"),a=Dr(t);(0,Pt.useEffect)(()=>(s(r),()=>s(null)),[r,s]);let l=(0,Pt.useMemo)(()=>({open:0===o}),[o]);return Wr({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:"h2",name:"Dialog.Title"})}),bC=Object.assign(hC,{Backdrop:pC,Panel:fC,Overlay:mC,Title:gC,Description:pS});const yC=({isOpen:e,closeModal:n,children:r,areaClass:i="",zindex:o="z-10"})=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)(BS,{appear:!0,show:e,as:t.Fragment},(0,t.createElement)(bC,{as:"div",className:`${o} relative tailwind-typography`,onClose:n},(0,t.createElement)(BS.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},(0,t.createElement)("div",{className:"fixed inset-0 bg-black/25"})),(0,t.createElement)("div",{className:"fixed inset-0 overflow-y-auto"},(0,t.createElement)("div",{className:"flex min-h-full items-center justify-center ml-[160px] p-4 text-center"},(0,t.createElement)(BS.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},(0,t.createElement)(bC.Panel,{className:`${i} w-full transform overflow-hidden rounded bg-white p-[50px] text-left align-middle shadow-xl transition-all`},r))))))),vC=__webpack_require__(6087),wC=()=>{const[e,i]=(0,t.useState)(!1),o=(0,n.useDispatch)(),s=An().slug,[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)([]),[p,f]=(0,t.useState)({attribute_slug:s,status:"active"}),m=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]);function g(){i(!1)}const b=(0,n.useSelect)(e=>e(dt).getMetaFormData(),[s]),y=(0,n.useSelect)(e=>e(dt).getLoadingSettingsMeta(),[]),v=(0,n.useSelect)(e=>e(dt).getSettingsAttributeMetaTotal(),[]);(0,t.useEffect)(()=>{o(dt).getSettingAttributeMetas(p).then(e=>{e&&(h(e),""==c&&u(e.metaAttributeLabel))})},[p]);const w=vC.debounce(e=>{f({...p,search:e})},500);return rt(d?.data,"value"),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:c,backButton:!0}),(0,t.createElement)(yi,{leftItem:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(rS,{name:"attribute_search",placeholder:"Search",onChange:e=>w(e)})),rightItem:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(KA,{type:"select",name:"attribute_trash",value:a,select2Style:tu,options:[{value:!1,label:"Active"},{value:!0,label:"Trash"}],onChange:e=>{l(e.value.value),f({...p,status:e.value.value?"trash":"active"})}}),(0,t.createElement)("div",null,c?(0,t.createElement)(io,{btnStyle:"secondary",icon:"tio-add",text:"Add New",onClick:()=>{i(!0),o(dt).setMetaFormData({...r})}}):null))}),y?(0,t.createElement)(QA,{block:d?.data?.length}):(0,t.createElement)(iS,{header:[{key:"value",title:"Name"},{key:"action",title:"Action",class:"w-[80px]"}],body:d.data},(0,t.createElement)("div",{customKey:"action"},e=>(0,t.createElement)("div",{className:"flex items-start justify-end gap-2"},null===e?.deleted_at?(0,t.createElement)(io,{text:"Edit",btnStyle:"action",outline:!0,onClick:()=>{i(!0),o(dt).setSettingAttributeSingleMeta(e.id)}}):(0,t.createElement)(io,{text:"Restore",btnStyle:"action",outline:!0,onClick:()=>{return t=e.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure to restore the settings?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{o(dt).restoreSettingsMeta({ids:[t]}).then(e=>{200===e.status&&f({...p})})}});var t}}),null===e?.deleted_at?(0,t.createElement)(VS,null,(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{text:"Trash",btnStyle:"transparentSecondary",outline:!0,onClick:()=>{return t=e.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure move to trash?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{o(dt).deleteSettingsMeta({ids:[t]}).then(e=>{200===e.status&&f({...p})})}});var t}}))):(0,t.createElement)(VS,null,(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{text:"Delete Permanantly",btnStyle:"transparentSecondary",outline:!0,onClick:()=>{return t=e.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure to delete permanently?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{o(dt).deletePermanentlySettingsMeta({ids:[t]}).then(e=>{200===e.status&&f({...p})})}});var t}})))))),(0,t.createElement)(eS,{perPage:m?.posts_per_page,total:v,paginate:e=>{(e=>{null!=e&&f({...p,page:e})})(e)}}),(0,t.createElement)(yC,{isOpen:e,closeModal:g,areaClass:"max-w-[600px]"},(0,t.createElement)("div",{className:"flex justify-between border-b border-border-mid pb-5 mb-5"},(0,t.createElement)("h3",{className:"mb-0"},c),(0,t.createElement)("button",{onClick:g,className:"text-[20px] leading-[1] absolute top-[20px] right-[20px] text-border-dark"},(0,t.createElement)("i",{className:"tio-clear"}))),(0,t.createElement)("div",{className:"mb-4"},(0,t.createElement)(KA,{label:`${c} Name`,type:"text",name:"value",value:b.value,className:"!border-border-mid",onChange:e=>{o(dt).setMetaFormData({...b,attribute_id:d.metaAttributeId,[e.name]:e.value})}})),(0,t.createElement)("div",null,(0,t.createElement)(io,{text:"Save Changes",btnStyle:"secondary",size:"mid",onClick:()=>{o(dt).saveAttributeMeta(b).then(e=>{e&&f({...p})}),i(!1)}}))))};var _C=__webpack_require__(20);const xC=e=>{const{onChange:n=()=>{},id:r="",minDate:i,defaultValue:o=""}=e,s=(0,t.useRef)(null),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),d=e=>{s.current&&!s.current.contains(e.target)&&l(!1)};return(0,t.useEffect)(()=>(document.addEventListener("click",d,!0),()=>{document.removeEventListener("click",d,!0)})),(0,t.useEffect)(()=>{if(o){const e=new Date(o);u(isNaN(e)?"":(0,Ge.default)(e,"yyyy-MM-dd"))}},[o]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{ref:s,className:"relative",id:r},(0,t.createElement)("button",{type:"button",onClick:()=>l(!a),className:"w-full h-[42px] flex items-center justify-between px-5 py-1 border border-border-dark rounded cursor-pointer"},(0,t.createElement)("span",{className:"text-[14px] text-headline"},c??(0,t.createElement)("div",{className:"text-b2-table"})),(0,t.createElement)("span",{className:"text-[16px] text-b1-notice-comment"},(0,t.createElement)("i",{className:"tio-calendar_month"}))),a&&(0,t.createElement)(_C.Vv,{date:o?new Date(o):new Date,minDate:i,onChange:e=>{const t={dateOnly:(0,Ge.default)(e,"yyyy-MM-dd"),timeOnly:(()=>{const e=new Date;return`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`})()};u(t.dateOnly),n({name:r,value:{...t,value:t.dateOnly+" "+t.timeOnly}}),l(!a)}})))},EC=()=>{const e=An().id,r=kn(),[i,o]=(0,t.useState)({}),s=(0,n.useDispatch)(),a=(0,n.useSelect)(e=>e(vt).getJobPostForm(),[]),l=(0,n.useSelect)(e=>e(vt).getJobPostFormLoading(),[]),c=(0,n.useSelect)(e=>e(dt).getJobSettings(),[]),u=e=>{Object.keys(i).forEach(t=>{t===e.name&&delete i[t]}),s(vt).setJobPostForm({...a,[e.name]:"object"==typeof e.value?e.value?.value:e.value})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},(0,ce.__)("Primary Job Information","ai-job-listing")),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-5"},(0,t.createElement)("div",null,(0,t.createElement)(KA,{type:"text",label:(0,ce.__)("Job Title *","ai-job-listing"),name:"title",value:a.title,onChange:u,errorMessage:i.title})),(0,t.createElement)("div",null,(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Job Department *","ai-job-listing"),name:"job_departments",value:a.job_departments,options:c.departments,onChange:u,errorMessage:i.job_departments})),(0,t.createElement)("div",null,(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Job Type *","ai-job-listing"),name:"job_types",value:a.job_types,options:c.jobType,onChange:u,errorMessage:i.job_types})),(0,t.createElement)("div",null,(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Job Shift *","ai-job-listing"),name:"job_shifts",value:a.job_shifts,options:c.shifts,onChange:u,errorMessage:i.job_shifts})),(0,t.createElement)("div",null,(0,t.createElement)(oo,null,(0,ce.__)("Application Deadline *","ai-job-listing")),(0,t.createElement)(xC,{defaultValue:a.application_deadline,onChange:u,minDate:new Date,id:"application_deadline"}),i.application_deadline&&(0,t.createElement)("div",{className:"text-error text-b5-regular mt-1.5"},i.application_deadline)),(0,t.createElement)("div",null,(0,t.createElement)(KA,{type:"number",label:(0,ce.__)("No. Of Vacancies *","ai-job-listing"),name:"no_of_vacancies",value:a.no_of_vacancies,onChange:u,errorMessage:i.no_of_vacancies})),(0,t.createElement)("div",null,(0,t.createElement)(oo,null,"Require Applicant to Upload Photo *"),(0,t.createElement)("div",{className:"flex items-center gap-[10px]"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"resume_inclose_no",className:"block py-[8px] px-[20px] border border-solid border-border-dark rounded cursor-pointer"},(0,t.createElement)(KA,{type:"radio",name:"is_required_cv_photo",id:"resume_inclose_no",value:"0",onChange:u,checked:"0"===a.is_required_cv_photo||void 0,right:(0,t.createElement)(oo,{htmlFor:"resume_inclose_no",className:"mb-0 ml-[10px] font-normal !text-b1-notice-comment cursor-pointer"},"No")}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"resume_inclose_yes",className:"block py-[8px] px-[20px] border border-solid border-border-dark rounded cursor-pointer"},(0,t.createElement)(KA,{type:"radio",name:"is_required_cv_photo",id:"resume_inclose_yes",value:"1",onChange:u,checked:"1"===a.is_required_cv_photo||void 0,right:(0,t.createElement)(oo,{htmlFor:"resume_inclose_yes",className:"mb-0 ml-[10px] font-normal !text-b1-notice-comment cursor-pointer"},"Yes")})))),i.is_required_cv_photo&&(0,t.createElement)("div",{className:"text-error text-b5-regular mt-1.5"},i.is_required_cv_photo))),(0,t.createElement)("div",{className:"mt-[30px] text-right"},(0,t.createElement)(io,{type:"button",btnStyle:"secondary",size:"large",text:"Next",icon:l?"animate-spin tio-refresh":"",disabled:l,onClick:()=>{const t={};null!==a.title&&a.title.trim()||(t.title=(0,ce.__)("Title is required","ai-job-listing")),null===a.job_departments&&(t.job_departments=(0,ce.__)("Job Department is required","ai-job-listing")),null===a.job_types&&(t.job_types=(0,ce.__)("Job Type is required","ai-job-listing")),null===a.job_shifts&&(t.job_shifts=(0,ce.__)("Job Shift is required","ai-job-listing")),null===a.no_of_vacancies&&(t.no_of_vacancies=(0,ce.__)("No of Vacancies is required","ai-job-listing")),null===a.application_deadline&&(t.application_deadline=(0,ce.__)("Application Deadline is required","ai-job-listing")),null===a.is_required_cv_photo&&(t.is_required_cv_photo=(0,ce.__)("Please select one","ai-job-listing")),Object.keys(t).length>0?o(t):s(vt).saveJobPostForm({...a,form_step_complete:Number(a?.form_step_complete)>1?a?.form_step_complete:1}).then(t=>{!e&&t&&r(`/job/edit/${t.id}`),s(vt).setJobFormStep(2)})}})))};var kC=__webpack_require__(6614);kC.domToReact,kC.htmlToDOM,kC.attributesToProps,kC.Comment,kC.Element,kC.ProcessingInstruction,kC.Text;const AC=kC;function SC(e){return AC(e)}const PC=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)({}),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c=(0,n.useSelect)(e=>e(vt).getJobPostForm(),[]),u=(0,n.useSelect)(e=>e(vt).getJobPostFormLoading(),[]),d=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),h=(0,n.useSelect)(e=>e(dt).getJobSettings(),[]),p=(0,n.useSelect)(e=>e(vt).getJobAiDescription(),[]),f=(0,n.useSelect)(e=>e(vt).getJobAiDescriptionLoading(),[]),[m,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)("");function v(){g(!1),l(!1)}const w=t=>{Object.keys(r).forEach(e=>{e===t.name&&delete r[e]}),e(vt).setJobPostForm({...c,[t.name]:"object"==typeof t.value?t.value?.value:t.value})};return(0,t.useEffect)(()=>{""!==c?.benefits&&s(!0),e(St).getGeneralSettings()},[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},"More Job Information"),(0,t.createElement)("div",{className:"text-right"},(0,t.createElement)(io,{text:f?"Proccessing":"AI Generator",href:d?.open_ai_api_key?void 0:"/settings/general/ai-settings",icon:f?"animate-spin tio-refresh":"tio-magic_wand",disabled:!!f,btnStyle:"secondary",onClick:()=>{c.id&&d?.open_ai_api_key&&(g(!0),e(vt).generateAiDescription({id:c.id}))}})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"{__('Write Job Description', 'ai-job-listing')}",label:(0,ce.__)("Job Description *","ai-job-listing"),id:"description",value:c.description,onChange:w,errorMessage:r.description})),(0,t.createElement)("div",{className:"max-w-[415px] mb-5"},(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Location *","ai-job-listing"),name:"job_locations",value:c.job_locations,options:h.locations,onChange:w,errorMessage:r.job_locations})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(oo,null,"Salary"),(0,t.createElement)("div",{className:"flex items-center gap-5 max-w-[500px]"},(0,t.createElement)("div",{className:"w-[130px]"},(0,t.createElement)(KA,{type:"number",placeholder:"Min. Salary",name:"min_salary",value:c.min_salary>0?c.min_salary:"",onChange:w})),(0,t.createElement)("div",{className:"w-[130px]"},(0,t.createElement)(KA,{type:"number",placeholder:"Max. Salary",name:"max_salary",value:c.max_salary>0?c.max_salary:"",onChange:w})),(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)(KA,{type:"select",name:"job_salary_type",value:c.job_salary_type,options:h.salaryType,onChange:w}))),(0,t.createElement)("div",{className:"text-error text-b5-regular mt-1.5"},r.max_salary)),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"Write Job Description",label:(0,ce.__)("Job Responsibility *","ai-job-listing"),id:"responsibilities",value:c.responsibilities,onChange:w,errorMessage:r.responsibilities})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"checkbox",id:"job-benifit",onChange:()=>s(!o),checked:o,right:(0,t.createElement)(oo,{htmlFor:"job-benifit",className:"mb-0"},"Job Benefits"),style:{marginRight:"8px"}})),o&&(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"Write Job Benifits",id:"benefits",value:c.benefits,onChange:w,errorMessage:r.benefits})),(0,t.createElement)("div",{className:"mt-[30px] flex items-center justify-between gap-2.5"},(0,t.createElement)(io,{type:"button",btnStyle:"light",size:"large",outline:!0,text:"Back",onClick:()=>e(vt).setJobFormStep(1)}),(0,t.createElement)(io,{type:"button",btnStyle:"secondary",size:"large",text:"Next",icon:u?"animate-spin tio-refresh":"",disabled:u,onClick:()=>{const t={};""===c?.description&&(t.description="Description is required"),null===c?.job_locations&&(t.job_locations="Location is required"),""!==c?.responsibilities&&null!==c?.responsibilities||(t.responsibilities="Job Responsibility is required"),Number(c?.max_salary)<Number(c?.min_salary)&&(t.max_salary="Max salary should be greater than min salary"),o&&""===c?.benefits&&(t.benefits="Benifit requirement is required"),Object.keys(t).length>0?i(t):e(vt).saveJobPostForm({...c,form_step_complete:Number(c?.form_step_complete)>2?c?.form_step_complete:2}).then(t=>{e(vt).setJobFormStep(3)})}})),(0,t.createElement)(yC,{isOpen:m,closeModal:v,areaClass:"mt-10 max-w-[620px]"},(0,t.createElement)("div",{className:"flex justify-between items-end mb-5"},(0,t.createElement)("h4",{className:"mb-0"},"Job Description"),(0,t.createElement)("button",{onClick:v,className:"text-[20px] text-border-dark leading-[1] absolute top-5 right-5 focus:outline-none focus:shadow-none"},(0,t.createElement)("i",{className:"tio-clear"}))),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"mb-5 h-[240px] overflow-y-auto"},f?(0,t.createElement)(vP,{line:10}):SC(p)),!f&&(0,t.createElement)("button",{type:"button",onClick:e=>(()=>{const e=p.replace(/(<([^>]+)>)/gi,"");et(e).then(e=>{e?.message&&l(!0)})})(),className:"text-[16px] text-green leading-[1]"},a?"Copied!":(0,t.createElement)("i",{className:"tio-copy text-[20px] text-b1-notice-comment"}))),(0,t.createElement)("div",{className:"mt-5"},(0,t.createElement)("form",{onSubmit:t=>(t=>{t.preventDefault(),e(vt).generateAiDescription({new_query_txt:b}),l(!1)})(t)},(0,t.createElement)("div",{className:"relative "+(f?"pointer-events-none":"")},(0,t.createElement)(KA,{name:"attribute_search",type:"text",value:b,placeholder:"Message",onChange:e=>y(e.value),className:"!pr-10"}),(0,t.createElement)("button",{type:"submit",className:"px-[6px] py-[5px] rounded-xsm absolute top-2 right-3 z-10 text-[14px] leading-[1] text-white bg-secondary"},f?(0,t.createElement)("span",{className:"animate-spin block"},(0,t.createElement)("i",{className:"tio-sync"})):(0,t.createElement)("i",{className:"tio-arrow_upward"})))))))},CC=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)({}),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c=(0,n.useSelect)(e=>e(vt).getJobPostForm(),[]),u=(0,n.useSelect)(e=>e(vt).getJobPostFormLoading(),[]),d=(0,n.useSelect)(e=>e(dt).getJobSettings(),[]),h=t=>{Object.keys(r).forEach(e=>{e===t.name&&delete r[e]}),e(vt).setJobPostForm({...c,[t.name]:"object"==typeof t.value?t.value?.value:t.value})};return(0,t.useEffect)(()=>{""!==c?.additional_requirements&&s(!0),""!==c?.additional_notes&&l(!0)},[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},(0,ce.__)("Educational Qualifications","ai-job-listing")),(0,t.createElement)("div",{className:"max-w-[415px] mb-5"},(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Preferred *","ai-job-listing"),name:"job_education_qualifications",value:c.job_education_qualifications,options:d.qualification,onChange:h,errorMessage:r.job_education_qualifications})),(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},(0,ce.__)("Candidates Requirements","ai-job-listing")),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"Primary Requirements",label:(0,ce.__)("Primary Requirements *","ai-job-listing"),id:"requirements",value:c.requirements,onChange:h,errorMessage:r.requirements})),(0,t.createElement)("div",{className:"max-w-[415px] mb-5"},(0,t.createElement)(KA,{type:"select",label:(0,ce.__)("Experience *","ai-job-listing"),name:"experienced_year",value:c.experienced_year,options:d.experinceYears,onChange:h,errorMessage:r.experienced_year})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"checkbox",id:"additional-req",onChange:()=>{s(!o)},checked:o,right:(0,t.createElement)(oo,{htmlFor:"additional-req",className:"mb-0"},(0,ce.__)("Optional/Preferred Requirements:","ai-job-listing")),style:{marginRight:"8px"}})),o&&(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"Additional Requirements",id:"additional_requirements",value:c.additional_requirements,onChange:h,errorMessage:r.additional_requirements})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"checkbox",id:"additional-note",onChange:()=>l(!a),checked:a,right:(0,t.createElement)(oo,{htmlFor:"additional-note",className:"mb-0"},(0,ce.__)("Additional Note:","ai-job-listing")),style:{marginRight:"8px"}})),a&&(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text-editor",placeholder:"Additional Note",id:"additional_notes",value:c.additional_notes,onChange:h,errorMessage:r.additional_notes})),(0,t.createElement)("div",{className:"mt-[30px] flex items-center justify-between gap-2.5"},(0,t.createElement)(io,{type:"button",btnStyle:"light",size:"large",outline:!0,text:"Back",onClick:()=>e(vt).setJobFormStep(2)}),(0,t.createElement)(io,{type:"button",btnStyle:"secondary",size:"large",text:"Next",icon:u?"animate-spin tio-refresh":"",disabled:u,onClick:()=>{const t={};null===c?.job_education_qualifications&&(t.job_education_qualifications="Education is required"),""===c?.requirements&&(t.requirements="Primary requirement is required"),""!==c?.experienced_year&&null!==c?.experienced_year||(t.experienced_year="Experience is required"),o&&""===c?.additional_requirements&&(t.additional_requirements="Additional requirement is required"),a&&""===c?.additional_notes&&(t.additional_notes="Additional Note is required"),Object.keys(t).length>0?i(t):e(vt).saveJobPostForm({...c,additional_requirements:o?c.additional_requirements:"",additional_notes:a?c.additional_notes:"",form_step_complete:Number(c?.form_step_complete)>3?c?.form_step_complete:3}).then(t=>{e(vt).setJobFormStep(4)})}})))},TC=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)({}),[o,s]=(0,t.useState)(null),a=(0,n.useSelect)(e=>e(vt).getJobPostForm(),[]),l=(0,n.useSelect)(e=>e(vt).getJobPostFormLoading(),[]),c=t=>{Object.keys(r).forEach(e=>{e===t.name&&delete r[e]}),e(vt).setJobPostForm({...a,[t.name]:"object"==typeof t.value?t.value?.value:t.value,feature_image:o})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},(0,ce.__)("SEO Information","ai-job-listing")),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text",label:(0,ce.__)("Meta Title *","ai-job-listing"),name:"seo_title",value:a.seo_title,onChange:c,errorMessage:r.seo_title})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"textarea",label:(0,ce.__)("Meta Description *","ai-job-listing"),name:"seo_description",value:a.seo_description,onChange:c,errorMessage:r.seo_description})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(oo,{className:"mb-[20px]"},(0,ce.__)("Upload Featured Image","ai-job-listing")),(0,t.createElement)("div",{className:"p-10 border-2 border-dashed border-border-mid rounded text-center"},a?.feature_image?(0,t.createElement)("img",{src:a?.feature_image,alt:"Attachment",className:"max-w-full mx-auto mb-[30px] mt-0"}):(0,t.createElement)("button",{onClick:()=>{const t=wp.media({title:(0,ce.__)("Choose Image","ai-job-listing"),button:{text:(0,ce.__)("Choose Image","ai-job-listing")},multiple:!1,library:{type:"image"}});t.on("select",()=>{const n=t.state().get("selection").first().toJSON();"image"===n.type?(s(n.url),e(vt).setJobPostForm({...a,feature_image:n.url})):alert((0,ce.__)("Choose Image","ai-job-listing"))}),t.open()},type:"button",className:"text-b2-regular"},(0,t.createElement)("span",{className:"text-headline font-medium block mb-[5px]"},(0,ce.__)("To upload select featured image click here to browser your computer","ai-job-listing")),(0,t.createElement)("span",{className:"text-b3-meta"},(0,ce.__)("The maximum file size is (5 Mb) and the supported file types are .png, .jpg, .jpeg .gif","ai-job-listing"))),(0,t.createElement)("div",{className:"flex items-center justify-center gap-5"},a?.feature_image&&(0,t.createElement)(io,{type:"button",btnStyle:"secondary",outline:!0,text:(0,ce.__)("Remove","ai-job-listing"),onClick:()=>{s(null),e(vt).setJobPostForm({...a,feature_image:null})}})))),(0,t.createElement)("div",{className:"mt-[30px] flex items-center justify-between gap-2.5"},(0,t.createElement)(io,{type:"button",btnStyle:"light",size:"large",outline:!0,text:(0,ce.__)("Back","ai-job-listing"),onClick:()=>e(vt).setJobFormStep(3)}),(0,t.createElement)(io,{type:"button",btnStyle:"secondary",size:"large",text:(0,ce.__)("Next","ai-job-listing"),icon:l?"animate-spin tio-refresh":"",disabled:l,onClick:()=>{const t={};""===a?.seo_title&&(t.seo_title=(0,ce.__)("Seo Title is required","ai-job-listing")),""===a?.seo_description&&(t.seo_description=(0,ce.__)("Seo description is required","ai-job-listing")),Object.keys(t).length>0?i(t):e(vt).saveJobPostForm({...a,form_step_complete:Number(a?.form_step_complete)>4?a?.form_step_complete:4}).then(t=>{e(vt).setJobFormStep(5)})}})))},OC=()=>{const e=An().id,r=(0,n.useDispatch)(),i=kn(),o=(0,n.useSelect)(e=>e(vt).getJobPostForm(),[]),s=(0,n.useSelect)(e=>e(vt).getJobPostFormLoading(),[]),a=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h4",{className:"pb-5 mb-5 border-b border-border-mid text-primary"},"Job Post Preview: ",o.title),o?.description&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Description","ai-job-listing")),SC(o?.description)),o?.responsibilities&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Responsibilities","ai-job-listing")),SC(o?.responsibilities)),o?.requirements&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Primary Requirements","ai-job-listing")),SC(o?.requirements)),o?.experienced_year&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Experience","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},o?.experienced_year_label)),o?.additional_requirements&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Optional/Preferred Requirements","ai-job-listing")),(0,t.createElement)("div",{className:"text-[16px] font-bold text-headline mb-2.5"},(0,ce.__)("***Candidates who meet the following requirements will be given preference.","ai-job-listing")),SC(o?.additional_requirements)),o?.benefits&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Benifits","ai-job-listing")),SC(o?.benefits)),o?.additional_notes&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Additional Notes","ai-job-listing")),SC(o?.additional_notes)),o?.job_locations&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Location","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},Ye(o.attribute_values,"job_locations"))),o?.job_education_qualifications&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Educational Requirements","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},Ye(o.attribute_values,"job_education_qualifications"))),o?.no_of_vacancies&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("No. Of Vacancies","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},o?.no_of_vacancies)),o?.job_types&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Type","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},Ye(o.attribute_values,"job_types"))),o?.job_departments&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Department","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},Ye(o.attribute_values,"job_departments"))),0!=o?.min_salary&&0!=o?.max_salary&&o?.job_salary_type&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Salary Range","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},`${a.currency_symbol}${o?.min_salary} - ${a.currency_symbol}${o?.max_salary} (${Ye(o.attribute_values,"job_salary_type")})`)),"1"===o?.is_required_cv_photo&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Photograph","ai-job-listing")),(0,t.createElement)("ul",null,(0,t.createElement)("li",{className:"text-b1"},(0,ce.__)("Photograph must be enclosed with the resume","ai-job-listing")))),o?.application_deadline&&(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Application Deadline","ai-job-listing")),(0,t.createElement)("div",{className:"text-b1"},oS(o?.application_deadline))),(0,t.createElement)("div",{className:"mt-[30px] pt-[30px] flex items-center justify-between gap-2.5 border-t border-solid border-border-mid"},(0,t.createElement)(io,{type:"button",btnStyle:"light",size:"large",outline:!0,text:(0,ce.__)("Back","ai-job-listing"),onClick:()=>r(vt).setJobFormStep(4)}),(0,t.createElement)(io,{type:"button",btnStyle:"secondary",size:"large",text:(0,ce.__)("Submit Now","ai-job-listing"),icon:s?"animate-spin tio-refresh":"",disabled:s,onClick:()=>{r(vt).saveJobPostForm({...o,form_step_complete:5,status:"active"}).then(t=>{"active"===t.status&&(qe(e?{title:(0,ce.__)("Updated","ai-job-listing"),text:(0,ce.__)("Job Post Updated Successfully","ai-job-listing"),position:"center"}:{title:(0,ce.__)("Submitted","ai-job-listing"),text:(0,ce.__)("Job Post Submitted Successfully","ai-job-listing"),position:"center"}),i("/job/thank-you",{state:{...o,liveUrlBase:a?.page_slug}}))})}})))},MC=()=>{const e=An().id,r=(0,n.useDispatch)(),i=(0,n.useSelect)(e=>e(vt).getJobFormStep(),[]),o=(0,n.useSelect)(e=>e(vt).getJobFormStepCompleted(),[]);(0,t.useEffect)(()=>{e&&r(vt).getJobPostForm(e).then(e=>{5===Number(e?.form_step_complete)?r(vt).setJobFormStep(1):r(vt).setJobFormStep(Number(e?.form_step_complete)+1)}),r(dt).getJobSettings()},[]);const s=[{step:1,value:(0,ce.__)("Job Info","ai-job-listing")},{step:2,value:(0,ce.__)("Job Details","ai-job-listing")},{step:3,value:(0,ce.__)("Requirements","ai-job-listing")},{step:4,value:(0,ce.__)("SEO","ai-job-listing")},{step:5,key:"preview",value:(0,ce.__)("Preview","ai-job-listing")}];return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:"Add New Job Post",backButton:!0}),(0,t.createElement)("div",{className:"bg-white w-[952px] rounded"},(0,t.createElement)("div",{className:"bg-lightblue px-[60px] py-[30px] rounded-t"},(0,t.createElement)("div",{className:"list-none flex items-center gap-5 justify-between p-0 relative z-10"},s?.map(e=>(0,t.createElement)("button",{className:"m-0 p-0 text-center after:h-[2px] after:w-[90%] after:absolute after:bottom-[15px] after:right-0 after:left-0 after:mx-auto after:-z-10 "+(e.step,"after:bg-border-dark"),key:e.step,onClick:()=>{return t=e.step,void(o>=t&&r(vt).setJobFormStep(t));var t}},(0,t.createElement)("span",{className:"block text-[16px] font-bold mb-[12px] "+(i>=e.step?"text-primary":"text-b1-notice-comment")},e.value),(0,t.createElement)("span",{className:`flex items-center justify-center h-[30px] w-[30px] mx-auto border-2 \n                                 rounded-full text-[15px] font-bold bg-white ${i==e.step&&"border-primary !text-primary bg-white"} ${i>e.step?"bg-primary text-primary border-primary":"border-border-dark text-border-dark"}`},i>e.step?(0,t.createElement)("i",{className:"tio-done"}):e.step))))),(0,t.createElement)("div",{className:"job-post-form p-[30px] relative min-h-[550px]"},(0,t.createElement)(()=>{switch(i){case 2:return(0,t.createElement)(PC,null);case 3:return(0,t.createElement)(CC,null);case 4:return(0,t.createElement)(TC,null);case 5:return(0,t.createElement)(OC,null);default:return(0,t.createElement)(EC,null)}},null))))},DC=({isModalOpen:e,isModalClose:r,onSubmit:i=()=>{},commentValue:o="",inputError:s="",onChange:a=()=>{}})=>{const l=(0,n.useSelect)(e=>e(St).getCurrentUser(),[]);return(0,t.createElement)(yC,{isOpen:e,closeModal:r,areaClass:"max-w-[600px] relative"},(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{onClick:r,className:"flex items-center justify-center absolute top-5 right-5 border-none  text-border-dark leading-[1] transition hover:text-primary focus-visible:outline-0"},(0,t.createElement)("i",{className:"tio-clear"})),(0,t.createElement)("h4",{className:"border-b border-border-mid pb-5"},"Write a comment"),(0,t.createElement)("div",{className:"flex items-start gap-2.5"},l?.avatar_url&&(0,t.createElement)("img",{className:"object-cover w-10 h-10 mt-0 rounded-full",src:l?.avatar_url,alt:l?.display_name}),(0,t.createElement)("form",{onSubmit:e=>i(e)},(0,t.createElement)(KA,{type:"textarea",name:"comment",placeholder:"Write your message here...",className:"h-[100px] focus:ring-0 focus:shadow-none focus:border-border-mid",value:o,onChange:e=>a(e.value),errorMessage:s}),(0,t.createElement)("div",{className:"text-right mt-2.5"},(0,t.createElement)("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-sm bg-secondary text-[14px] text-white"},(0,t.createElement)("i",{className:"tio-telegram"})," Sumbit"))))))};var IC=__webpack_require__(6096);const NC=({pdfSrc:e="",isPdfViewModalOpen:n=!1,closePdfViewModal:r})=>(0,t.createElement)(yC,{isOpen:n,closeModal:r,areaClass:"max-w-[1200px] !p-0 mt-[50px]",zindex:"z-20"},(0,t.createElement)("div",{className:"py-14 px-10 relative"},(0,t.createElement)("div",{className:"flex items-center justify-between gap-5 pb-5 mb-5 border-b border-border-mid"},(0,t.createElement)("h2",{className:"mb-0"},"Resume Of Applicant"),(0,t.createElement)("button",{onClick:r,className:"absolute top-[10px] right-[20px] text-border-dark text-[22px]"},(0,t.createElement)("i",{className:"tio-clear"}))),(0,t.createElement)(IC.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js"},(0,t.createElement)("div",{style:{height:"700px"}},(0,t.createElement)(IC.Viewer,{fileUrl:e}))))),jC=__webpack_require__(5001),RC=({isPreviewModalOpen:e,closePreviewModal:r,jobSingleApplication:i,commentText:o="",commentFormError:s="",setCommentText:a=()=>{},submitCommentHandler:l=()=>{},applicationComments:c=[]})=>{const u=(0,n.useSelect)(e=>e(vt).getJobApplicationDetailsLoading(),[]),d=(0,n.useSelect)(e=>e(St).getCurrentUser(),[]),h=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{g(e)},[e]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(yC,{isOpen:m,closeModal:r,areaClass:"max-w-[1400px] !p-0 mt-[50px]"},u?(0,t.createElement)(QA,{block:10}):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"relative p-[50px] bg-background break-all"},(0,t.createElement)("button",{onClick:r,className:"absolute flex items-center justify-center top-[10px] right-[10px] h-8 w-8 rounded-full bg-primary text-white"},(0,t.createElement)("i",{className:"tio-clear"})),(0,t.createElement)("div",{className:" h-[75vh] overflow-y-auto"},(0,t.createElement)("div",{className:"flex gap-5"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("div",{className:"mb-5 bg-white rounded p-[30px]"},(0,t.createElement)("div",{className:"flex items-center gap-[30px]"},i.profile_image_url?(0,t.createElement)("img",{className:"object-cover rounded-full h-[110px] w-[110px] m-0",src:i.profile_image_url,alt:Ke(i?.meta_attributes,"full_name")}):(0,t.createElement)("span",{className:"rounded-full h-[110px] leading-[1]"},(0,t.createElement)("i",{className:"tio-account_circle text-[#c5c5c5] text-[110px]"})),(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("div",{className:"mb-[5px] text-[24px] leading-[34px] font-bold text-headline"},Ke(i?.meta_attributes,"full_name")),Ke(i?.meta_attributes,"email")&&(0,t.createElement)("a",{className:"flex items-start gap-[5px] break-all text-[16px] leading-[24px] text-primary mb-[5px] focus:shadow-none focus:text-blue",href:`mailto:${Ke(i?.meta_attributes,"email")}`},(0,t.createElement)("i",{className:"tio-email text-[15px]"}),(0,t.createElement)("span",{className:"flex-1"},Ke(i?.meta_attributes,"email"))),Ke(i?.meta_attributes,"phone_number")&&(0,t.createElement)("a",{className:"flex items-start gap-[5px] break-all text-[16px] leading-[24px] text-primary focus:shadow-none focus:text-blue",href:`tel:${Ke(i?.meta_attributes,"phone_number")}`},(0,t.createElement)("i",{className:"tio-call_talking_quiet text-[15px]"}),(0,t.createElement)("span",{className:"flex-1"},Ke(i?.meta_attributes,"phone_number")))))),(Ke(i?.meta_attributes,"referred_to")||Ke(i?.meta_attributes,"any_relation"))&&(0,t.createElement)("div",{className:"mb-5 bg-white rounded p-[30px]"},(0,t.createElement)("div",{className:"flex items-center gap-2.5 mb-4 pb-4 border-b border-border-mid text-primary"},(0,t.createElement)("i",{className:"tio-help_outlined text-[25px] leading-[1]"}),(0,t.createElement)("h4",{className:"m-0 text-primary"},"Preliminary Questions")),Ke(i?.meta_attributes,"referred_to")&&(0,t.createElement)("div",{className:"border-b border-background mb-5 pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Were you referred to this position by an employee of this company?"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment capitalize"},Ke(i?.meta_attributes,"referred_to")),Ke(i?.meta_attributes,"referred_person")&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"mt-2 text-b3-mid text-headline"},"Referred By:"),(0,t.createElement)("div",null,jC(Ke(i?.meta_attributes,"referred_person"))))),Ke(i?.meta_attributes,"any_relation")&&(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Do you have any relation to an existing employee at this company?"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment capitalize"},Ke(i?.meta_attributes,"any_relation")),Ke(i?.meta_attributes,"relative_person")&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"mt-2 text-b3-mid text-headline"},"Relatives:"),(0,t.createElement)("div",null,jC(Ke(i?.meta_attributes,"relative_person")))))),(0,t.createElement)("div",{className:"mb-5 bg-white rounded p-[30px]"},(0,t.createElement)("div",{className:"flex items-center gap-2.5 mb-4 pb-4 border-b border-border-mid text-primary"},(0,t.createElement)("i",{className:"tio-money text-[25px] leading-[1]"}),(0,t.createElement)("h4",{className:"m-0 text-primary"},"Schedule & Salary Information")),(0,t.createElement)("div",{className:"grid grid-cols-3 gap-5"},Ke(i?.meta_attributes,"work_experience")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Working Experience ( In Year)"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"work_experience"))),Ke(i?.meta_attributes,"about_us")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"How Did You Hear About Us"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"about_us"))),Ke(i?.meta_attributes,"when_join")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Joining Notice Period"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"when_join"))),Ke(i?.meta_attributes,"expected_salary")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Expected Salary"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},`${h?.currency_symbol}${Je(Ke(i?.meta_attributes,"expected_salary"))}`)),Ke(i?.meta_attributes,"current_salary")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Current Salary"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},`${h.currency_symbol}${Je(Ke(i?.meta_attributes,"current_salary"))}`)),Ke(i?.meta_attributes,"education")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Education"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"education"))),Ke(i?.meta_attributes,"education_institute")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Education Institute"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"education_institute"))),Ke(i?.meta_attributes,"current_company_name")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Current Company Name"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},Ke(i?.meta_attributes,"current_company_name"))),Ke(i?.meta_attributes,"protfolio_link")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Portfolio Link"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},(0,t.createElement)("a",{href:Qe(i?.meta_attributes,"protfolio_link"),target:"_blank",rel:"noopener noreferrer",className:"text-blue"},Ke(i?.meta_attributes,"protfolio_link")))),i?.resume&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Resume"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},(0,t.createElement)("button",{className:"flex items-center gap-1 text-secondary font-bold cursor-pointer focus:shadow-none",onClick:()=>(f(!0),void g(!1)),type:"button"},"See Attachment"))))),(Ke(i?.meta_attributes,"explain_work_experience")||Ke(i?.meta_attributes,"additional_comments"))&&(0,t.createElement)("div",{className:"mb-5 bg-white rounded p-7 word-autophrase"},(0,t.createElement)("div",{className:"flex items-center gap-2.5 mb-4 pb-4 border-b border-border-mid text-primary"},(0,t.createElement)("i",{className:"tio-file_text_outlined text-[25px] leading-[1]"}),(0,t.createElement)("h4",{className:"m-0 text-primary"},"More Information")),(0,t.createElement)("div",{className:"grid gap-5"},Ke(i?.meta_attributes,"explain_work_experience")&&(0,t.createElement)("div",{className:"border-b border-background pb-2.5"},(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Working Experience"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},jC(Ke(i?.meta_attributes,"explain_work_experience")))),Ke(i?.meta_attributes,"additional_comments")&&(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-b3-mid text-headline mb-[5px]"},"Additional Comment"),(0,t.createElement)("div",{className:"text-b1-regular text-b1-notice-comment"},jC(Ke(i?.meta_attributes,"additional_comments"))))))),(0,t.createElement)("div",{className:"max-w-[490px] w-full"},(0,t.createElement)("div",{className:"bg-white rounded p-[30px]"},(0,t.createElement)("div",{className:"flex items-center gap-2.5 mb-5 pb-5 border-b border-border-mid text-primary"},(0,t.createElement)("i",{className:"tio-comment_text_outlined text-[25px] leading-[1]"}),(0,t.createElement)("h4",{className:"m-0 text-primary"},"Comments")),(0,t.createElement)("div",{className:"pb-5 mb-5 border-b border-border-light"},(0,t.createElement)("div",{className:"flex items-start gap-2.5"},d?.avatar_url&&(0,t.createElement)("img",{className:"object-cover w-[42px] h-[42px] m-0 rounded-full",src:d?.avatar_url,alt:d?.display_name}),(0,t.createElement)("form",{onSubmit:e=>l(e),className:"flex-1"},(0,t.createElement)(KA,{type:"text",name:"comment",placeholder:"Write a comment...",className:"!pr-[30px]",value:o,onChange:e=>a(e.value),errorMessage:s,right:(0,t.createElement)("button",{type:"submit",className:"text-[18px] text-secondary absolute top-[5px] right-[15px]"},(0,t.createElement)("i",{className:"tio-telegram"}))})))),c?.map((e,n)=>(0,t.createElement)("div",{className:c?.length-1!==n?"border-b border-border-light pb-5 mb-5":"",key:e.id},(0,t.createElement)("div",{style:{backgroundColor:e?.app_process_obj?.icon_color},className:"inline-flex items-center gap-1.5 px-2.5 py-[2px] mb-5 text-white rounded-xsm text-[15px]"},(0,t.createElement)("i",{className:`${e?.app_process_obj?.icon} text-[14px]`}),e?.app_process_obj?.name),(0,t.createElement)("div",{className:"flex gap-3 item-start"},(0,t.createElement)("img",{className:"h-[42px] w-[42px] m-0 rounded-full object-cover",src:e?.user_obj?.avatar_url,alt:e?.user_obj?.display_name}),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"flex items-center gap-2.5 mb-1"},(0,t.createElement)("span",{className:"text-b2-regular text-headline"},e?.user_obj?.display_name),(0,t.createElement)("span",{className:"text-[14px] text-b3-meta"},oS(e?.created_at))),(0,t.createElement)("p",{className:"m-0 text-b2-regular text-b1-notice-comment"},e?.comment)))))))))))),(0,t.createElement)(NC,{pdfSrc:i?.resume,isPdfViewModalOpen:p,closePdfViewModal:()=>{f(!1),g(!0)}}))},LC=__webpack_require__(6087),FC=()=>{const e=(0,n.useDispatch)(),r=An().id,[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)({status:"unlisted",job_id:r}),[l,c]=(0,t.useState)({job_id:r,process_id:"1",action:"load"}),u=(0,n.useSelect)(e=>e(St).getCurrentUser(),[]),d=(0,n.useSelect)(e=>e(vt).getJobApplicationList(s),[]),h=(0,n.useSelect)(e=>e(vt).getJobApplicationTotalCount(),[]),p=(0,n.useSelect)(e=>e(vt).getJobApplicationStatusCount(l),[]),f=(0,n.useSelect)(e=>e(vt).getJobApplicationLoading(),[]),m=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),g=Object.values(p).slice(0,-2),b=p?.next_step,y=p?.previous_step,v={applications:d,prevStatus:y,nextStatus:b};(0,t.useEffect)(()=>{g?.length>0&&o(g)},[p]),(0,t.useEffect)(()=>{e(vt).setJobApplications(s),e(vt).setJobApplicationStatus(l)},[r,s,l]);const w=(t,n,r)=>{if(Number(r)>2&&Number(n)>Number(r)){j({id:t,movedProccessId:n,currentProccessId:r}),A(!0);const e=Ze(v,t);P(e?.application)}else e(vt).updateJobApplicationStatus({id:t,process_id:n}).then(e=>{if(e){c({...l});for(let e=0;e<i.length;e++){if(i[e].id==n){const t=Number(i[e].count);i[e].count=t+1}if(i[e].id==r){const t=Number(i[e].count);i[e].count=t-1}}}}).catch(e=>{console.error(e)})},_=LC.debounce(e=>{a({...s,search:e,page:1})},500),[x,E]=(0,t.useState)(!1),[k,A]=(0,t.useState)(!1),[S,P]=(0,t.useState)({}),[C,T]=(0,t.useState)([]),[O,M]=(0,t.useState)(""),[D,I]=(0,t.useState)(""),[N,j]=(0,t.useState)({}),R=t=>{t.preventDefault();const n={user_id:u.id||null,app_id:S.id||null,app_process_id:S.process_id||null,comment:O};O.length<1?I((0,ce.__)("Number Of Applicants","ai-job-listing")):(I(""),e(vt).saveApplicationComment(n).then(t=>{t&&(T([t,...C]),M(""),N.id==S.id&&(e(vt).updateJobApplicationStatus({id:N.id,process_id:N.movedProccessId}).then(e=>{if(e){c({...l});for(let e=0;e<i.length;e++){if(i[e].id==N.movedProccessId){const t=Number(i[e].count);i[e].count=t+1}if(i[e].id==N.currentProccessId){const t=Number(i[e].count);i[e].count=t-1}}}}).catch(e=>{console.error(e)}),j({}),A(!1)))}).catch(e=>{console.error(e)}))},[L,F]=(0,t.useState)(!1),B=[{key:"name",title:(0,ce.__)("Name","ai-job-listing"),visibility:!0},{key:"quick_preview",title:(0,ce.__)("Quick Preview","ai-job-listing"),visibility:!0},{key:"quick_actions",title:(0,ce.__)("Quick Actions","ai-job-listing"),visibility:!0},{key:"institute",title:(0,ce.__)("Institute","ai-job-listing"),visibility:!0},{key:"experience",title:(0,ce.__)("Experience","ai-job-listing"),visibility:!0,class:"text-center",bodyClass:"text-center"},{key:"expected_salary",title:(0,ce.__)("Expected Salary","ai-job-listing"),class:"text-right",bodyClass:"text-right",visibility:!0},{key:"application_date",title:(0,ce.__)("Application Date","ai-job-listing"),class:"text-right",bodyClass:"text-right",visibility:!0}].filter(e=>e.visibility);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"flex flex-wrap gap-2.5 mb-5"},i?.map((e,n)=>(0,t.createElement)("div",{className:"flex items-center gap-2.5",key:e.key},(0,t.createElement)("button",{style:{backgroundColor:s.status===e.key?e.iconBg:"#ffffff",borderColor:s.status===e.key?e.iconBg:"#CCCEDE"},className:(s.status===e.key?"pointer-events-none":"")+" flex items-center gap-2.5 py-[8px] px-[25px] border-2 rounded-md",onClick:()=>{a({...s,status:e.key,page:1}),c({...l,process_id:e.id?e.id:"",action:"click"}),F(!0),setTimeout(()=>{F(!1)},100)}},(0,t.createElement)("span",{style:{backgroundColor:s.status===e.key?"#ffffff":e.iconBg,color:s.status===e.key?e.iconBg:"#ffffff"},className:"h-[33px] w-[33px] flex items-center justify-center rounded-full text-white text-[13px]"},(0,t.createElement)("i",{className:e.icon})),(0,t.createElement)("span",{className:(s.status===e.key?"text-white":"text-b1-notice-comment")+" text-[16px]"},e.label," ",`(${e.count})`)),i.length-1>n?(0,t.createElement)("span",{className:"text-[15px] text-b2-table"},(0,t.createElement)("i",{className:"tio-chevron_right"})):null))),(0,t.createElement)(yi,{leftItem:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(rS,{placeholder:(0,ce.__)("Search Applicants...","ai-job-listing"),onChange:e=>{_(e)}}))}),f?(0,t.createElement)(QA,{block:v?.applications?.length}):(0,t.createElement)(iS,{header:B,body:v?.applications},(0,t.createElement)("div",{customKey:"name"},n=>(0,t.createElement)("button",{type:"button",className:"flex items-center",onClick:()=>((t,n)=>{E(!0);const r={id:t,is_read:"1"};"0"==n&&e(vt).updateJobApplicationStatus(r).then(e=>{e&&a({...s})}).catch(e=>{console.error(e)});const i=Ze(v,t);P(i?.application),e(vt).setApplicationCommentById({app_id:t}).then(e=>{e&&T(e)}).catch(e=>{console.error(e)})})(n.id,n.is_read)},n.profile_image_url?(0,t.createElement)("img",{className:"w-[42px] h-[42px] m-0 rounded-full",src:n.profile_image_url,alt:Ke(n?.meta_attributes,"full_name")}):(0,t.createElement)("span",{className:" rounded-full text-[#c5c5c5] text-[42px]"},(0,t.createElement)("i",{className:"tio-account_circle"})),(0,t.createElement)("span",{className:"ml-2.5 mb-0 text-[15px] font-medium "+("0"==n.is_read?"text-primary font-bold":"text-b1-notice-comment")},Ke(n?.meta_attributes,"full_name")))),(0,t.createElement)("div",{customKey:"quick_preview"},e=>(0,t.createElement)("div",{className:"inline-grid gap-2.5"},e.resume&&(0,t.createElement)(io,{href:e.resume,text:(0,ce.__)("View Resume","ai-job-listing"),btnStyle:"action",icon:"tio-file_outlined",outline:!0,externalLink:!0}),Ke(e?.meta_attributes,"protfolio_link")&&(0,t.createElement)(io,{href:Ke(e?.meta_attributes,"protfolio_link"),text:(0,ce.__)("View Portfolio","ai-job-listing"),btnStyle:"action",icon:"tio-link",outline:!0,externalLink:!0}))),(0,t.createElement)("div",{customKey:"quick_actions"},e=>e.next_step&&e.previous_step?(0,t.createElement)("div",null,e.process_id!=e?.previous_step?.id&&"rejected"==e.status&&(0,t.createElement)(io,{text:(0,ce.__)("Undo","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,e.previous_process_id,e.process_id)}),e.process_id!=e?.previous_step?.id&&"rejected"!=e.status&&(0,t.createElement)(io,{text:(0,ce.__)("Undo","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,e?.previous_step?.id,e.process_id)}),e.process_id!=e?.next_step?.id&&(0,t.createElement)(io,{text:`${(0,ce.__)("Move to","ai-job-listing")} ${e?.next_step?.name}`,btnStyle:"actionSecondary",icon:"tio-format_bullets",outline:!0,onClick:t=>w(e.id,e?.next_step?.id,e.process_id)}),e.process_id!=e?.next_step?.id&&(0,t.createElement)(io,{text:(0,ce.__)("Reject","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,e?.next_step?.reject_status_id,e.process_id)})):(0,t.createElement)("div",null,e.process_id!=v?.prevStatus?.id&&"rejected"==e.status&&(0,t.createElement)(io,{text:(0,ce.__)("Undo","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,e.previous_process_id,e.process_id)}),e.process_id!=v?.prevStatus?.id&&"rejected"!=e.status&&(0,t.createElement)(io,{text:(0,ce.__)("Undo","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,v?.prevStatus?.id,e.process_id)}),e.process_id!=v?.nextStatus?.id&&(0,t.createElement)(io,{text:`${(0,ce.__)("Move to","ai-job-listing")} ${v?.nextStatus?.name}`,btnStyle:"actionSecondary",icon:"tio-format_bullets",outline:!0,onClick:t=>w(e.id,v?.nextStatus?.id,e.process_id)}),e.process_id!=v?.nextStatus?.id&&(0,t.createElement)(io,{text:(0,ce.__)("Reject","ai-job-listing"),btnStyle:"transparentDanger",icon:"tio-clear",onClick:t=>w(e.id,v?.nextStatus?.reject_status_id,e.process_id)}))),(0,t.createElement)("div",{customKey:"institute"},e=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"mb-2.5 pb-2.5 border-b border-shadelight"},Ke(e?.meta_attributes,"education_institute")),(0,t.createElement)("div",null,Ke(e?.meta_attributes,"current_company_name")))),(0,t.createElement)("div",{customKey:"experience"},e=>Ke(e?.meta_attributes,"work_experience")&&(0,t.createElement)(t.Fragment,null,Ke(e?.meta_attributes,"work_experience"))),(0,t.createElement)("div",{customKey:"expected_salary"},e=>Ke(e?.meta_attributes,"expected_salary")&&(0,t.createElement)(t.Fragment,null,m.currency_symbol,Ke(e?.meta_attributes,"expected_salary"))),(0,t.createElement)("div",{customKey:"application_date"},e=>oS(e?.date))),L?"":(0,t.createElement)(eS,{perPage:m?.posts_per_page,total:h,paginate:e=>(e=>{null!=e&&a({...s,page:e})})(e)}),(0,t.createElement)(RC,{isPreviewModalOpen:x,closePreviewModal:function(){E(!1),M("")},jobSingleApplication:S,commentText:O,commentFormError:D,setCommentText:e=>M(e),submitCommentHandler:R,applicationComments:C}),(0,t.createElement)(DC,{isModalOpen:k,isModalClose:function(){A(!1),M("")},onSubmit:R,commentValue:O,inputError:D,onChange:e=>M(e)}))},BC=({getJobDetails:e={},settings:n={}})=>(0,t.createElement)("div",{className:"w-full p-[30px] rounded bg-white"},(0,t.createElement)("h2",{className:"mb-[30px]"},e.title),e?.description&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Description","ai-job-listing")),SC(e?.description)),e?.responsibilities&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Responsibilities","ai-job-listing")),SC(e?.responsibilities)),e?.requirements&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Primary Requirements","ai-job-listing")),SC(e?.requirements)),e?.experienced_year&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Experience","ai-job-listing")),(0,t.createElement)("div",{className:"text-[17px] text-b1-notice-comment"},e?.experienced_year?.value)),e?.additional_requirements&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Optional/Preferred Requirements","ai-job-listing")),(0,t.createElement)("div",{className:"text-[14px] font-bold"},(0,ce.__)("Candidates who meet the following preference.","ai-job-listing")),SC(e?.additional_requirements)),e?.benefits&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Benifits","ai-job-listing")),SC(e?.benefits)),e?.additional_notes&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Additional Note","ai-job-listing")),SC(e?.additional_notes)),e?.attribute_values&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Location","ai-job-listing")),(0,t.createElement)("div",null,Ye(e.attribute_values,"job_locations"))),e?.attribute_values&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Educational Requirements","ai-job-listing")),(0,t.createElement)("div",null,Ye(e.attribute_values,"job_education_qualifications"))),e?.no_of_vacancies&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("No. Of Vacancies","ai-job-listing")),(0,t.createElement)("div",null,e?.no_of_vacancies)),e?.attribute_values&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Type","ai-job-listing")),(0,t.createElement)("div",null,Ye(e.attribute_values,"job_types"))),e?.attribute_values&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Job Department","ai-job-listing")),(0,t.createElement)("div",null,Ye(e.attribute_values,"job_departments"))),0!=e?.min_salary&&0!=e?.max_salary&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Salary Range","ai-job-listing")),(0,t.createElement)("div",null,`${n?.currency_symbol}${Je(e?.min_salary)} - ${n?.currency_symbol}${Je(e?.max_salary)} (${Ye(e.attribute_values,"job_salary_type")})`)),"1"===e?.is_required_cv_photo&&(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Photograph","ai-job-listing")),(0,t.createElement)("ul",null,(0,t.createElement)("li",null,(0,ce.__)("Photograph must be enclosed with the resume","ai-job-listing")))),e?.application_deadline&&(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"mb-2.5"},(0,ce.__)("Application Deadline","ai-job-listing")),(0,t.createElement)("div",null,oS(e?.application_deadline))));function VC(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=VC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const zC=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=VC(e))&&(r&&(r+=" "),r+=t);return r};var UC=__webpack_require__(7350),qC=__webpack_require__.n(UC),HC=__webpack_require__(5015),$C=__webpack_require__.n(HC),WC=__webpack_require__(1741),GC=__webpack_require__.n(WC),JC=__webpack_require__(5775),YC=__webpack_require__.n(JC),KC=__webpack_require__(8023),QC=__webpack_require__.n(KC),XC=__webpack_require__(9843),ZC=__webpack_require__.n(XC),eT=function(e){return 0===e?0:e>0?1:-1},tT=function(e){return $C()(e)&&e.indexOf("%")===e.length-1},nT=function(e){return QC()(e)&&!GC()(e)},rT=function(e){return nT(e)||$C()(e)},iT=0,oT=function(e){var t=++iT;return"".concat(e||"").concat(t)},sT=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!nT(e)&&!$C()(e))return r;if(tT(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return GC()(n)&&(n=r),i&&n>t&&(n=t),n},aT=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},lT=function(e,t){return nT(e)&&nT(t)?function(n){return e+n*(t-e)}:function(){return t}};function cT(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):YC()(e,t))===n}):null}var uT=function(e,t){return nT(e)&&nT(t)?e-t:$C()(e)&&$C()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},dT=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},hT=__webpack_require__(1882),pT=__webpack_require__.n(hT),fT=__webpack_require__(3805),mT=__webpack_require__.n(fT),gT=__webpack_require__(4580);function bT(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function yT(e){return yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yT(e)}var vT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wT=["points","pathLength"],_T={svg:["viewBox","children"],polygon:wT,polyline:wT},xT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ET=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if((0,Pt.isValidElement)(e)&&(n=e.props),!mT()(n))return null;var r={};return Object.keys(n).forEach(function(e){xT.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},kT=function(e,t,n){if(!mT()(e)||"object"!==yT(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];xT.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},AT=["children"],ST=["children"];function PT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CT(e){return CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(e)}var TT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},OT=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},MT=null,DT=null,IT=function e(t){if(t===MT&&Array.isArray(DT))return DT;var n=[];return Pt.Children.forEach(t,function(t){ZC()(t)||((0,gT.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),DT=n,MT=t,n};function NT(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return OT(e)}):[OT(t)],IT(e).forEach(function(e){var t=YC()(e,"type.displayName")||YC()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function jT(e,t){var n=NT(e,t);return n&&n[0]}var RT=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!nT(n)||n<=0||!nT(r)||r<=0)},LT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],FT=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,Pt.isValidElement)(e)&&(r=e.props),!mT()(r))return null;var i={};return Object.keys(r).forEach(function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==_T?void 0:_T[r])&&void 0!==i?i:[];return t.startsWith("data-")||!pT()(e)&&(r&&o.includes(t)||vT.includes(t))||n&&xT.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])}),i},BT=function e(t,n){if(t===n)return!0;var r=Pt.Children.count(t);if(r!==Pt.Children.count(n))return!1;if(0===r)return!0;if(1===r)return VT(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!VT(o,s))return!1}return!0},VT=function(e,t){if(ZC()(e)&&ZC()(t))return!0;if(!ZC()(e)&&!ZC()(t)){var n=e.props||{},r=n.children,i=PT(n,AT),o=t.props||{},s=o.children,a=PT(o,ST);return r&&s?bT(i,a)&&BT(r,s):!r&&!s&&bT(i,a)}return!1},zT=function(e,t){var n=[],r={};return IT(e).forEach(function(e,i){if(function(e){return e&&e.type&&$C()(e.type)&&LT.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=OT(e.type),s=t[o]||{},a=s.handler,l=s.once;if(a&&(!l||!r[o])){var c=a(e,o,i);n.push(c),r[o]=!0}}}),n};function UT(e){return UT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UT(e)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(t){$T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $T(e,t,n){return t=function(e){var t=function(e){if("object"!=UT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=UT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==UT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GT=(0,Pt.forwardRef)(function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,s=void 0===o?"100%":o,a=e.height,l=void 0===a?"100%":a,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,f=e.debounce,m=void 0===f?0:f,g=e.id,b=e.className,y=e.onResize,v=e.style,w=void 0===v?{}:v,_=(0,Pt.useRef)(null),x=(0,Pt.useRef)();x.current=y,(0,Pt.useImperativeHandle)(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pt.useState)({containerWidth:i.width,containerHeight:i.height}),2),k=E[0],A=E[1],S=(0,Pt.useCallback)(function(e,t){A(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,Pt.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;S(r,i),null===(t=x.current)||void 0===t||t.call(x,r,i)};m>0&&(e=qC()(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=_.current.getBoundingClientRect(),r=n.width,i=n.height;return S(r,i),t.observe(_.current),function(){t.disconnect()}},[S,m]);var P=(0,Pt.useMemo)(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;dT(tT(s)||tT(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),dT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=tT(s)?e:s,i=tT(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),h&&i>h&&(i=h)),dT(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,s,l,u,d,n);var o=!Array.isArray(p)&&OT(p.type).endsWith("Chart");return Tt().Children.map(p,function(e){return Tt().isValidElement(e)?(0,Pt.cloneElement)(e,HT({width:r,height:i},o?{style:HT({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e})},[n,p,l,h,d,u,k,s]);return Tt().createElement("div",{id:g?"".concat(g):void 0,className:zC("recharts-responsive-container",b),style:HT(HT({},w),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:_},P)}),JT=__webpack_require__(3181),YT=__webpack_require__.n(JT),KT=__webpack_require__(3031),QT=__webpack_require__.n(KT);function XT(e,t){if(!e)throw new Error("Invariant failed")}var ZT=["children","width","height","viewBox","className","style","title","desc"];function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eO.apply(this,arguments)}function tO(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,l=e.desc,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ZT),u=i||{width:n,height:r,x:0,y:0},d=zC("recharts-surface",o);return Tt().createElement("svg",eO({},FT(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Tt().createElement("title",null,a),Tt().createElement("desc",null,l),t)}var nO=["children","className"];function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rO.apply(this,arguments)}var iO=Tt().forwardRef(function(e,t){var n=e.children,r=e.className,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nO),o=zC("recharts-layer",r);return Tt().createElement("g",rO({className:o},FT(i,!0),{ref:t}),n)});function oO(e){return oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oO(e)}function sO(){return sO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sO.apply(this,arguments)}function aO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(t){uO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uO(e,t,n){return t=function(e){var t=function(e){if("object"!=oO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dO(e){return Array.isArray(e)&&rT(e[0])&&rT(e[1])?e.join(" ~ "):e}var hO=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,s=void 0===o?{}:o,a=e.labelStyle,l=void 0===a?{}:a,c=e.payload,u=e.formatter,d=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,f=e.label,m=e.labelFormatter,g=e.accessibilityLayer,b=void 0!==g&&g,y=cO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=cO({margin:0},l),w=!ZC()(f),_=w?f:"",x=zC("recharts-default-tooltip",h),E=zC("recharts-tooltip-label",p);w&&m&&null!=c&&(_=m(f,c));var k=b?{role:"status","aria-live":"assertive"}:{};return Tt().createElement("div",sO({className:x,style:y},k),Tt().createElement("p",{className:E,style:v},Tt().isValidElement(_)?_:"".concat(_)),function(){if(c&&c.length){var e=(d?QT()(c,d):c).map(function(e,t){if("none"===e.type)return null;var r=cO({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||u||dO,o=e.value,a=e.name,l=o,d=a;if(i&&null!=l&&null!=d){var h=i(o,a,e,t,c);if(Array.isArray(h)){var p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h,2);l=p[0],d=p[1]}else l=h}return Tt().createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},rT(d)?Tt().createElement("span",{className:"recharts-tooltip-item-name"},d):null,rT(d)?Tt().createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Tt().createElement("span",{className:"recharts-tooltip-item-value"},l),Tt().createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return Tt().createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function pO(e){return pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pO(e)}function fO(e,t,n){return t=function(e){var t=function(e){if("object"!=pO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mO="recharts-tooltip-wrapper",gO={visibility:"hidden"};function bO(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return zC(mO,fO(fO(fO(fO({},"".concat(mO,"-right"),nT(n)&&t&&nT(t.x)&&n>=t.x),"".concat(mO,"-left"),nT(n)&&t&&nT(t.x)&&n<t.x),"".concat(mO,"-bottom"),nT(r)&&t&&nT(t.y)&&r>=t.y),"".concat(mO,"-top"),nT(r)&&t&&nT(t.y)&&r<t.y))}function yO(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&nT(o[r]))return o[r];var u=n[r]-a-i,d=n[r]+i;return t[r]?s[r]?u:d:s[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+a>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function vO(e){return vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vO(e)}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(t){SO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PO(r.key),r)}}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EO=function(){return!!e})()}function kO(e){return kO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kO(e)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AO(e,t)}function SO(e,t,n){return(t=PO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PO(e){var t=function(e){if("object"!=vO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vO(t)?t:t+""}var CO=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SO(e=function(e,t,n){return t=kO(t),function(e,t){if(t&&("object"===vO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EO()?Reflect.construct(t,n||[],kO(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),SO(e,"handleKeyDown",function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}(t,e),n=t,r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.children,a=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,h=t.reverseDirection,p=t.useTranslate3d,f=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,s=e.position,a=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=yO({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=yO({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):gO,cssClasses:bO({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:f}),b=g.cssClasses,y=g.cssProperties,v=_O(_O({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return Tt().createElement("div",{tabIndex:-1,className:b,style:v,ref:function(t){e.wrapperNode=t}},s)}}],r&&xO(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pt.PureComponent),TO={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return TO[e]},set:function(e,t){if("string"==typeof e)TO[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){TO[t]=e[t]})}}},OO=__webpack_require__(14),MO=__webpack_require__.n(OO);function DO(e,t,n){return!0===t?MO()(e,n):pT()(t)?MO()(e,t):e}function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(t){VO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zO(r.key),r)}}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(LO=function(){return!!e})()}function FO(e){return FO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FO(e)}function BO(e,t){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BO(e,t)}function VO(e,t,n){return(t=zO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zO(e){var t=function(e){if("object"!=IO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IO(t)?t:t+""}function UO(e){return e.dataKey}var qO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=FO(t),function(e,t){if(t&&("object"===IO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LO()?Reflect.construct(t,n||[],FO(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BO(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.content,a=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,h=t.payloadUniqBy,p=t.position,f=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,b=t.wrapperStyle,y=null!=d?d:[];l&&y.length&&(y=DO(d.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,UO));var v=y.length>0;return Tt().createElement(CO,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:a,hasPayload:v,offset:u,position:p,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:b},function(e,t){return Tt().isValidElement(e)?Tt().cloneElement(e,t):"function"==typeof e?Tt().createElement(e,t):Tt().createElement(hO,t)}(s,jO(jO({},this.props),{},{payload:y})))}}],r&&RO(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pt.PureComponent);VO(qO,"displayName","Tooltip"),VO(qO,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!TO.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HO=__webpack_require__(5808),$O=__webpack_require__.n(HO);Math.abs,Math.atan2;const WO=Math.cos,GO=(Math.max,Math.min,Math.sin),JO=Math.sqrt,YO=Math.PI,KO=2*YO,QO={draw(e,t){const n=JO(t/YO);e.moveTo(n,0),e.arc(0,0,n,0,KO)}},XO={draw(e,t){const n=JO(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ZO=JO(1/3),eM=2*ZO,tM={draw(e,t){const n=JO(t/eM),r=n*ZO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nM={draw(e,t){const n=JO(t),r=-n/2;e.rect(r,r,n,n)}},rM=GO(YO/10)/GO(7*YO/10),iM=GO(KO/10)*rM,oM=-WO(KO/10)*rM,sM={draw(e,t){const n=JO(.8908130915292852*t),r=iM*n,i=oM*n;e.moveTo(0,-n),e.lineTo(r,i);for(let t=1;t<5;++t){const o=KO*t/5,s=WO(o),a=GO(o);e.lineTo(a*n,-s*n),e.lineTo(s*r-a*i,a*r+s*i)}e.closePath()}},aM=JO(3),lM={draw(e,t){const n=-JO(t/(3*aM));e.moveTo(0,2*n),e.lineTo(-aM*n,-n),e.lineTo(aM*n,-n),e.closePath()}},cM=-.5,uM=JO(3)/2,dM=1/JO(12),hM=3*(dM/2+1),pM={draw(e,t){const n=JO(t/hM),r=n/2,i=n*dM,o=r,s=n*dM+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(cM*r-uM*i,uM*r+cM*i),e.lineTo(cM*o-uM*s,uM*o+cM*s),e.lineTo(cM*a-uM*l,uM*a+cM*l),e.lineTo(cM*r+uM*i,cM*i-uM*r),e.lineTo(cM*o+uM*s,cM*s-uM*o),e.lineTo(cM*a+uM*l,cM*l-uM*a),e.closePath()}};function fM(e){return function(){return e}}const mM=Math.PI,gM=2*mM,bM=1e-6,yM=gM-bM;function vM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class wM{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?vM:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vM;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-e,l=r-t,c=o-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>bM)if(Math.abs(u*a-l*c)>bM&&i){let h=n-o,p=r-s,f=a*a+l*l,m=h*h+p*p,g=Math.sqrt(f),b=Math.sqrt(d),y=i*Math.tan((mM-Math.acos((f+d-m)/(2*g*b)))/2),v=y/b,w=y/g;Math.abs(v-1)>bM&&this._append`L${e+v*c},${t+v*u}`,this._append`A${i},${i},0,0,${+(u*h>c*p)},${this._x1=e+w*a},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>bM||Math.abs(this._y1-c)>bM)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%gM+gM),d>yM?this._append`A${n},${n},0,1,${u},${e-s},${t-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>bM&&this._append`A${n},${n},0,${+(d>=mM)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function _M(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new wM(t)}function xM(e){return xM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xM(e)}JO(3),JO(3);var EM=["type","size","sizeType"];function kM(){return kM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kM.apply(this,arguments)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(t){PM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PM(e,t,n){return t=function(e){var t=function(e){if("object"!=xM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CM={symbolCircle:QO,symbolCross:XO,symbolDiamond:tM,symbolSquare:nM,symbolStar:sM,symbolTriangle:lM,symbolWye:pM},TM=Math.PI/180,OM=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,s=void 0===o?64:o,a=e.sizeType,l=void 0===a?"area":a,c=SM(SM({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,EM)),{},{type:i,size:s,sizeType:l}),u=c.className,d=c.cx,h=c.cy,p=FT(c,!0);return d===+d&&h===+h&&s===+s?Tt().createElement("path",kM({},p,{className:zC("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat($O()(e));return CM[t]||QO}(i),n=function(e,t){let n=null,r=_M(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:fM(e||QO),t="function"==typeof t?t:fM(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:fM(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:fM(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*TM;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,i)),n())})):null};function MM(e){return MM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MM(e)}function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DM.apply(this,arguments)}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BM(r.key),r)}}function jM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jM=function(){return!!e})()}function RM(e){return RM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RM(e)}function LM(e,t){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LM(e,t)}function FM(e,t,n){return(t=BM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BM(e){var t=function(e){if("object"!=MM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=MM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==MM(t)?t:t+""}OM.registerSymbol=function(e,t){CM["symbol".concat($O()(e))]=t};var VM=32,zM=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=RM(t),function(e,t){if(t&&("object"===MM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jM()?Reflect.construct(t,n||[],RM(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LM(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=VM/6,i=VM/3,o=e.inactive?t:e.color;if("plainline"===e.type)return Tt().createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:VM,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return Tt().createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(VM,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return Tt().createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(VM,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Tt().isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(t){FM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,Tt().cloneElement(e.legendIcon,s)}return Tt().createElement(OM,{fill:o,cx:n,cy:n,size:VM,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,s=t.inactiveColor,a={x:0,y:0,width:VM,height:VM},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||o,u=zC(FM(FM({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=pT()(t.value)?null:t.value;dT(!pT()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return Tt().createElement("li",DM({className:u,style:l,key:"legend-item-".concat(n)},kT(e.props,t,n)),Tt().createElement(tO,{width:r,height:r,viewBox:a,style:c},e.renderIcon(t)),Tt().createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(d,t,n):d))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return Tt().createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],r&&NM(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pt.PureComponent);function UM(e){return UM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UM(e)}FM(zM,"displayName","Legend"),FM(zM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qM=["ref"];function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(t){KM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QM(r.key),r)}}function GM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(GM=function(){return!!e})()}function JM(e){return JM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JM(e)}function YM(e,t){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YM(e,t)}function KM(e,t,n){return(t=QM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QM(e){var t=function(e){if("object"!=UM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=UM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==UM(t)?t:t+""}function XM(e){return e.value}var ZM=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KM(e=function(e,t,n){return t=JM(t),function(e,t){if(t&&("object"===UM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GM()?Reflect.construct(t,n||[],JM(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YM(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$M({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,s=r.verticalAlign,a=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:a&&a.right||0}:{left:a&&a.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),$M($M({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,a=t.payload,l=$M($M({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return Tt().createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(Tt().isValidElement(e))return Tt().cloneElement(e,t);if("function"==typeof e)return Tt().createElement(e,t);t.ref;var n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,qM);return Tt().createElement(zM,n)}(n,$M($M({},this.props),{},{payload:DO(a,s,XM)})))}}],i=[{key:"getWithHeight",value:function(e,t){var n=$M($M({},this.defaultProps),e.props).layout;return"vertical"===n&&nT(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&WM(n.prototype,r),i&&WM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Pt.PureComponent);function eD(){return eD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eD.apply(this,arguments)}KM(ZM,"displayName","Legend"),KM(ZM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tD=function(e){var t=e.cx,n=e.cy,r=e.r,i=e.className,o=zC("recharts-dot",i);return t===+t&&n===+n&&r===+r?Pt.createElement("circle",eD({},FT(e,!1),ET(e),{className:o,cx:t,cy:n,r})):null},nD=__webpack_require__(5556),rD=__webpack_require__.n(nD),iD=Object.getOwnPropertyNames,oD=Object.getOwnPropertySymbols,sD=Object.prototype.hasOwnProperty;function aD(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function lD(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),s=i.get(n);if(o&&s)return o===n&&s===t;i.set(t,n),i.set(n,t);var a=e(t,n,r);return i.delete(t),i.delete(n),a}}function cD(e){return iD(e).concat(oD(e))}var uD=Object.hasOwn||function(e,t){return sD.call(e,t)};function dD(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var hD=Object.getOwnPropertyDescriptor,pD=Object.keys;function fD(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function mD(e,t){return dD(e.getTime(),t.getTime())}function gD(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bD(e,t){return e===t}function yD(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,s=new Array(r),a=e.entries(),l=0;(i=a.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(s[d])d++;else{var h=i.value,p=o.value;if(n.equals(h[0],p[0],l,d,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){u=s[d]=!0;break}d++}if(!u)return!1;l++}return!0}var vD=dD;function wD(e,t,n){var r=pD(e),i=r.length;if(pD(t).length!==i)return!1;for(;i-- >0;)if(!PD(e,t,n,r[i]))return!1;return!0}function _D(e,t,n){var r,i,o,s=cD(e),a=s.length;if(cD(t).length!==a)return!1;for(;a-- >0;){if(!PD(e,t,n,r=s[a]))return!1;if(i=hD(e,r),o=hD(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function xD(e,t){return dD(e.valueOf(),t.valueOf())}function ED(e,t){return e.source===t.source&&e.flags===t.flags}function kD(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,s=new Array(r),a=e.values();(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!s[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=s[u]=!0;break}u++}if(!c)return!1}return!0}function AD(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function SD(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function PD(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||uD(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var CD=Array.isArray,TD="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,OD=Object.assign,MD=Object.prototype.toString.call.bind(Object.prototype.toString),DD=ID();function ID(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,s=e.strict,a=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?_D:fD,areDatesEqual:mD,areErrorsEqual:gD,areFunctionsEqual:bD,areMapsEqual:r?aD(yD,_D):yD,areNumbersEqual:vD,areObjectsEqual:r?_D:wD,arePrimitiveWrappersEqual:xD,areRegExpsEqual:ED,areSetsEqual:r?aD(kD,_D):kD,areTypedArraysEqual:r?_D:AD,areUrlsEqual:SD};if(n&&(i=OD({},i,n(i))),t){var o=lD(i.areArraysEqual),s=lD(i.areMapsEqual),a=lD(i.areObjectsEqual),l=lD(i.areSetsEqual);i=OD({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,a=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,p,f){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?s(e,p,f):"function"===m&&i(e,p,f);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return a(e,p,f);if(CD(e))return t(e,p,f);if(null!=TD&&TD(e))return d(e,p,f);if(g===Date)return n(e,p,f);if(g===RegExp)return c(e,p,f);if(g===Map)return o(e,p,f);if(g===Set)return u(e,p,f);var b=MD(e);return"[object Date]"===b?n(e,p,f):"[object RegExp]"===b?c(e,p,f):"[object Map]"===b?o(e,p,f):"[object Set]"===b?u(e,p,f):"[object Object]"===b?"function"!=typeof e.then&&"function"!=typeof p.then&&a(e,p,f):"[object URL]"===b?h(e,p,f):"[object Error]"===b?r(e,p,f):"[object Arguments]"===b?a(e,p,f):("[object Boolean]"===b||"[object Number]"===b||"[object String]"===b)&&l(e,p,f)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,s,a){return t(e,n,a)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,s){var a=r(),l=a.cache,c=void 0===l?t?new WeakMap:void 0:l,u=a.meta;return n(e,s,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,s)}}({circular:r,comparator:c,createState:o,equals:u,strict:a})}function ND(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function jD(e){return jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jD(e)}function RD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LD(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=function(e){if(Array.isArray(e))return e}(a=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return RD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RD(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],s=i.slice(1);return"number"==typeof o?void ND(n.bind(null,s),o):(n(o),void ND(n.bind(null,s)))}"object"===jD(r)&&e(r),"function"==typeof r&&r()}var a};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function FD(e){return FD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FD(e)}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(t){zD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zD(e,t,n){return(t=function(e){var t=function(e){if("object"!==FD(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==FD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===FD(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ID({strict:!0}),ID({circular:!0}),ID({circular:!0,strict:!0}),ID({createInternalComparator:function(){return dD}}),ID({strict:!0,createInternalComparator:function(){return dD}}),ID({circular:!0,createInternalComparator:function(){return dD}}),ID({circular:!0,createInternalComparator:function(){return dD},strict:!0});var UD=function(e){return e},qD=function(e,t){return Object.keys(t).reduce(function(n,r){return VD(VD({},n),{},zD({},r,e(r,t[r])))},{})},HD=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function $D(e,t){if(e){if("string"==typeof e)return WD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WD(e,t):void 0}}function WD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GD=1e-4,JD=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},YD=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},KD=function(e,t){return function(n){var r=JD(e,t);return YD(r,n)}},QD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,s=1;break;case"ease":r=.25,i=.1,o=.25,s=1;break;case"ease-in":r=.42,i=0,o=1,s=1;break;case"ease-out":r=.42,i=0,o=.58,s=1;break;case"ease-in-out":r=0,i=0,o=.58,s=1;break;default:var a=t[0].split("(");if("cubic-bezier"===a[0]&&4===a[1].split(")")[0].split(",").length){var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||$D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],i=l[1],o=l[2],s=l[3]}}[r,o,i,s].every(function(e){return"number"==typeof e&&e>=0&&e<=1});var c,u,d=KD(r,o),h=KD(i,s),p=(c=r,u=o,function(e){var t,n=JD(c,u),r=[].concat((t=n.map(function(e,t){return e*t}).slice(1),function(e){if(Array.isArray(e))return WD(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||$D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[0]);return YD(r,e)}),f=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=p(n);if(Math.abs(i-t)<GD||o<GD)return h(n);n=f(n-i/o)}return h(n)};return m.isStepper=!1,m};function XD(e){return XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(e)}function ZD(e){return function(e){if(Array.isArray(e))return iI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){nI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nI(e,t,n){return(t=function(e){var t=function(e){if("object"!==XD(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==XD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===XD(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(e,t){if(e){if("string"==typeof e)return iI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iI(e,t):void 0}}function iI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oI=function(e,t,n){return e+(t-e)*n},sI=function(e){return e.from!==e.to},aI=function e(t,n,r){var i=qD(function(e,n){if(sI(n)){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||rI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return tI(tI({},n),{},{from:i,velocity:o})}return n},n);return r<1?qD(function(e,t){return sI(t)?tI(tI({},t),{},{velocity:oI(t.velocity,i[e].velocity,r),from:oI(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};function lI(e){return lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lI(e)}var cI=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uI(e){return function(e){if(Array.isArray(e))return dI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dI(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(t){fI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fI(e,t,n){return(t=gI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gI(r.key),r)}}function gI(e){var t=function(e){if("object"!==lI(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==lI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lI(t)?t:String(t)}function bI(e,t){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bI(e,t)}function yI(e,t){if(t&&("object"===lI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vI(e)}function vI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wI(e){return wI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wI(e)}var _I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bI(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=wI(r);if(i){var n=wI(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yI(this,e)});function s(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(n=o.call(this,e,t)).props,i=r.isActive,a=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(vI(n)),n.changeStyle=n.changeStyle.bind(vI(n)),!i||h<=0)return n.state={style:{}},"function"==typeof d&&(n.state={style:c}),yI(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"==typeof d)return n.state={style:l},yI(n);n.state={style:a?fI({},a,l):l}}else n.state={style:{}};return n}return t=s,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,s=t.to,a=t.from,l=this.state.style;if(r)if(n){if(!(DD(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?a:e.to;if(this.state&&l){var d={style:i?fI({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(pI(pI({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?fI({},i,s):s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,s=e.begin,a=e.onAnimationEnd,l=e.onAnimationStart,c=function(e,t,n,r,i){var o,s,a,l,c=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return tI(tI({},n),{},nI({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return tI(tI({},n),{},nI({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){a||(a=r);var o=(r-a)/n.dt;d=aI(n,d,o),i(tI(tI(tI({},e),t),qD(function(e,t){return t.from},d))),a=r,Object.values(d).filter(sI).length&&(h=requestAnimationFrame(p))}:function(o){l||(l=o);var s=(o-l)/r,a=qD(function(e,t){return oI.apply(void 0,ZD(t).concat([n(s)]))},u);if(i(tI(tI(tI({},e),t),a)),s<1)h=requestAnimationFrame(p);else{var c=qD(function(e,t){return oI.apply(void 0,ZD(t).concat([n(1)]))},u);i(tI(tI(tI({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}}(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QD(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,s=void 0===o?17:o,a=function(e,t,r){var o=r+(-(e-t)*n-r*i)*s/1e3,a=r*s/1e3+e;return Math.abs(a-t)<GD&&Math.abs(o)<GD?[t,0]:[a,o]};return a.isStepper=!0,a.dt=s,a}();default:if("cubic-bezier"===r.split("(")[0])return QD(r)}return"function"==typeof r?r:null}(o),i,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},i,a])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],s=o.style,a=o.duration,l=void 0===a?0:a;return this.manager.start([i].concat(uI(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,s=r.easing,a=void 0===s?"ease":s,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"==typeof a||"spring"===a)return[].concat(uI(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:a}),o]);var p=HD(h,o,a),f=pI(pI(pI({},d.style),l),{},{transition:p});return[].concat(uI(e),[f,o,u]).filter(UD)},[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=LD());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,s=e.onAnimationStart,a=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?fI({},r,i):i,h=HD(Object.keys(d),n,o);u.start([s,t,pI(pI({},d),{},{transition:h}),n,a])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,cI)),o=Pt.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===o||n<=0)return t;var a=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return(0,Pt.cloneElement)(e,pI(pI({},i),{},{style:pI(pI({},r),s),className:o}))};return 1===o?a(Pt.Children.only(t)):Tt().createElement("div",null,Pt.Children.map(t,function(e){return a(e)}))}}],n&&mI(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(Pt.PureComponent);_I.displayName="Animate",_I.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},_I.propTypes={from:rD().oneOfType([rD().object,rD().string]),to:rD().oneOfType([rD().object,rD().string]),attributeName:rD().string,duration:rD().number,begin:rD().number,easing:rD().oneOfType([rD().string,rD().func]),steps:rD().arrayOf(rD().shape({duration:rD().number.isRequired,style:rD().object.isRequired,easing:rD().oneOfType([rD().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rD().func]),properties:rD().arrayOf("string"),onAnimationEnd:rD().func})),children:rD().oneOfType([rD().node,rD().func]),isActive:rD().bool,canBegin:rD().bool,onAnimationEnd:rD().func,shouldReAnimate:rD().bool,onAnimationStart:rD().func,onAnimationReStart:rD().func};const xI=_I;function EI(e){return EI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EI(e)}function kI(){return kI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kI.apply(this,arguments)}function AI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(t){CI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CI(e,t,n){return t=function(e){var t=function(e){if("object"!=EI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=EI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==EI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TI=function(e,t,n,r,i){var o,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];o="M".concat(e,",").concat(t+a*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+a*u[1])),o+="L ".concat(e+n,",").concat(t+r-a*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-a*u[3])),o+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);o="M ".concat(e,",").concat(t+a*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+a*h,"\n            L ").concat(e+n,",").concat(t+r-a*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-a*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},OI=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,s=t.width,a=t.height;if(Math.abs(s)>0&&Math.abs(a)>0){var l=Math.min(i,i+s),c=Math.max(i,i+s),u=Math.min(o,o+a),d=Math.max(o,o+a);return n>=l&&n<=c&&r>=u&&r<=d}return!1},MI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DI=function(e){var t=PI(PI({},MI),e),n=(0,Pt.useRef)(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pt.useState)(-1),2),i=r[0],o=r[1];(0,Pt.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(e){}},[]);var s=t.x,a=t.y,l=t.width,c=t.height,u=t.radius,d=t.className,h=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||a!==+a||l!==+l||c!==+c||0===l||0===c)return null;var b=zC("recharts-rectangle",d);return g?Tt().createElement(xI,{canBegin:i>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:p,animationEasing:h,isActive:g},function(e){var r=e.width,o=e.height,s=e.x,a=e.y;return Tt().createElement(xI,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,isActive:m,easing:h},Tt().createElement("path",kI({},FT(t,!0),{className:b,d:TI(s,a,r,o,u),ref:n})))}):Tt().createElement("path",kI({},FT(t,!0),{className:b,d:TI(s,a,l,c,u)}))};function II(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function NI(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}class jI extends Map{constructor(e,t=LI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(RI(this,e))}has(e){return super.has(RI(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function RI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function LI(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;const FI=Symbol("implicit");function BI(){var e=new jI,t=[],n=[],r=FI;function i(i){let o=e.get(i);if(void 0===o){if(r!==FI)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new jI;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return BI(t,n).unknown(r)},II.apply(i,arguments),i}function VI(){var e,t,n=BI().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<o,h=d?s:o,p=d?o:s;e=(p-h)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),a&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,d()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,a=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,d()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return VI(r(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},II.apply(d(),arguments)}function zI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zI(t())},e}function UI(){return zI(VI.apply(null,arguments).paddingInner(1))}function qI(e){return qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qI(e)}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(t){WI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WI(e,t,n){return t=function(e){var t=function(e){if("object"!=qI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GI={widthCache:{},cacheCount:0},JI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YI="recharts_measurement_span",KI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||TO.isSsr)return{width:0,height:0};var n,r=(n=$I({},t),Object.keys(n).forEach(function(e){n[e]||delete n[e]}),n),i=JSON.stringify({text:e,copyStyle:r});if(GI.widthCache[i])return GI.widthCache[i];try{var o=document.getElementById(YI);o||((o=document.createElement("span")).setAttribute("id",YI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=$I($I({},JI),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return GI.widthCache[i]=l,++GI.cacheCount>2e3&&(GI.cacheCount=0,GI.widthCache={}),l}catch(e){return{width:0,height:0}}};function QI(e){return QI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QI(e)}function XI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ZI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tN(r.key),r)}}function tN(e){var t=function(e){if("object"!=QI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QI(t)?t:t+""}var nN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},aN=Object.keys(sN),lN="NaN",cN=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||iN.test(n)||(this.num=NaN,this.unit=""),aN.includes(n)&&(this.num=function(e,t){return e*sN[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=XI(null!==(n=oN.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&eN(t.prototype,n),r&&eN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function uN(e){if(e.includes(lN))return lN;for(var t=e;t.includes("*")||t.includes("/");){var n,r=XI(null!==(n=nN.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],s=r[3],a=cN.parse(null!=i?i:""),l=cN.parse(null!=s?s:""),c="*"===o?a.multiply(l):a.divide(l);if(c.isNaN())return lN;t=t.replace(nN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=XI(null!==(u=rN.exec(t))&&void 0!==u?u:[],4),h=d[1],p=d[2],f=d[3],m=cN.parse(null!=h?h:""),g=cN.parse(null!=f?f:""),b="+"===p?m.add(g):m.subtract(g);if(b.isNaN())return lN;t=t.replace(rN,b.toString())}return t}var dN=/\(([^()]*)\)/;function hN(e){var t=function(e){try{return function(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=XI(dN.exec(t),2)[1];t=t.replace(dN,uN(n))}return t}(t),uN(t)}(e)}catch(e){return lN}}(e.slice(5,-1));return t===lN?"":t}var pN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fN=["dx","dy","angle","className","breakAll"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(this,arguments)}function gN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vN=/[ \f\n\r\t\v\u2028\u2029]+/,wN=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return ZC()(t)||(i=n?t.toString().split(""):t.toString().split(vN)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:KI(e,r).width}}),spaceWidth:n?0:KI("",r).width}}catch(e){return null}},_N=function(e){return[{words:ZC()(e)?[]:e.toString().split(vN)}]},xN="#808080",EN=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,s=void 0===o?"1em":o,a=e.capHeight,l=void 0===a?"0.71em":a,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,h=void 0===d?"start":d,p=e.verticalAnchor,f=void 0===p?"end":p,m=e.fill,g=void 0===m?xN:m,b=gN(e,pN),y=(0,Pt.useMemo)(function(){return function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,s=e.maxLines;if((t||n)&&!TO.isSsr){var a=wN({breakAll:o,children:r,style:i});return a?function(e,t,n,r,i){var o=e.maxLines,s=e.children,a=e.style,l=e.breakAll,c=nT(o),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,s=t.width,a=e[e.length-1];if(a&&(null==r||i||a.width+s+n<Number(r)))a.words.push(o),a.width+=s+n;else{var l={words:[o],width:s};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var p,f=function(e){var t=u.slice(0,e),n=wN({breakAll:l,style:a,children:t+""}).wordsWithComputedWidth,i=d(n),s=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[s,i]},m=0,g=u.length-1,b=0;m<=g&&b<=u.length-1;){var y=Math.floor((m+g)/2),v=bN(f(y-1),2),w=v[0],_=v[1],x=bN(f(y),1)[0];if(w||x||(m=y+1),w&&x&&(g=y-1),!w&&x){p=_;break}b++}return p||h}({breakAll:o,children:r,maxLines:s,style:i},a.wordsWithComputedWidth,a.spaceWidth,t,n):_N(r)}return _N(r)}({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:u,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,u,b.style,b.width]),v=b.dx,w=b.dy,_=b.angle,x=b.className,E=b.breakAll,k=gN(b,fN);if(!rT(n)||!rT(i))return null;var A,S=n+(nT(v)?v:0),P=i+(nT(w)?w:0);switch(f){case"start":A=hN("calc(".concat(l,")"));break;case"middle":A=hN("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:A=hN("calc(".concat(y.length-1," * -").concat(s,")"))}var C=[];if(u){var T=y[0].width,O=b.width;C.push("scale(".concat((nT(O)?O/T:1)/T,")"))}return _&&C.push("rotate(".concat(_,", ").concat(S,", ").concat(P,")")),C.length&&(k.transform=C.join(" ")),Tt().createElement("text",mN({},FT(k,!0),{x:S,y:P,className:zC("recharts-text",x),textAnchor:h,fill:g.includes("url")?xN:g}),y.map(function(e,t){var n=e.words.join(E?"":" ");return Tt().createElement("tspan",{x:S,dy:0===t?A:s,key:"".concat(n,"-").concat(t)},n)}))};const kN=Math.sqrt(50),AN=Math.sqrt(10),SN=Math.sqrt(2);function PN(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=kN?10:o>=AN?5:o>=SN?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?PN(e,t,2*n):[a,l,c]}function CN(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,s]=r?PN(t,e,n):PN(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let e=0;e<a;++e)l[e]=(o-e)/-s;else for(let e=0;e<a;++e)l[e]=(o-e)*s;else if(s<0)for(let e=0;e<a;++e)l[e]=(i+e)/-s;else for(let e=0;e<a;++e)l[e]=(i+e)*s;return l}function TN(e,t,n){return PN(e=+e,t=+t,n=+n)[2]}function ON(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?TN(t,e,n):TN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function MN(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IN(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=MN,n=(t,n)=>MN(e(t),n),r=(t,n)=>e(t)-n):(t=e===MN||e===DN?e:NN,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const s=i(e,t,n,o-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function NN(){return 0}function jN(e){return null===e?NaN:+e}const RN=IN(MN),LN=RN.right,FN=(RN.left,IN(jN).center,LN);function BN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function VN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zN(){}var UN=.7,qN=1/UN,HN="\\s*([+-]?\\d+)\\s*",$N="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",WN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GN=/^#([0-9a-f]{3,8})$/,JN=new RegExp(`^rgb\\(${HN},${HN},${HN}\\)$`),YN=new RegExp(`^rgb\\(${WN},${WN},${WN}\\)$`),KN=new RegExp(`^rgba\\(${HN},${HN},${HN},${$N}\\)$`),QN=new RegExp(`^rgba\\(${WN},${WN},${WN},${$N}\\)$`),XN=new RegExp(`^hsl\\(${$N},${WN},${WN}\\)$`),ZN=new RegExp(`^hsla\\(${$N},${WN},${WN},${$N}\\)$`),ej={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tj(){return this.rgb().formatHex()}function nj(){return this.rgb().formatRgb()}function rj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ij(t):3===n?new aj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?oj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?oj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=JN.exec(e))?new aj(t[1],t[2],t[3],1):(t=YN.exec(e))?new aj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=KN.exec(e))?oj(t[1],t[2],t[3],t[4]):(t=QN.exec(e))?oj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=XN.exec(e))?pj(t[1],t[2]/100,t[3]/100,1):(t=ZN.exec(e))?pj(t[1],t[2]/100,t[3]/100,t[4]):ej.hasOwnProperty(e)?ij(ej[e]):"transparent"===e?new aj(NaN,NaN,NaN,0):null}function ij(e){return new aj(e>>16&255,e>>8&255,255&e,1)}function oj(e,t,n,r){return r<=0&&(e=t=n=NaN),new aj(e,t,n,r)}function sj(e,t,n,r){return 1===arguments.length?function(e){return e instanceof zN||(e=rj(e)),e?new aj((e=e.rgb()).r,e.g,e.b,e.opacity):new aj}(e):new aj(e,t,n,null==r?1:r)}function aj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function lj(){return`#${hj(this.r)}${hj(this.g)}${hj(this.b)}`}function cj(){const e=uj(this.opacity);return`${1===e?"rgb(":"rgba("}${dj(this.r)}, ${dj(this.g)}, ${dj(this.b)}${1===e?")":`, ${e})`}`}function uj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dj(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hj(e){return((e=dj(e))<16?"0":"")+e.toString(16)}function pj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mj(e,t,n,r)}function fj(e){if(e instanceof mj)return new mj(e.h,e.s,e.l,e.opacity);if(e instanceof zN||(e=rj(e)),!e)return new mj;if(e instanceof mj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new mj(s,a,l,e.opacity)}function mj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gj(e){return(e=(e||0)%360)<0?e+360:e}function bj(e){return Math.max(0,Math.min(1,e||0))}function yj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function vj(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}BN(zN,rj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tj,formatHex:tj,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fj(this).formatHsl()},formatRgb:nj,toString:nj}),BN(aj,sj,VN(zN,{brighter(e){return e=null==e?qN:Math.pow(qN,e),new aj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?UN:Math.pow(UN,e),new aj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new aj(dj(this.r),dj(this.g),dj(this.b),uj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lj,formatHex:lj,formatHex8:function(){return`#${hj(this.r)}${hj(this.g)}${hj(this.b)}${hj(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:cj,toString:cj})),BN(mj,function(e,t,n,r){return 1===arguments.length?fj(e):new mj(e,t,n,null==r?1:r)},VN(zN,{brighter(e){return e=null==e?qN:Math.pow(qN,e),new mj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?UN:Math.pow(UN,e),new mj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new aj(yj(e>=240?e-240:e+120,i,r),yj(e,i,r),yj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new mj(gj(this.h),bj(this.s),bj(this.l),uj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uj(this.opacity);return`${1===e?"hsl(":"hsla("}${gj(this.h)}, ${100*bj(this.s)}%, ${100*bj(this.l)}%${1===e?")":`, ${e})`}`}}));const wj=e=>()=>e;function _j(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):wj(isNaN(e)?t:e)}const xj=function e(t){var n=function(e){return 1===(e=+e)?_j:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wj(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=sj(e)).r,(t=sj(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=_j(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Ej(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=sj(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}function kj(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Dj(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}function Aj(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pj(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Dj(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}Ej(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return vj((n-r/t)*t,s,i,o,a)}}),Ej(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return vj((n-r/t)*t,i,o,s,a)}});var Cj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tj=new RegExp(Cj.source,"g");function Oj(e,t){var n,r,i,o=Cj.lastIndex=Tj.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Cj.exec(e))&&(r=Tj.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Sj(n,r)})),o=Tj.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Mj(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Dj(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?wj(t):("number"===i?Sj:"string"===i?(n=rj(t))?(t=n,xj):Oj:t instanceof rj?xj:t instanceof Date?Aj:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?kj:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Pj:Sj:Mj))(e,t)}function Ij(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Nj(e){return+e}var jj=[0,1];function Rj(e){return e}function Lj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Fj(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Lj(i,r),o=n(s,o)):(r=Lj(r,i),o=n(o,s)),function(e){return o(r(e))}}function Bj(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Lj(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=FN(e,t,1,r)-1;return o[n](i[n](t))}}function Vj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zj(){var e,t,n,r,i,o,s=jj,a=jj,l=Dj,c=Rj;function u(){var e=Math.min(s.length,a.length);return c!==Rj&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?Bj:Fj,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),a,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(a,s.map(e),Sj)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Nj),u()):s.slice()},d.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},d.rangeRound=function(e){return a=Array.from(e),l=Ij,u()},d.clamp=function(e){return arguments.length?(c=!!e||Rj,u()):c!==Rj},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Uj(){return zj()(Rj,Rj)}var qj,Hj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $j(e){if(!(t=Hj.exec(e)))throw new Error("invalid format: "+e);var t;return new Wj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Wj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Gj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jj(e){return(e=Gj(Math.abs(e)))?e[1]:NaN}function Yj(e,t){var n=Gj(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$j.prototype=Wj.prototype,Wj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Kj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yj(100*e,t),r:Yj,s:function(e,t){var n=Gj(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(qj=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gj(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qj(e){return e}var Xj,Zj,eR,tR=Array.prototype.map,nR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rR(e,t,n,r){var i,o=ON(e,t,n);switch((r=$j(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jj(t)/3)))-Jj(Math.abs(e)))}(o,s))||(r.precision=i),eR(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jj(t)-Jj(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Jj(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Zj(r)}function iR(e){var t=e.domain;return e.ticks=function(e){var n=t();return CN(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return rR(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=a,a=i);u-- >0;){if((i=TN(l,c,n))===r)return o[s]=l,o[a]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function oR(){var e=Uj();return e.copy=function(){return Vj(e,oR())},II.apply(e,arguments),iR(e)}function sR(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Nj),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return sR(e).unknown(t)},e=arguments.length?Array.from(e,Nj):[0,1],iR(n)}function aR(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}function lR(e){return Math.log(e)}function cR(e){return Math.exp(e)}function uR(e){return-Math.log(-e)}function dR(e){return-Math.exp(-e)}function hR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pR(e){return(t,n)=>-e(-t,n)}function fR(e){const t=e(lR,cR),n=t.domain;let r,i,o=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?hR:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=pR(r),i=pR(i),e(uR,dR)):e(lR,cR),t}return t.base=function(e){return arguments.length?(o=+e,s()):o},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,d=r(s),h=r(a);const p=null==e?10:+e;let f=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>a)break;f.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>a)break;f.push(u)}2*f.length<p&&(f=CN(s,a,p))}else f=CN(d,h,Math.min(h-d,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=$j(n)).precision||(n.trim=!0),n=Zj(n)),e===1/0)return n;const s=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=s?n(e):""}},t.nice=()=>n(aR(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function mR(){const e=fR(zj()).domain([1,10]);return e.copy=()=>Vj(e,mR()).base(e.base()),II.apply(e,arguments),e}function gR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yR(e){var t=1,n=e(gR(t),bR(t));return n.constant=function(n){return arguments.length?e(gR(t=+n),bR(t)):t},iR(n)}function vR(){var e=yR(zj());return e.copy=function(){return Vj(e,vR()).constant(e.constant())},II.apply(e,arguments)}function wR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _R(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xR(e){return e<0?-e*e:e*e}function ER(e){var t=e(Rj,Rj),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Rj,Rj):.5===n?e(_R,xR):e(wR(n),wR(1/n)):n},iR(t)}function kR(){var e=ER(zj());return e.copy=function(){return Vj(e,kR()).exponent(e.exponent())},II.apply(e,arguments),e}function AR(){return kR.apply(null,arguments).exponent(.5)}function SR(e){return Math.sign(e)*e*e}function PR(){var e,t=Uj(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(SR(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Nj)).map(SR)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return PR(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},II.apply(i,arguments),iR(i)}function CR(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function TR(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function OR(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function MR(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?OR:function(e=MN){if(e===MN)return OR;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);MR(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}const o=e[t];let s=n,a=r;for(DR(e,n,t),i(e[r],o)>0&&DR(e,n,r);s<a;){for(DR(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}0===i(e[n],o)?DR(e,n,a):(++a,DR(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function DR(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function IR(e,t,n=jN){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function NR(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=IR(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[FN(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(MN),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return NR().domain(t).range(n).unknown(e)},II.apply(o,arguments)}function jR(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function s(t){return null!=t&&t<=t?o[FN(i,t,0,r)]:e}function a(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,a()):[t,n]},s.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,a()):o.slice()},s.invertExtent=function(e){var s=o.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return jR().domain([t,n]).range(o).unknown(e)},II.apply(iR(s),arguments)}function RR(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[FN(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return RR().domain(t).range(n).unknown(e)},II.apply(i,arguments)}Xj=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Qj:(t=tR.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?Qj:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(tR.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=$j(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,b=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Kj[y]||(void 0===g&&(g=12),b=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?l:"",_=Kj[y],x=/[defgprs%]/.test(y);function E(e){var i,o,l,h=v,E=w;if("c"===y)E=_(e)+E,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,E=("s"===y?nR[8+qj/3]:"")+E+(k&&"("===d?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){E=(46===l?s+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var A=h.length+e.length+E.length,S=A<f?new Array(f-A+1).join(t):"";switch(m&&p&&(e=r(S+e,S.length?f-E.length:1/0),S=""),n){case"<":e=h+e+E+S;break;case"=":e=h+S+e+E;break;case"^":e=S.slice(0,A=S.length>>1)+h+e+E+S.slice(A);break;default:e=S+h+e+E}return a(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:d,formatPrefix:function(e,t){var n=d(((e=$j(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Jj(t)/3))),i=Math.pow(10,-r),o=nR[8+r/3];return function(e){return n(i*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),Zj=Xj.format,eR=Xj.formatPrefix;const LR=1e3,FR=6e4,BR=36e5,VR=864e5,zR=6048e5,UR=31536e6,qR=new Date,HR=new Date;function $R(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;let a;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=n=>$R(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(qR.setTime(+t),HR.setTime(+r),e(qR),e(HR),Math.floor(n(qR,HR))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const WR=$R(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);WR.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?$R(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):WR:null),WR.range;const GR=$R(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*LR)},(e,t)=>(t-e)/LR,e=>e.getUTCSeconds()),JR=(GR.range,$R(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*LR)},(e,t)=>{e.setTime(+e+t*FR)},(e,t)=>(t-e)/FR,e=>e.getMinutes())),YR=(JR.range,$R(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*FR)},(e,t)=>(t-e)/FR,e=>e.getUTCMinutes())),KR=(YR.range,$R(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*LR-e.getMinutes()*FR)},(e,t)=>{e.setTime(+e+t*BR)},(e,t)=>(t-e)/BR,e=>e.getHours())),QR=(KR.range,$R(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*BR)},(e,t)=>(t-e)/BR,e=>e.getUTCHours())),XR=(QR.range,$R(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FR)/VR,e=>e.getDate()-1)),ZR=(XR.range,$R(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/VR,e=>e.getUTCDate()-1)),eL=(ZR.range,$R(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/VR,e=>Math.floor(e/VR)));function tL(e){return $R(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FR)/zR)}eL.range;const nL=tL(0),rL=tL(1),iL=tL(2),oL=tL(3),sL=tL(4),aL=tL(5),lL=tL(6);function cL(e){return $R(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/zR)}nL.range,rL.range,iL.range,oL.range,sL.range,aL.range,lL.range;const uL=cL(0),dL=cL(1),hL=cL(2),pL=cL(3),fL=cL(4),mL=cL(5),gL=cL(6),bL=(uL.range,dL.range,hL.range,pL.range,fL.range,mL.range,gL.range,$R(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),yL=(bL.range,$R(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),vL=(yL.range,$R(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));vL.every=e=>isFinite(e=Math.floor(e))&&e>0?$R(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,vL.range;const wL=$R(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function _L(e,t,n,r,i,o){const s=[[GR,1,LR],[GR,5,5e3],[GR,15,15e3],[GR,30,3e4],[o,1,FR],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,BR],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,VR],[r,2,1728e5],[n,1,zR],[t,1,2592e6],[t,3,7776e6],[e,1,UR]];function a(t,n,r){const i=Math.abs(n-t)/r,o=IN(([,,e])=>e).right(s,i);if(o===s.length)return e.every(ON(t/UR,n/UR,r));if(0===o)return WR.every(Math.max(ON(t,n,r),1));const[a,l]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:a(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},a]}wL.every=e=>isFinite(e=Math.floor(e))&&e>0?$R(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,wL.range;const[xL,EL]=_L(wL,yL,uL,eL,QR,YR),[kL,AL]=_L(vL,bL,nL,XR,KR,JR);function SL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function PL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function CL(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var TL,OL,ML,DL={"-":"",_:" ",0:"0"},IL=/^\s*\d+/,NL=/^%/,jL=/[\\^$*+?|[\]().{}]/g;function RL(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function LL(e){return e.replace(jL,"\\$&")}function FL(e){return new RegExp("^(?:"+e.map(LL).join("|")+")","i")}function BL(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function VL(e,t,n){var r=IL.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=IL.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function UL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function HL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=IL.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JL(e,t,n){var r=IL.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function YL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function KL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function QL(e,t,n){var r=IL.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ZL(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function eF(e,t,n){var r=IL.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tF(e,t,n){var r=IL.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nF(e,t,n){var r=IL.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rF(e,t,n){var r=NL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function iF(e,t,n){var r=IL.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oF(e,t,n){var r=IL.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sF(e,t){return RL(e.getDate(),t,2)}function aF(e,t){return RL(e.getHours(),t,2)}function lF(e,t){return RL(e.getHours()%12||12,t,2)}function cF(e,t){return RL(1+XR.count(vL(e),e),t,3)}function uF(e,t){return RL(e.getMilliseconds(),t,3)}function dF(e,t){return uF(e,t)+"000"}function hF(e,t){return RL(e.getMonth()+1,t,2)}function pF(e,t){return RL(e.getMinutes(),t,2)}function fF(e,t){return RL(e.getSeconds(),t,2)}function mF(e){var t=e.getDay();return 0===t?7:t}function gF(e,t){return RL(nL.count(vL(e)-1,e),t,2)}function bF(e){var t=e.getDay();return t>=4||0===t?sL(e):sL.ceil(e)}function yF(e,t){return e=bF(e),RL(sL.count(vL(e),e)+(4===vL(e).getDay()),t,2)}function vF(e){return e.getDay()}function wF(e,t){return RL(rL.count(vL(e)-1,e),t,2)}function _F(e,t){return RL(e.getFullYear()%100,t,2)}function xF(e,t){return RL((e=bF(e)).getFullYear()%100,t,2)}function EF(e,t){return RL(e.getFullYear()%1e4,t,4)}function kF(e,t){var n=e.getDay();return RL((e=n>=4||0===n?sL(e):sL.ceil(e)).getFullYear()%1e4,t,4)}function AF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+RL(t/60|0,"0",2)+RL(t%60,"0",2)}function SF(e,t){return RL(e.getUTCDate(),t,2)}function PF(e,t){return RL(e.getUTCHours(),t,2)}function CF(e,t){return RL(e.getUTCHours()%12||12,t,2)}function TF(e,t){return RL(1+ZR.count(wL(e),e),t,3)}function OF(e,t){return RL(e.getUTCMilliseconds(),t,3)}function MF(e,t){return OF(e,t)+"000"}function DF(e,t){return RL(e.getUTCMonth()+1,t,2)}function IF(e,t){return RL(e.getUTCMinutes(),t,2)}function NF(e,t){return RL(e.getUTCSeconds(),t,2)}function jF(e){var t=e.getUTCDay();return 0===t?7:t}function RF(e,t){return RL(uL.count(wL(e)-1,e),t,2)}function LF(e){var t=e.getUTCDay();return t>=4||0===t?fL(e):fL.ceil(e)}function FF(e,t){return e=LF(e),RL(fL.count(wL(e),e)+(4===wL(e).getUTCDay()),t,2)}function BF(e){return e.getUTCDay()}function VF(e,t){return RL(dL.count(wL(e)-1,e),t,2)}function zF(e,t){return RL(e.getUTCFullYear()%100,t,2)}function UF(e,t){return RL((e=LF(e)).getUTCFullYear()%100,t,2)}function qF(e,t){return RL(e.getUTCFullYear()%1e4,t,4)}function HF(e,t){var n=e.getUTCDay();return RL((e=n>=4||0===n?fL(e):fL.ceil(e)).getUTCFullYear()%1e4,t,4)}function $F(){return"+0000"}function WF(){return"%"}function GF(e){return+e}function JF(e){return Math.floor(+e/1e3)}function YF(e){return new Date(e)}function KF(e){return e instanceof Date?+e:+new Date(+e)}function QF(e,t,n,r,i,o,s,a,l,c){var u=Uj(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),y=c("%b %d"),v=c("%B"),w=c("%Y");function _(e){return(l(e)<e?p:a(e)<e?f:s(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?b:y:n(e)<e?v:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,KF)):h().map(YF)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(aR(n,e)):u},u.copy=function(){return Vj(u,QF(e,t,n,r,i,o,s,a,l,c))},u}function XF(){return II.apply(QF(kL,AL,vL,bL,nL,XR,KR,JR,GR,OL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZF(){return II.apply(QF(xL,EL,wL,yL,uL,ZR,QR,YR,GR,ML).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eB(){var e,t,n,r,i,o=0,s=1,a=Rj,l=!1;function c(t){return null==t||isNaN(t=+t)?i:a(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,a=e(n,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,s]=i,e=r(o=+o),t=r(s=+s),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(a=e,c):a},c.range=u(Dj),c.rangeRound=u(Ij),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(s),n=e===t?0:1/(t-e),c}}function tB(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nB(){var e=iR(eB()(Rj));return e.copy=function(){return tB(e,nB())},NI.apply(e,arguments)}function rB(){var e=fR(eB()).domain([1,10]);return e.copy=function(){return tB(e,rB()).base(e.base())},NI.apply(e,arguments)}function iB(){var e=yR(eB());return e.copy=function(){return tB(e,iB()).constant(e.constant())},NI.apply(e,arguments)}function oB(){var e=ER(eB());return e.copy=function(){return tB(e,oB()).exponent(e.exponent())},NI.apply(e,arguments)}function sB(){return oB.apply(null,arguments).exponent(.5)}function aB(){var e=[],t=Rj;function n(n){if(null!=n&&!isNaN(n=+n))return t((FN(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(MN),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>function(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return TR(e);if(t>=1)return CR(e);var r,i=(r-1)*t,o=Math.floor(i),s=CR(MR(e,o).subarray(0,o+1));return s+(TR(e.subarray(o+1))-s)*(i-o)}}(e,r/t))},n.copy=function(){return aB(t).domain(e)},NI.apply(n,arguments)}function lB(){var e,t,n,r,i,o,s,a=0,l=.5,c=1,u=1,d=Rj,h=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Dj);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(s){return arguments.length?([a,l,c]=s,e=o(a=+a),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[a,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(Dj),p.rangeRound=f(Ij),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return o=s,e=s(a),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function cB(){var e=iR(lB()(Rj));return e.copy=function(){return tB(e,cB())},NI.apply(e,arguments)}function uB(){var e=fR(lB()).domain([.1,1,10]);return e.copy=function(){return tB(e,uB()).base(e.base())},NI.apply(e,arguments)}function dB(){var e=yR(lB());return e.copy=function(){return tB(e,dB()).constant(e.constant())},NI.apply(e,arguments)}function hB(){var e=ER(lB());return e.copy=function(){return tB(e,hB()).exponent(e.exponent())},NI.apply(e,arguments)}function pB(){return hB.apply(null,arguments).exponent(.5)}function fB(e,t){if((i=e.length)>1)for(var n,r,i,o=1,s=e[t[0]],a=s.length;o<i;++o)for(r=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function mB(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function gB(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bB(e,t){return e[t]}function yB(e){const t=[];return t.key=e,t}TL=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=FL(i),u=BL(i),d=FL(o),h=BL(o),p=FL(s),f=BL(s),m=FL(a),g=BL(a),b=FL(l),y=BL(l),v={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:sF,e:sF,f:dF,g:xF,G:kF,H:aF,I:lF,j:cF,L:uF,m:hF,M:pF,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:GF,s:JF,S:fF,u:mF,U:gF,V:yF,w:vF,W:wF,x:null,X:null,y:_F,Y:EF,Z:AF,"%":WF},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:SF,e:SF,f:MF,g:UF,G:HF,H:PF,I:CF,j:TF,L:OF,m:DF,M:IF,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:GF,s:JF,S:NF,u:jF,U:RF,V:FF,w:BF,W:VF,x:null,X:null,y:zF,Y:qF,Z:$F,"%":WF},_={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:KL,e:KL,f:nF,g:WL,G:$L,H:XL,I:XL,j:QL,L:tF,m:YL,M:ZL,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:JL,Q:iF,s:oF,S:eF,u:zL,U:UL,V:qL,w:VL,W:HL,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:WL,Y:$L,Z:GL,"%":rF};function x(e,t){return function(n){var r,i,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(i=DL[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function E(e,t){return function(n){var r,i,o=CL(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=PL(CL(o.y,0,1))).getUTCDay(),r=i>4||0===i?dL.ceil(r):dL(r),r=ZR.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=SL(CL(o.y,0,1))).getDay(),r=i>4||0===i?rL.ceil(r):rL(r),r=XR.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?PL(CL(o.y,0,1)).getUTCDay():SL(CL(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,PL(o)):SL(o)}}function k(e,t,n,r){for(var i,o,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=_[i in DL?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(t,v),w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),{format:function(e){var t=x(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),OL=TL.format,TL.parse,ML=TL.utcFormat,TL.utcParse,Array.prototype.slice;var vB=__webpack_require__(4506),wB=__webpack_require__.n(vB),_B=__webpack_require__(1684),xB=__webpack_require__.n(_B),EB=__webpack_require__(7307),kB=__webpack_require__.n(EB),AB=__webpack_require__(2404),SB=__webpack_require__.n(AB),PB=__webpack_require__(8351),CB=__webpack_require__.n(PB);function TB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OB=function(e){return e},MB={"@@functional/placeholder":!0},DB=function(e){return e===MB},IB=function(e){return function t(){return 0===arguments.length||1===arguments.length&&DB(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},NB=function e(t,n){return 1===t?n:IB(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(e){return e!==MB}).length;return s>=t?n.apply(void 0,i):e(t-s,IB(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,s=i.map(function(e){return DB(e)?t.shift():e});return n.apply(void 0,(o=s,function(e){if(Array.isArray(e))return TB(e)}(o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return TB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TB(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(t))}))})},jB=function(e){return NB(e.length,e)},RB=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},LB=jB(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),FB=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return OB;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},BB=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},VB=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};jB(function(e,t,n){var r=+e;return r+n*(+t-r)}),jB(function(e,t,n){var r=t-+e;return(n-e)/(r||1/0)}),jB(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const zB=function(e,t,n){for(var r=new(CB())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},UB=function(e){return 0===e?1:Math.floor(new(CB())(e).abs().log(10).toNumber())+1};function qB(e){return function(e){if(Array.isArray(e))return WB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(_n=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,i=e}finally{try{_n||null==s.return||s.return()}finally{if(r)throw i}}return n}}(e,t)||$B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $B(e,t){if(e){if("string"==typeof e)return WB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WB(e,t):void 0}}function WB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GB(e){var t=HB(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function JB(e,t,n){if(e.lte(0))return new(CB())(0);var r=UB(e.toNumber()),i=new(CB())(10).pow(r),o=e.div(i),s=1!==r?.05:.1,a=new(CB())(Math.ceil(o.div(s).toNumber())).add(n).mul(s).mul(i);return t?a:new(CB())(Math.ceil(a))}function YB(e,t,n){var r=1,i=new(CB())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(CB())(10).pow(UB(e)-1),i=new(CB())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(CB())(Math.floor(e)))}else 0===e?i=new(CB())(Math.floor((t-1)/2)):n||(i=new(CB())(Math.floor(e)));var s=Math.floor((t-1)/2),a=FB(LB(function(e){return i.add(new(CB())(e-s).mul(r)).toNumber()}),RB);return a(0,t)}function KB(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(CB())(0),tickMin:new(CB())(0),tickMax:new(CB())(0)};var o,s=JB(new(CB())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(CB())(0):(o=new(CB())(e).add(t).div(2)).sub(new(CB())(o).mod(s));var a=Math.ceil(o.sub(e).div(s).toNumber()),l=Math.ceil(new(CB())(t).sub(o).div(s).toNumber()),c=a+l+1;return c>n?KB(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,a=t>0?a:a+(n-c)),{step:s,tickMin:o.sub(new(CB())(a).mul(s)),tickMax:o.add(new(CB())(l).mul(s))})}var QB=VB(function(e){var t=HB(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),a=HB(GB([n,r]),2),l=a[0],c=a[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(qB(RB(0,i-1).map(function(){return 1/0}))):[].concat(qB(RB(0,i-1).map(function(){return-1/0})),[c]);return n>r?BB(u):u}if(l===c)return YB(l,i,o);var d=KB(l,c,s,o),h=d.step,p=d.tickMin,f=d.tickMax,m=zB(p,f.add(new(CB())(.1).mul(h)),h);return n>r?BB(m):m}),XB=(VB(function(e){var t=HB(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),a=HB(GB([n,r]),2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return YB(l,i,o);var u=JB(new(CB())(c).sub(l).div(s-1),o,0),d=FB(LB(function(e){return new(CB())(l).add(new(CB())(e).mul(u)).toNumber()}),RB),h=d(0,s).filter(function(e){return e>=l&&e<=c});return n>r?BB(h):h}),VB(function(e,t){var n=HB(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=HB(GB([r,i]),2),a=s[0],l=s[1];if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(t,2),u=JB(new(CB())(l).sub(a).div(c-1),o,0),d=[].concat(qB(zB(new(CB())(a),new(CB())(l).sub(new(CB())(.99).mul(u)),u)),[l]);return r>i?BB(d):d})),ZB=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function eV(e){return eV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eV(e)}function tV(){return tV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tV.apply(this,arguments)}function nV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lV(r.key),r)}}function iV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iV=function(){return!!e})()}function oV(e){return oV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oV(e)}function sV(e,t){return sV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sV(e,t)}function aV(e,t,n){return(t=lV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lV(e){var t=function(e){if("object"!=eV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=eV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eV(t)?t:t+""}var cV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=oV(t),function(e,t){if(t&&("object"===eV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iV()?Reflect.construct(t,n||[],oV(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sV(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,l=e.yAxis,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ZB),u=FT(c,!1);"x"===this.props.direction&&"number"!==a.type&&XT(!1);var d=o.map(function(e){var o=s(e,i),c=o.x,d=o.y,h=o.value,p=o.errorVal;if(!p)return null;var f,m,g=[];if(Array.isArray(p)){var b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);f=b[0],m=b[1]}else f=m=p;if("vertical"===n){var y=a.scale,v=d+t,w=v+r,_=v-r,x=y(h-f),E=y(h+m);g.push({x1:E,y1:w,x2:E,y2:_}),g.push({x1:x,y1:v,x2:E,y2:v}),g.push({x1:x,y1:w,x2:x,y2:_})}else if("horizontal"===n){var k=l.scale,A=c+t,S=A-r,P=A+r,C=k(h-f),T=k(h+m);g.push({x1:S,y1:T,x2:P,y2:T}),g.push({x1:A,y1:C,x2:A,y2:T}),g.push({x1:S,y1:C,x2:P,y2:C})}return Tt().createElement(iO,tV({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),g.map(function(e){return Tt().createElement("line",tV({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return Tt().createElement(iO,{className:"recharts-errorBars"},d)}}],r&&rV(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Tt().Component);function uV(e){return uV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uV(e)}function dV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dV(Object(n),!0).forEach(function(t){pV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pV(e,t,n){return t=function(e){var t=function(e){if("object"!=uV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=uV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aV(cV,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),aV(cV,"displayName","ErrorBar");var fV=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=jT(t,ZM);if(!o)return null;var s,a=ZM.defaultProps,l=void 0!==a?hV(hV({},a),o.props):{};return s=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?hV(hV({},n),t.props):{},i=r.dataKey,o=r.name,s=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||s||"square",color:EV(t),value:o||i,payload:r}}),hV(hV(hV({},l),ZM.getWithHeight(o,r)),{},{payload:s,item:o})};function mV(e){return mV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mV(e)}function gV(e){return function(e){if(Array.isArray(e))return bV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bV(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yV(Object(n),!0).forEach(function(t){wV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wV(e,t,n){return t=function(e){var t=function(e){if("object"!=mV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(e,t,n){return ZC()(e)||ZC()(t)?n:rT(t)?YC()(e,t,n):pT()(t)?t(e):n}function xV(e,t,n,r){var i=kB()(e,function(e){return _V(e,t)});if("number"===n){var o=i.filter(function(e){return nT(e)||parseFloat(e)});return o.length?[xB()(o),wB()(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!ZC()(e)}):i).map(function(e){return rT(e)||e instanceof Date?e:""})}var EV=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?vV(vV({},e.type.defaultProps),e.props):e.props,o=i.stroke,s=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:s;break;default:n=s}return n},kV=function(e,t,n,r,i){var o=NT(t.props.children,cV).filter(function(e){return function(e,t,n){return!!ZC()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var s=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=_V(t,n);if(ZC()(r))return e;var i=Array.isArray(r)?[xB()(r),wB()(r)]:[r,r],o=s.reduce(function(e,n){var r=_V(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),s=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},AV=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&kV(e,t,o,r)||xV(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e},[])},SV=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},PV=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,s=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||s.push(t),o||s.push(n),s},CV=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,s=e.range,a="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/a:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*eT(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!GC()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},TV=new WeakMap,OV=function(e,t){if("function"!=typeof t)return e;TV.has(e)||TV.set(e,new WeakMap);var n=TV.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},MV=1e-4,DV={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,s=0;s<t;++s){var a=GC()(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,s=e[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}fB(e,t)}},none:fB,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=e[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}fB(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,l=0,c=0;a<i;++a){for(var u=e[t[a]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,p=0;p<a;++p){var f=e[t[p]];h+=(f[s][1]||0)-(f[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,fB(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var s=GC()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},IV=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=DV[n],o=function(){var e=fM([]),t=gB,n=fB,r=bB;function i(i){var o,s,a=Array.from(e.apply(this,arguments),yB),l=a.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(e,a[o].key,c,i)]).data=e;for(o=0,s=mB(t(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:fM(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:fM(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?gB:"function"==typeof e?e:fM(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?fB:e,i):n},i}().keys(r).value(function(e,t){return+_V(e,t,0)}).order(gB).offset(i);return o(e)};function NV(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ZC()(i[t.dataKey])){var a=cT(n,"value",i[t.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=_V(i,ZC()(s)?t.dataKey:s);return ZC()(l)?null:t.scale(l)}var jV=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var a=_V(o,t.dataKey,t.domain[s]);return ZC()(a)?null:t.scale(a)-i/2+r},RV=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[xB()(t.concat([e[0]]).filter(nT)),wB()(t.concat([e[1]]).filter(nT))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},LV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BV=function(e,t,n){if(pT()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(nT(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(LV.test(e[0])){var i=+LV.exec(e[0])[1];r[0]=t[0]-i}else pT()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(nT(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(FV.test(e[1])){var o=+FV.exec(e[1])[1];r[1]=t[1]+o}else pT()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},VV=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=QT()(t,function(e){return e.coordinate}),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],c=i[s-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},zV=function(e,t,n){return e&&e.length?SB()(e,YC()(n,"type.defaultProps.domain"))?t:e:t},UV=function(e,t){var n=e.type.defaultProps?vV(vV({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,s=n.formatter,a=n.tooltipType,l=n.chartType,c=n.hide;return vV(vV({},FT(e,!1)),{},{dataKey:r,unit:o,formatter:s,name:i||r,color:EV(e),value:_V(t,r),type:a,payload:t,chartType:l,hide:c})};function qV(e){return qV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qV(e)}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(t){WV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WV(e,t,n){return t=function(e){var t=function(e){if("object"!=qV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GV=["Webkit","Moz","O","ms"];function JV(e){return JV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JV(e)}function YV(){return YV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YV.apply(this,arguments)}function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(t){nz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rz(r.key),r)}}function ZV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZV=function(){return!!e})()}function ez(e){return ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ez(e)}function tz(e,t){return tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tz(e,t)}function nz(e,t,n){return(t=rz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rz(e){var t=function(e){if("object"!=JV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=JV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==JV(t)?t:t+""}var iz=function(e){return e.changedTouches&&!!e.changedTouches.length},oz=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nz(n=function(e,t,n){return t=ez(t),function(e,t){if(t&&("object"===JV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZV()?Reflect.construct(t,n||[],ez(e).constructor):t.apply(e,n))}(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),nz(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),nz(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),nz(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nz(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nz(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nz(n,"handleSlideDragStart",function(e){var t=iz(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tz(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,s=o.gap,a=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%s,endIndex:d===a?a:d-d%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=_V(n[e],i,e);return pT()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,s=o.x,a=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,s+a-l-i,s+a-l-r):h<0&&(h=Math.max(h,s-r,s-i));var p=this.getIndex({startX:r+h,endX:i+h});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=iz(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,s=this.state[r],a=this.props,l=a.x,c=a.width,u=a.travellerWidth,d=a.onChange,h=a.gap,p=a.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-s):m<0&&(m=Math.max(m,l-s)),f[r]=s+m;var g=this.getIndex(f),b=g.startIndex,y=g.endIndex;this.setState(nz(nz({},r,s+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=p.length-1,("startX"===r&&(i>o?b%h===0:y%h===0)||i<o&&y===e||"endX"===r&&(i>o?y%h===0:b%h===0)||i>o&&y===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,s=r.endX,a=this.state[t],l=i.indexOf(a);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=s||"endX"===t&&u<=o||this.setState(nz({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,s=e.stroke;return Tt().createElement("rect",{stroke:s,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,s=e.children,a=e.padding,l=Pt.Children.only(s);return l?Tt().cloneElement(l,{x:t,y:n,width:r,height:i,margin:a,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,i,o=this,s=this.props,a=s.y,l=s.travellerWidth,c=s.height,u=s.traveller,d=s.ariaLabel,h=s.data,p=s.startIndex,f=s.endIndex,m=Math.max(e,this.props.x),g=QV(QV({},FT(this.props,!1)),{},{x:m,y:a,width:l,height:c}),b=d||"Min value: ".concat(null===(r=h[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=h[f])||void 0===i?void 0:i.name);return Tt().createElement(iO,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,s=n.travellerWidth,a=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return Tt().createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:a,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,a=this.state,l=a.startX,c=a.endX,u={pointerEvents:"none",fill:s};return Tt().createElement(iO,{className:"recharts-brush-texts"},Tt().createElement(EN,YV({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},u),this.getTextOfTick(t)),Tt().createElement(EN,YV({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+o+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,s=e.width,a=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,h=c.isTextActive,p=c.isSlideMoving,f=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!nT(i)||!nT(o)||!nT(s)||!nT(a)||s<=0||a<=0)return null;var g=zC("recharts-brush",n),b=1===Tt().Children.count(r),y=function(e,t){var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=GV.reduce(function(e,r){return $V($V({},e),{},WV({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return Tt().createElement(iO,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(h||p||f||m||l)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,s=Math.floor(n+i/2)-1;return Tt().createElement(Tt().Fragment,null,Tt().createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),Tt().createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),Tt().createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return Tt().isValidElement(e)?Tt().cloneElement(e,n):pT()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,s=e.updateId,a=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return QV({prevData:n,prevTravellerWidth:o,prevUpdateId:s,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var a=t.length,l=UI().domain(YT()(0,a)).range([i,i+o-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:a,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:s,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&XV(n.prototype,r),i&&XV(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Pt.PureComponent);function sz(e){return sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sz(e)}function az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?az(Object(n),!0).forEach(function(t){cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cz(e,t,n){return t=function(e){var t=function(e){if("object"!=sz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}nz(oz,"displayName","Brush"),nz(oz,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uz=Math.PI/180,dz=function(e){return 180*e/Math.PI},hz=function(e,t,n,r){return{x:e+Math.cos(-uz*r)*n,y:t+Math.sin(-uz*r)*n}},pz=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},fz=function(e,t){var n=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,s=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:dz(l),angleInRadian:l}}({x:e.x,y:e.y},t),r=n.radius,i=n.angle,o=t.innerRadius,s=t.outerRadius;if(r<o||r>s)return!1;if(0===r)return!0;var a,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),c=l.startAngle,u=l.endAngle,d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;a=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;a=d>=u&&d<=c}return a?lz(lz({},t),{},{radius:r,angle:pz(d,t)}):null};function mz(e){return mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mz(e)}var gz=["offset"];function bz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yz(Object(n),!0).forEach(function(t){wz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wz(e,t,n){return t=function(e){var t=function(e){if("object"!=mz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(){return _z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_z.apply(this,arguments)}function xz(e){var t,n=e.offset,r=vz({offset:void 0===n?5:n},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gz)),i=r.viewBox,o=r.position,s=r.value,a=r.children,l=r.content,c=r.className,u=void 0===c?"":c,d=r.textBreakAll;if(!i||ZC()(s)&&ZC()(a)&&!(0,Pt.isValidElement)(l)&&!pT()(l))return null;if((0,Pt.isValidElement)(l))return(0,Pt.cloneElement)(l,r);if(pT()(l)){if(t=(0,Pt.createElement)(l,r),(0,Pt.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=ZC()(e.children)?t:e.children;return pT()(n)?n(r):r}(r);var h=function(e){return"cx"in e&&nT(e.cx)}(i),p=FT(r,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return function(e,t,n){var r,i,o=e.position,s=e.viewBox,a=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,p=c.outerRadius,f=c.startAngle,m=c.endAngle,g=c.clockWise,b=(h+p)/2,y=function(e,t){return eT(t-e)*Math.min(Math.abs(t-e),360)}(f,m),v=y>=0?1:-1;"insideStart"===o?(r=f+v*a,i=g):"insideEnd"===o?(r=m-v*a,i=!g):"end"===o&&(r=m+v*a,i=g),i=y<=0?i:!i;var w=hz(u,d,b,r),_=hz(u,d,b,r+359*(i?1:-1)),x="M".concat(w.x,",").concat(w.y,"\n    A").concat(b,",").concat(b,",0,1,").concat(i?0:1,",\n    ").concat(_.x,",").concat(_.y),E=ZC()(e.id)?oT("recharts-radial-line-"):e.id;return Tt().createElement("text",_z({},n,{dominantBaseline:"central",className:zC("recharts-radial-bar-label",l)}),Tt().createElement("defs",null,Tt().createElement("path",{id:E,d:x})),Tt().createElement("textPath",{xlinkHref:"#".concat(E)},t))}(r,t,p);var f=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,s=i.cy,a=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=hz(o,s,l+n,c),_x=u.x;return{x:_x,y:u.y,textAnchor:_x>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var d=hz(o,s,(a+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,s=o.x,a=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",p=u>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",b=f>0?"start":"end";if("top"===i)return vz(vz({},{x:s+l/2,y:a-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(a-n.y,0),width:l}:{});if("bottom"===i)return vz(vz({},{x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(a+c),0),width:l}:{});if("left"===i){var y={x:s-m,y:a+c/2,textAnchor:g,verticalAnchor:"middle"};return vz(vz({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===i){var v={x:s+l+m,y:a+c/2,textAnchor:b,verticalAnchor:"middle"};return vz(vz({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?vz({x:s+m,y:a+c/2,textAnchor:b,verticalAnchor:"middle"},w):"insideRight"===i?vz({x:s+l-m,y:a+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?vz({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:p},w):"insideBottom"===i?vz({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?vz({x:s+m,y:a+d,textAnchor:b,verticalAnchor:p},w):"insideTopRight"===i?vz({x:s+l-m,y:a+d,textAnchor:g,verticalAnchor:p},w):"insideBottomLeft"===i?vz({x:s+m,y:a+c-d,textAnchor:b,verticalAnchor:h},w):"insideBottomRight"===i?vz({x:s+l-m,y:a+c-d,textAnchor:g,verticalAnchor:h},w):mT()(i)&&(nT(i.x)||tT(i.x))&&(nT(i.y)||tT(i.y))?vz({x:s+sT(i.x,l),y:a+sT(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):vz({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(r);return Tt().createElement(EN,_z({className:zC("recharts-label",u)},p,f,{breakAll:d}),t)}xz.displayName="Label";var Ez=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,s=e.r,a=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(nT(f)&&nT(m)){if(nT(u)&&nT(d))return{x:u,y:d,width:f,height:m};if(nT(h)&&nT(p))return{x:h,y:p,width:f,height:m}}return nT(u)&&nT(d)?{x:u,y:d,width:0,height:0}:nT(t)&&nT(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||a||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};xz.parseViewBox=Ez,xz.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ez(e),o=NT(r,xz).map(function(e,n){return(0,Pt.cloneElement)(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return o;var s,a=function(e,t){return e?!0===e?Tt().createElement(xz,{key:"label-implicit",viewBox:t}):rT(e)?Tt().createElement(xz,{key:"label-implicit",viewBox:t,value:e}):(0,Pt.isValidElement)(e)?e.type===xz?(0,Pt.cloneElement)(e,{key:"label-implicit",viewBox:t}):Tt().createElement(xz,{key:"label-implicit",content:e,viewBox:t}):pT()(e)?Tt().createElement(xz,{key:"label-implicit",content:e,viewBox:t}):mT()(e)?Tt().createElement(xz,_z({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(function(e){if(Array.isArray(e))return bz(e)}(s=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return bz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bz(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var kz=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Az=__webpack_require__(3916),Sz=__webpack_require__.n(Az),Pz=__webpack_require__(9747),Cz=__webpack_require__.n(Pz),Tz=function(e){return null};Tz.displayName="Cell";var Oz=__webpack_require__(8090),Mz=__webpack_require__.n(Oz);function Dz(e){return Dz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dz(e)}var Iz=["valueAccessor"],Nz=["data","dataKey","clockWise","id","textBreakAll"];function jz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rz(){return Rz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rz.apply(this,arguments)}function Lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lz(Object(n),!0).forEach(function(t){Bz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bz(e,t,n){return t=function(e){var t=function(e){if("object"!=Dz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zz=function(e){return Array.isArray(e.value)?Mz()(e.value):e.value};function Uz(e){var t=e.valueAccessor,n=void 0===t?zz:t,r=Vz(e,Iz),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=Vz(r,Nz);return i&&i.length?Tt().createElement(iO,{className:"recharts-label-list"},i.map(function(e,t){var r=ZC()(o)?n(e,t):_V(e&&e.payload,o),i=ZC()(a)?{}:{id:"".concat(a,"-").concat(t)};return Tt().createElement(xz,Rz({},FT(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:xz.parseViewBox(ZC()(s)?e:Fz(Fz({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}Uz.displayName="LabelList",Uz.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=NT(e.children,Uz).map(function(e,n){return(0,Pt.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});if(!n)return r;var i,o=function(e,t){return e?!0===e?Tt().createElement(Uz,{key:"labelList-implicit",data:t}):Tt().isValidElement(e)||pT()(e)?Tt().createElement(Uz,{key:"labelList-implicit",data:t,content:e}):mT()(e)?Tt().createElement(Uz,Rz({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(function(e){if(Array.isArray(e))return jz(e)}(i=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return jz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jz(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var qz=__webpack_require__(1331),Hz=__webpack_require__.n(qz),$z=__webpack_require__(3812),Wz=__webpack_require__.n($z);function Gz(e){return Gz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gz(e)}function Jz(){return Jz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jz.apply(this,arguments)}function Yz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kz(Object(n),!0).forEach(function(t){Xz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xz(e,t,n){return t=function(e){var t=function(e){if("object"!=Gz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zz=function(e,t,n,r,i){var o,s=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),(o+="L ".concat(e+n-s/2-r,",").concat(t+i))+"L ".concat(e,",").concat(t," Z")},eU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tU=function(e){var t=Qz(Qz({},eU),e),n=(0,Pt.useRef)(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Pt.useState)(-1),2),i=r[0],o=r[1];(0,Pt.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(e){}},[]);var s=t.x,a=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,h=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isUpdateAnimationActive;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=zC("recharts-trapezoid",d);return m?Tt().createElement(xI,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:p,animationEasing:h,isActive:m},function(e){var r=e.upperWidth,o=e.lowerWidth,s=e.height,a=e.x,l=e.y;return Tt().createElement(xI,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,easing:h},Tt().createElement("path",Jz({},FT(t,!0),{className:g,d:Zz(a,l,r,o,s),ref:n})))}):Tt().createElement("g",null,Tt().createElement("path",Jz({},FT(t,!0),{className:g,d:Zz(s,a,l,c,u)})))};function nU(e){return nU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nU(e)}function rU(){return rU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rU.apply(this,arguments)}function iU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iU(Object(n),!0).forEach(function(t){sU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sU(e,t,n){return t=function(e){var t=function(e){if("object"!=nU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aU=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,s=e.isExternal,a=e.cornerRadius,l=e.cornerIsExternal,c=a*(s?1:-1)+r,u=Math.asin(a/c)/uz,d=l?i:i+o*u,h=l?i-o*u:i;return{center:hz(t,n,c,d),circleTangency:hz(t,n,r,d),lineTangency:hz(t,n,c*Math.cos(u*uz),h),theta:u}},lU=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,s=function(e,t){return eT(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),a=o+s,l=hz(t,n,i,o),c=hz(t,n,i,a),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(o>a),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=hz(t,n,r,o),h=hz(t,n,r,a);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(o<=a),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},cU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uU=function(e){var t=oU(oU({},cU),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(o<i||c===u)return null;var h,p=zC("recharts-sector",d),f=o-i,m=sT(s,f,0,!0);return h=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,a=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=eT(c-l),d=aU({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:a}),h=d.circleTangency,p=d.lineTangency,f=d.theta,m=aU({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:a}),g=m.circleTangency,b=m.lineTangency,y=m.theta,v=a?Math.abs(l-c):Math.abs(l-c)-f-y;if(v<0)return s?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):lU({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"\n  ");if(r>0){var _=aU({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),x=_.circleTangency,E=_.lineTangency,k=_.theta,A=aU({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),S=A.circleTangency,P=A.lineTangency,C=A.theta,T=a?Math.abs(l-c):Math.abs(l-c)-k-C;if(T<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,f/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}):lU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),Tt().createElement("path",rU({},FT(t,!0),{className:p,d:h,role:"img"}))},dU=["option","shapeType","propTransformer","activeClassName","isActive"];function hU(e){return hU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hU(e)}function pU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pU(Object(n),!0).forEach(function(t){mU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mU(e,t,n){return t=function(e){var t=function(e){if("object"!=hU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gU(e,t){return fU(fU({},t),e)}function bU(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Tt().createElement(DI,n);case"trapezoid":return Tt().createElement(tU,n);case"sector":return Tt().createElement(uU,n);case"symbols":if(function(e){return"symbols"===e}(t))return Tt().createElement(OM,n);break;default:return null}}function yU(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?gU:i,s=e.activeClassName,a=void 0===s?"recharts-active-shape":s,l=e.isActive,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dU);if((0,Pt.isValidElement)(n))t=(0,Pt.cloneElement)(n,fU(fU({},c),function(e){return(0,Pt.isValidElement)(e)?e.props:e}(n)));else if(pT()(n))t=n(c);else if(Hz()(n)&&!Wz()(n)){var u=o(n,c);t=Tt().createElement(bU,{shapeType:r,elementProps:u})}else{var d=c;t=Tt().createElement(bU,{shapeType:r,elementProps:d})}return l?Tt().createElement(iO,{className:a},t):t}function vU(e,t){return null!=t&&"trapezoids"in e.props}function wU(e,t){return null!=t&&"sectors"in e.props}function _U(e,t){return null!=t&&"points"in e.props}function xU(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function EU(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function kU(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function AU(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return vU(e,t)?n="trapezoids":wU(e,t)?n="sectors":_U(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return vU(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:wU(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:_U(e,t)?t.payload:{}}(n,t),s=r.filter(function(e,r){var s=SB()(o,e),a=n.props[i].filter(function(e){var r=function(e,t){var n;return vU(e,t)?n=xU:wU(e,t)?n=EU:_U(e,t)&&(n=kU),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(a[a.length-1]);return s&&r===l});return r.indexOf(s[s.length-1])}var SU=["x","y"];function PU(e){return PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PU(e)}function CU(){return CU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CU.apply(this,arguments)}function TU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TU(Object(n),!0).forEach(function(t){MU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MU(e,t,n){return t=function(e){var t=function(e){if("object"!=PU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=PU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==PU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e,t){var n=e.x,r=e.y,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,SU),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return OU(OU(OU(OU(OU({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function IU(e){return Tt().createElement(yU,CU({shapeType:"rectangle",propTransformer:DU,activeClassName:"recharts-active-bar"},e))}var NU,jU=["value","background"];function RU(e){return RU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RU(e)}function LU(){return LU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LU.apply(this,arguments)}function FU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(n),!0).forEach(function(t){HU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$U(r.key),r)}}function zU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zU=function(){return!!e})()}function UU(e){return UU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UU(e)}function qU(e,t){return qU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qU(e,t)}function HU(e,t,n){return(t=$U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){var t=function(e){if("object"!=RU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=RU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==RU(t)?t:t+""}var WU=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HU(e=function(e,t,n){return t=UU(t),function(e,t){if(t&&("object"===RU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zU()?Reflect.construct(t,n||[],UU(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),HU(e,"id",oT("recharts-bar-")),HU(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),HU(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qU(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,s=n.activeBar,a=FT(this.props,!1);return e&&e.map(function(e,n){var l=n===o,c=l?s:r,u=BU(BU(BU({},a),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return Tt().createElement(iO,LU({className:"recharts-bar-rectangle"},kT(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),Tt().createElement(IU,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,a=t.animationEasing,l=t.animationId,c=this.state.prevData;return Tt().createElement(xI,{begin:o,duration:s,isActive:i,easing:a,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,o=n.map(function(e,t){var n=c&&c[t];if(n){var o=lT(n.x,e.x),s=lT(n.y,e.y),a=lT(n.width,e.width),l=lT(n.height,e.height);return BU(BU({},e),{},{x:o(i),y:s(i),width:a(i),height:l(i)})}if("horizontal"===r){var u=lT(0,e.height)(i);return BU(BU({},e),{},{y:e.y+e.height-u,height:u})}var d=lT(0,e.width)(i);return BU(BU({},e),{},{width:d})});return Tt().createElement(iO,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&SB()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=FT(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,jU);if(!s)return null;var l=BU(BU(BU(BU(BU({},a),{},{fill:"#eee"},s),o),kT(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return Tt().createElement(IU,LU({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,s=n.layout,a=NT(n.children,cV);if(!a)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:_V(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Tt().createElement(iO,u,a.map(function(e){return Tt().cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:s,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,s=e.left,a=e.top,l=e.width,c=e.height,u=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,f=zC("recharts-bar",r),m=i&&i.allowDataOverflow,g=o&&o.allowDataOverflow,b=m||g,y=ZC()(h)?this.id:h;return Tt().createElement(iO,{className:f},m||g?Tt().createElement("defs",null,Tt().createElement("clipPath",{id:"clipPath-".concat(y)},Tt().createElement("rect",{x:m?s:s-l/2,y:g?a:a-c/2,width:m?l:2*l,height:g?c:2*c}))):null,Tt().createElement(iO,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(y,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,y),(!u||p)&&Uz.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&VU(n.prototype,r),i&&VU(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Pt.PureComponent);function GU(e){return GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GU(e)}function JU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XU(r.key),r)}}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(t){QU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QU(e,t,n){return(t=XU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=function(e){if("object"!=GU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=GU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==GU(t)?t:t+""}NU=WU,HU(WU,"displayName","Bar"),HU(WU,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!TO.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),HU(WU,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?BU(BU({},m),n.props):n.props,b=g.dataKey,y=g.children,v=g.minPointSize,w="horizontal"===f?s:o,_=c?w.scale.domain():null,x=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),E=NT(y,Tz),k=d.map(function(e,t){var r,d,h,m,g,y;c?r=function(e,t){if(!t||2!==t.length||!nT(t[0])||!nT(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!nT(e[0])||e[0]<n)&&(i[0]=n),(!nT(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],_):(r=_V(e,b),Array.isArray(r)||(r=[x,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i=nT(n)||function(e){return ZC()(e)}(n);return i?e(n,r):(i||XT(!1),t)}}(v,NU.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var k,A=[s.scale(r[0]),s.scale(r[1])],S=A[0],P=A[1];d=jV({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:e,index:t}),h=null!==(k=null!=P?P:S)&&void 0!==k?k:void 0,m=p.size;var C=S-P;if(g=Number.isNaN(C)?0:C,y={x:d,y:s.y,width:m,height:s.height},Math.abs(w)>0&&Math.abs(g)<Math.abs(w)){var T=eT(g||w)*(Math.abs(w)-Math.abs(g));h-=T,g+=T}}else{var O=[o.scale(r[0]),o.scale(r[1])],M=O[0],D=O[1];d=M,h=jV({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),m=D-M,g=p.size,y={x:o.x,y:h,width:o.width,height:g},Math.abs(w)>0&&Math.abs(m)<Math.abs(w)&&(m+=eT(m||w)*(Math.abs(w)-Math.abs(m)))}return BU(BU(BU({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:y},E&&E[t]&&E[t].props),{},{tooltipPayload:[UV(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return BU({data:k,layout:f},h)});var ZU=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},eq=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&JU(t.prototype,n),r&&JU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();QU(eq,"EPS",1e-4);var tq=function(e){var t=Object.keys(e).reduce(function(t,n){return KU(KU({},t),{},QU({},n,eq.create(e[n])))},{});return KU(KU({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return Sz()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return Cz()(e,function(e,n){return t[n].isInRange(e)})}})};function nq(){return nq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nq.apply(this,arguments)}function rq(e){return rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rq(e)}function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iq(Object(n),!0).forEach(function(t){uq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dq(r.key),r)}}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(aq=function(){return!!e})()}function lq(e){return lq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lq(e)}function cq(e,t){return cq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cq(e,t)}function uq(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=function(e){if("object"!=rq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rq(t)?t:t+""}var hq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=lq(t),function(e,t){if(t&&("object"===rq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aq()?Reflect.construct(t,n||[],lq(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cq(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,a=rT(n),l=rT(r);if(dT(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=tq({x:r.scale,y:i.scale}),s=o.apply({x:t,y:n},{bandAware:!0});return kz(e,"discard")&&!o.isInRange(s)?null:s}(this.props);if(!c)return null;var u=c.x,d=c.y,h=this.props,p=h.shape,f=h.className,m=oq(oq({clipPath:kz(this.props,"hidden")?"url(#".concat(s,")"):void 0},FT(this.props,!0)),{},{cx:u,cy:d});return Tt().createElement(iO,{className:zC("recharts-reference-dot",f)},t.renderDot(p,m),xz.renderCallByParent(this.props,{x:u-i,y:d-i,width:2*i,height:2*i}))}}],r&&sq(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Tt().Component);uq(hq,"displayName","ReferenceDot"),uq(hq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),uq(hq,"renderDot",function(e,t){return Tt().isValidElement(e)?Tt().cloneElement(e,t):pT()(e)?e(t):Tt().createElement(tD,nq({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var pq=__webpack_require__(2426),fq=__webpack_require__.n(pq),mq=__webpack_require__(7309),gq=__webpack_require__.n(mq),bq=__webpack_require__(104),yq=__webpack_require__.n(bq)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vq=(0,Pt.createContext)(void 0),wq=(0,Pt.createContext)(void 0),_q=(0,Pt.createContext)(void 0),xq=(0,Pt.createContext)({}),Eq=(0,Pt.createContext)(void 0),kq=(0,Pt.createContext)(0),Aq=(0,Pt.createContext)(0),Sq=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,s=e.children,a=e.width,l=e.height,c=yq(i);return Tt().createElement(vq.Provider,{value:n},Tt().createElement(wq.Provider,{value:r},Tt().createElement(xq.Provider,{value:i},Tt().createElement(_q.Provider,{value:c},Tt().createElement(Eq.Provider,{value:o},Tt().createElement(kq.Provider,{value:l},Tt().createElement(Aq.Provider,{value:a},s)))))))},Pq=function(e){var t=(0,Pt.useContext)(vq);null==t&&XT(!1);var n=t[e];return null==n&&XT(!1),n},Cq=function(e){var t=(0,Pt.useContext)(wq);null==t&&XT(!1);var n=t[e];return null==n&&XT(!1),n},Tq=function(){return(0,Pt.useContext)(Aq)},Oq=function(){return(0,Pt.useContext)(kq)};function Mq(e){return Mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mq(e)}function Dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bq(r.key),r)}}function Iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Iq=function(){return!!e})()}function Nq(e){return Nq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nq(e)}function jq(e,t){return jq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jq(e,t)}function Rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(n),!0).forEach(function(t){Fq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fq(e,t,n){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bq(e){var t=function(e){if("object"!=Mq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mq(t)?t:t+""}function Vq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zq(){return zq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zq.apply(this,arguments)}function Uq(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,a=e.className,l=e.alwaysShow,c=(0,Pt.useContext)(Eq),u=Pq(i),d=Cq(o),h=(0,Pt.useContext)(_q);if(!c||!h)return null;dT(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,s,a,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var p=l.y,f=e.y.apply(p,{position:o});if(kz(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return"left"===a?m.reverse():m}if(t){var g=l.x,b=e.x.apply(g,{position:o});if(kz(l,"discard")&&!e.x.isInRange(b))return null;var y=[{x:b,y:u+h},{x:b,y:u}];return"top"===s?y.reverse():y}if(r){var v=l.segment.map(function(t){return e.apply(t,{position:o})});return kz(l,"discard")&&fq()(v,function(t){return!e.isInRange(t)})?null:v}return null}(tq({x:u.scale,y:d.scale}),rT(t),rT(n),r&&2===r.length,h,e.position,u.orientation,d.orientation,e);if(!p)return null;var f,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vq(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2),g=m[0],b=g.x,y=g.y,v=m[1],w=v.x,_=v.y,x=Lq(Lq({clipPath:kz(e,"hidden")?"url(#".concat(c,")"):void 0},FT(e,!0)),{},{x1:b,y1:y,x2:w,y2:_});return Tt().createElement(iO,{className:zC("recharts-reference-line",a)},function(e,t){return Tt().isValidElement(e)?Tt().cloneElement(e,t):pT()(e)?e(t):Tt().createElement("line",zq({},t,{className:"recharts-reference-line-line"}))}(s,x),xz.renderCallByParent(e,ZU({x:(f={x1:b,y1:y,x2:w,y2:_}).x1,y:f.y1},{x:f.x2,y:f.y2})))}var qq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Nq(t),function(e,t){if(t&&("object"===Mq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Iq()?Reflect.construct(t,n||[],Nq(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return Tt().createElement(Uq,this.props)}}])&&Dq(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Tt().Component);function Hq(){return Hq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hq.apply(this,arguments)}function $q(e){return $q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$q(e)}function Wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wq(Object(n),!0).forEach(function(t){Xq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zq(r.key),r)}}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yq=function(){return!!e})()}function Kq(e){return Kq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kq(e)}function Qq(e,t){return Qq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qq(e,t)}function Xq(e,t,n){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=function(e){if("object"!=$q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$q(t)?t:t+""}Fq(qq,"displayName","ReferenceLine"),Fq(qq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var eH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Kq(t),function(e,t){if(t&&("object"===$q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yq()?Reflect.construct(t,n||[],Kq(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,i=e.y1,o=e.y2,s=e.className,a=e.alwaysShow,l=e.clipPathId;dT(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=rT(n),u=rT(r),d=rT(i),h=rT(o),p=this.props.shape;if(!(c||u||d||h||p))return null;var f=function(e,t,n,r,i){var o=i.x1,s=i.x2,a=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=tq({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(a,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!kz(i,"discard")||d.isInRange(h)&&d.isInRange(p)?ZU(h,p):null}(c,u,d,h,this.props);if(!f&&!p)return null;var m=kz(this.props,"hidden")?"url(#".concat(l,")"):void 0;return Tt().createElement(iO,{className:zC("recharts-reference-area",s)},t.renderRect(p,Gq(Gq({clipPath:m},FT(this.props,!0)),f)),xz.renderCallByParent(this.props,f))}}])&&Jq(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Tt().Component);function tH(e){return function(e){if(Array.isArray(e))return nH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nH(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Xq(eH,"displayName","ReferenceArea"),Xq(eH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Xq(eH,"renderRect",function(e,t){return Tt().isValidElement(e)?Tt().cloneElement(e,t):pT()(e)?e(t):Tt().createElement(DI,Hq({},t,{className:"recharts-reference-area-rect"}))});var rH=function(e,t,n,r,i){var o=NT(e,qq),s=NT(e,hq),a=[].concat(tH(o),tH(s)),l=NT(e,eH),c="".concat(r,"Id"),u=r[0],d=t;if(a.length&&(d=a.reduce(function(e,t){if(t.props[c]===n&&kz(t.props,"extendDomain")&&nT(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),p="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&kz(t.props,"extendDomain")&&nT(t.props[h])&&nT(t.props[p])){var r=t.props[h],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return nT(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},iH=__webpack_require__(228),oH=new(__webpack_require__.n(iH)()),sH="recharts.syncMouseEvents";function aH(e){return aH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aH(e)}function lH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uH(r.key),r)}}function cH(e,t,n){return(t=uH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=function(e){if("object"!=aH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aH(t)?t:t+""}var dH=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cH(this,"activeIndex",0),cH(this,"coordinateList",[]),cH(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,s=e.layout,a=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=a?a:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,s=this.coordinateList[this.activeIndex].coordinate,a=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+a,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&lH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function hH(){}function pH(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fH(e){this._context=e}function mH(e){this._context=e}function gH(e){this._context=e}fH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mH.prototype={areaStart:hH,areaEnd:hH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},gH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class bH{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function yH(e){this._context=e}function vH(e){this._context=e}function wH(e){return new vH(e)}function _H(e){return e<0?-1:1}function xH(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(_H(o)+_H(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function EH(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function kH(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function AH(e){this._context=e}function SH(e){this._context=new PH(e)}function PH(e){this._context=e}function CH(e){this._context=e}function TH(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function OH(e,t){this._context=e,this._t=t}function MH(e){return e[0]}function DH(e){return e[1]}function IH(e,t){var n=fM(!0),r=null,i=wH,o=null,s=_M(a);function a(a){var l,c,u,d=(a=mB(a)).length,h=!1;for(null==r&&(o=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=a[l],l,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,a),+t(c,l,a));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?MH:fM(e),t="function"==typeof t?t:void 0===t?DH:fM(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:fM(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:fM(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:fM(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function NH(e,t,n){var r=null,i=fM(!0),o=null,s=wH,a=null,l=_M(c);function c(c){var u,d,h,p,f,m=(c=mB(c)).length,g=!1,b=new Array(m),y=new Array(m);for(null==o&&(a=s(f=l())),u=0;u<=m;++u){if(!(u<m&&i(p=c[u],u,c))===g)if(g=!g)d=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=d;--h)a.point(b[h],y[h]);a.lineEnd(),a.areaEnd()}g&&(b[u]=+e(p,u,c),y[u]=+t(p,u,c),a.point(r?+r(p,u,c):b[u],n?+n(p,u,c):y[u]))}if(f)return a=null,f+""||null}function u(){return IH().defined(i).curve(s).context(o)}return e="function"==typeof e?e:void 0===e?MH:fM(+e),t="function"==typeof t?t:fM(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?DH:fM(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:fM(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:fM(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:fM(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:fM(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:fM(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:fM(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:fM(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=o&&(a=s(o)),c):s},c.context=function(e){return arguments.length?(null==e?o=a=null:a=s(o=e),c):o},c}function jH(e){return jH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jH(e)}function RH(){return RH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RH.apply(this,arguments)}function LH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LH(Object(n),!0).forEach(function(t){BH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BH(e,t,n){return t=function(e){var t=function(e){if("object"!=jH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yH.prototype={areaStart:hH,areaEnd:hH,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},vH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},AH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kH(this,this._t0,EH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kH(this,EH(this,n=xH(this,e,t)),n);break;default:kH(this,this._t0,n=xH(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(SH.prototype=Object.create(AH.prototype)).point=function(e,t){AH.prototype.point.call(this,t,e)},PH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},CH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=TH(e),i=TH(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},OH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var VH={curveBasisClosed:function(e){return new mH(e)},curveBasisOpen:function(e){return new gH(e)},curveBasis:function(e){return new fH(e)},curveBumpX:function(e){return new bH(e,!0)},curveBumpY:function(e){return new bH(e,!1)},curveLinearClosed:function(e){return new yH(e)},curveLinear:wH,curveMonotoneX:function(e){return new AH(e)},curveMonotoneY:function(e){return new SH(e)},curveNatural:function(e){return new CH(e)},curveStep:function(e){return new OH(e,.5)},curveStepAfter:function(e){return new OH(e,1)},curveStepBefore:function(e){return new OH(e,0)}},zH=function(e){return e.x===+e.x&&e.y===+e.y},UH=function(e){return e.x},qH=function(e){return e.y},HH=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(pT()(e))return e;var n="curve".concat($O()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?VH[n]||wH:VH["".concat(n).concat("vertical"===t?"Y":"X")]}(r,a),d=c?o.filter(function(e){return zH(e)}):o;if(Array.isArray(s)){var h=c?s.filter(function(e){return zH(e)}):s,p=d.map(function(e,t){return FH(FH({},e),{},{base:h[t]})});return(t="vertical"===a?NH().y(qH).x1(UH).x0(function(e){return e.base.x}):NH().x(UH).y1(qH).y0(function(e){return e.base.y})).defined(zH).curve(u),t(p)}return(t="vertical"===a&&nT(s)?NH().y(qH).x1(UH).x0(s):nT(s)?NH().x(UH).y1(qH).y0(s):IH().x(UH).y(qH)).defined(zH).curve(u),t(d)}(e):r;return Pt.createElement("path",RH({},FT(e,!1),ET(e),{className:zC("recharts-curve",t),d:o,ref:i}))};function $H(e){return $H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$H(e)}var WH=["x","y","top","left","width","height","className"];function GH(){return GH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GH.apply(this,arguments)}function JH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YH(e,t,n){return t=function(e){var t=function(e){if("object"!=$H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$H(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KH=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},QH=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,s=void 0===o?0:o,a=e.left,l=void 0===a?0:a,c=e.width,u=void 0===c?0:c,d=e.height,h=void 0===d?0:d,p=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JH(Object(n),!0).forEach(function(t){YH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:s,left:l,width:u,height:h},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,WH));return nT(n)&&nT(i)&&nT(u)&&nT(h)&&nT(s)&&nT(l)?Tt().createElement("path",GH({},FT(f,!0),{className:zC("recharts-cross",p),d:KH(n,i,u,h,s,l)})):null};function XH(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[hz(t,n,r,i),hz(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function ZH(e,t,n){var r,i,o,s;if("horizontal"===e)o=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return XH(t);var a=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=hz(a,l,c,d),p=hz(a,l,u,d);r=h.x,i=h.y,o=p.x,s=p.y}return[{x:r,y:i},{x:o,y:s}]}function e$(e){return e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e$(e)}function t$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(n),!0).forEach(function(t){r$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r$(e,t,n){return t=function(e){var t=function(e){if("object"!=e$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=e$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==e$(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$(e){var t,n,r,i=e.element,o=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,f=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!f||!s||!a||"ScatterChart"!==p&&"axis"!==o)return null;var m=HH;if("ScatterChart"===p)r=a,m=QH;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,a,c,d),m=DI;else if("radial"===h){var g=XH(a),b=g.cx,y=g.cy,v=g.radius;r={cx:b,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},m=uU}else r={points:ZH(h,a,c)},m=HH;var w=n$(n$(n$(n$({stroke:"#ccc",pointerEvents:"none"},c),r),FT(f,!1)),{},{payload:l,payloadIndex:u,className:zC("recharts-tooltip-cursor",f.className)});return(0,Pt.isValidElement)(f)?(0,Pt.cloneElement)(f,w):(0,Pt.createElement)(m,w)}var o$=["item"],s$=["children","className","width","height","style","compact","title","desc"];function a$(e){return a$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a$(e)}function l$(){return l$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l$.apply(this,arguments)}function c$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||g$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_$(r.key),r)}}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h$=function(){return!!e})()}function p$(e){return p$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p$(e)}function f$(e,t){return f$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f$(e,t)}function m$(e){return function(e){if(Array.isArray(e))return b$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g$(e,t){if(e){if("string"==typeof e)return b$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b$(e,t):void 0}}function b$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y$(Object(n),!0).forEach(function(t){w$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w$(e,t,n){return(t=_$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _$(e){var t=function(e){if("object"!=a$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a$(t)?t:t+""}var x$={xAxis:["bottom","top"],yAxis:["left","right"]},E$={width:"100%",height:"100%"},k$={x:0,y:0};function A$(e){return e}var S$=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(m$(e),m$(n)):e},[]);return o.length>0?o:e&&e.length&&nT(r)&&nT(i)?e.slice(r,i+1):[]};function P$(e){return"number"===e?[0,"auto"]:void 0}var C$=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,s=S$(t,e);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(i,a){var l,c,u=null!==(l=a.props.data)&&void 0!==l?l:t;return u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),(c=o.dataKey&&!o.allowDuplicatedCategory?cT(void 0===u?s:u,o.dataKey,r):u&&u[n]||s[n])?[].concat(m$(i),[UV(a,c)]):i},[])},T$=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),s=e.orderedTooltipTicks,a=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var a=i.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(eT(u-c)!==eT(d-u)){var p=[];if(eT(d-u)===eT(a[1]-a[0])){h=d;var f=u+a[1]-a[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{h=c;var m=d+a[1]-a[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){o=r[l].index;break}}else{var b=Math.min(c,d),y=Math.max(c,d);if(e>(b+u)/2&&e<=(y+u)/2){o=r[l].index;break}}}else for(var v=0;v<s;v++)if(0===v&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<s-1&&e>(n[v].coordinate+n[v-1].coordinate)/2&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v===s-1&&e>(n[v].coordinate+n[v-1].coordinate)/2){o=n[v].index;break}return o}(o,s,l,a);if(c>=0&&l){var u=l[c]&&l[c].value,d=C$(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,s=r.radius;return v$(v$(v$({},r),hz(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,l=r.angle;return v$(v$(v$({},r),hz(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return k$}(n,s,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},O$=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,s=t.stackGroups,a=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=NT(c,i),h={};return d&&d.length?h=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,s=t.stackGroups,a=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=SV(c,i);return n.reduce(function(t,n){var p,f=void 0!==n.type.defaultProps?v$(v$({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,b=f.allowDataOverflow,y=f.allowDuplicatedCategory,v=f.scale,w=f.ticks,_=f.includeHidden,x=f[o];if(t[x])return t;var E,k,A,S=S$(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===x}),dataStartIndex:a,dataEndIndex:l}),P=S.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&nT(r)&&nT(i))return!0}return!1})(f.domain,b,m)&&(E=BV(f.domain,null,b),!h||"number"!==m&&"auto"===v||(A=xV(S,g,"category")));var C=P$(m);if(!E||0===E.length){var T,O=null!==(T=f.domain)&&void 0!==T?T:C;if(g){if(E=xV(S,g,m),"category"===m&&h){var M=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);y&&M?(k=E,E=YT()(0,P)):y||(E=zV(O,E,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(m$(e),[t])},[]))}else if("category"===m)E=y?E.filter(function(e){return""!==e&&!ZC()(e)}):zV(O,E,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ZC()(t)?e:[].concat(m$(e),[t])},[]);else if("number"===m){var D=function(e,t,n,r,i){var o=t.map(function(t){return kV(e,t,n,i,r)}).filter(function(e){return!ZC()(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(S,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===x&&(_||!i)}),g,i,c);D&&(E=D)}!h||"number"!==m&&"auto"===v||(A=xV(S,g,"category"))}else E=h?YT()(0,P):s&&s[x]&&s[x].hasStack&&"number"===m?"expand"===d?[0,1]:RV(s[x].stackGroups,a,l):AV(S,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===x&&(_||!n)}),m,c,!0);if("number"===m)E=rH(u,E,x,i,w),O&&(E=BV(O,E,b));else if("category"===m&&O){var I=O;E.every(function(e){return I.indexOf(e)>=0})&&(E=I)}}return v$(v$({},t),{},w$({},x,v$(v$({},f),{},{axisType:i,domain:E,categoricalDomain:A,duplicateDomain:k,originalDomain:null!==(p=f.domain)&&void 0!==p?p:C,isCategorical:h,layout:c})))},{})}(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:a,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,s=t.stackGroups,a=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=S$(e.data,{graphicalItems:n,dataStartIndex:a,dataEndIndex:l}),h=d.length,p=SV(c,i),f=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?v$(v$({},t.type.defaultProps),t.props):t.props)[o],b=P$("number");return e[g]?e:(f++,p?m=YT()(0,h):s&&s[g]&&s[g].hasStack?(m=RV(s[g].stackGroups,a,l),m=rH(u,m,g,i)):(m=BV(b,AV(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=rH(u,m,g,i)),v$(v$({},e),{},w$({},g,v$(v$({axisType:i},r.defaultProps),{},{hide:!0,orientation:YC()(x$,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:b,isCategorical:p,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:a,dataEndIndex:l})),h},M$=function(e){var t=e.children,n=e.defaultShowTooltip,r=jT(t,oz),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},D$=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},N$=["type","layout","connectNulls","ref"],j$=["key"];function R$(e){return R$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R$(e)}function L$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F$(){return F$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F$.apply(this,arguments)}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(t){G$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z$(e){return function(e){if(Array.isArray(e))return U$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U$(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J$(r.key),r)}}function H$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(H$=function(){return!!e})()}function $$(e){return $$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$$(e)}function W$(e,t){return W$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W$(e,t)}function G$(e,t,n){return(t=J$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J$(e){var t=function(e){if("object"!=R$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R$(t)?t:t+""}var Y$=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return G$(e=function(e,t,n){return t=$$(t),function(e,t){if(t&&("object"===R$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,H$()?Reflect.construct(t,n||[],$$(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),G$(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),G$(e,"getStrokeDasharray",function(n,r,i){var o=i.reduce(function(e,t){return e+t});if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var s=Math.floor(n/o),a=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>a){c=[].concat(z$(i.slice(0,u)),[a-d]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(z$(t.repeat(i,s)),z$(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),G$(e,"id",oT("recharts-line-")),G$(e,"pathRef",function(t){e.mainCurve=t}),G$(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),G$(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W$(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,s=n.layout,a=NT(n.children,cV);if(!a)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:_V(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Tt().createElement(iO,c,a.map(function(e){return Tt().cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:s,dataPointFormatter:l})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,a=i.dataKey,l=FT(this.props,!1),c=FT(o,!0),u=s.map(function(e,n){var r=V$(V$(V$({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:a,payload:e.payload,points:s});return t.renderDotItem(o,r)}),d={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return Tt().createElement(iO,F$({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,s=i.layout,a=i.connectNulls,l=(i.ref,L$(i,N$)),c=V$(V$(V$({},FT(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:s,connectNulls:a});return Tt().createElement(HH,F$({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,s=r.isAnimationActive,a=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=r.animateNewValues,h=r.width,p=r.height,f=this.state,m=f.prevPoints,g=f.totalLength;return Tt().createElement(xI,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(m){var a=m.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*a);if(m[n]){var r=m[n],i=lT(r.x,e.x),o=lT(r.y,e.y);return V$(V$({},e),{},{x:i(s),y:o(s)})}if(d){var l=lT(2*h,e.x),c=lT(p/2,e.y);return V$(V$({},e),{},{x:l(s),y:c(s)})}return V$(V$({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=lT(0,g)(s);if(o){var f="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,g,f)}else c=n.generateSimpleStrokeDasharray(g,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,s=o.prevPoints,a=o.totalLength;return i&&r&&r.length&&(!s&&a>0||!SB()(s,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,s=t.xAxis,a=t.yAxis,l=t.top,c=t.left,u=t.width,d=t.height,h=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var f=this.state.isAnimationFinished,m=1===i.length,g=zC("recharts-line",o),b=s&&s.allowDataOverflow,y=a&&a.allowDataOverflow,v=b||y,w=ZC()(p)?this.id:p,_=null!==(e=FT(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},x=_.r,E=void 0===x?3:x,k=_.strokeWidth,A=void 0===k?2:k,S=(function(e){return e&&"object"===CT(e)&&"clipDot"in e}(r)?r:{}).clipDot,P=void 0===S||S,C=2*E+A;return Tt().createElement(iO,{className:g},b||y?Tt().createElement("defs",null,Tt().createElement("clipPath",{id:"clipPath-".concat(w)},Tt().createElement("rect",{x:b?c:c-u/2,y:y?l:l-d/2,width:b?u:2*u,height:y?d:2*d})),!P&&Tt().createElement("clipPath",{id:"clipPath-dots-".concat(w)},Tt().createElement("rect",{x:c-C/2,y:l-C/2,width:u+C,height:d+C}))):null,!m&&this.renderCurve(v,w),this.renderErrorBar(v,w),(m||r)&&this.renderDots(v,P,w),(!h||f)&&Uz.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(z$(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(z$(r),z$(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(Tt().isValidElement(e))n=Tt().cloneElement(e,t);else if(pT()(e))n=e(t);else{var r=t.key,i=L$(t,j$),o=zC("recharts-line-dot","boolean"!=typeof e?e.className:"");n=Tt().createElement(tD,F$({key:r},i,{className:o}))}return n}}],r&&q$(n.prototype,r),i&&q$(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Pt.PureComponent);function K$(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Q$(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function X$(e){return X$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X$(e)}function Z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z$(Object(n),!0).forEach(function(t){tW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tW(e,t,n){return t=function(e){var t=function(e){if("object"!=X$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=X$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X$(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(nT(l)||TO.isSsr)return function(e,t){return K$(e,t+1)}(i,"number"==typeof l&&nT(l)?l:0);var h=[],p="top"===a||"bottom"===a?"width":"height",f=u&&"width"===p?KI(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=pT()(c)?c(e.value,r):e.value;return"width"===p?function(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}(KI(i,{fontSize:t,letterSpacing:n}),f,d):KI(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?eT(i[1].coordinate-i[0].coordinate):1,b=function(e,t,n){var r="width"===n,i=e.x,o=e.y,s=e.width,a=e.height;return 1===t?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}(o,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,s=(r||[]).slice(),a=t.start,l=t.end,c=0,u=1,d=a,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:K$(r,u)};var o,s=c,h=function(){return void 0===o&&(o=n(t,s)),o},p=t.coordinate,f=0===c||Q$(e,p,h,d,l);f||(c=0,d=a,u+=1),f&&(d=p+e*(h()/2+i),c+=u)};u<=s.length;)if(o=h())return o.v;return[]}(g,b,m,i,s):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=t.start,c=t.end;if(o){var u=r[a-1],d=n(u,a-1),h=e*(u.coordinate+e*d/2-c);s[a-1]=u=eW(eW({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Q$(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),s[a-1]=eW(eW({},u),{},{isShow:!0}))}for(var p=o?a-1:a,f=function(t){var r,o=s[t],a=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*a()/2-l);s[t]=o=eW(eW({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else s[t]=o=eW(eW({},o),{},{tickCoord:o.coordinate});Q$(e,o.tickCoord,a,l,c)&&(l=o.tickCoord+e*(a()/2+i),s[t]=eW(eW({},o),{},{isShow:!0}))},m=0;m<p;m++)f(m);return s}(g,b,m,i,s,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=eW(eW({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=eW(eW({},c),{},{tickCoord:c.coordinate});Q$(e,c.tickCoord,u,a,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=eW(eW({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}(g,b,m,i,s),h.filter(function(e){return e.isShow}))}G$(Y$,"displayName","Line"),G$(Y$,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!TO.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),G$(Y$,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=_V(e,s);return"horizontal"===u?{x:NV({axis:n,ticks:i,bandSize:a,entry:e,index:t}),y:ZC()(l)?null:r.scale(l),value:l,payload:e}:{x:ZC()(l)?null:n.scale(l),y:NV({axis:r,ticks:o,bandSize:a,entry:e,index:t}),value:l,payload:e}});return V$({points:d,layout:u},c)});var rW=["viewBox"],iW=["viewBox"],oW=["ticks"];function sW(e){return sW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sW(e)}function aW(){return aW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aW.apply(this,arguments)}function lW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lW(Object(n),!0).forEach(function(t){mW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gW(r.key),r)}}function hW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hW=function(){return!!e})()}function pW(e){return pW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pW(e)}function fW(e,t){return fW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fW(e,t)}function mW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=function(e){if("object"!=sW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sW(t)?t:t+""}var bW=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=pW(t),function(e,t){if(t&&("object"===sW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hW()?Reflect.construct(t,n||[],pW(e).constructor):t.apply(e,n))}(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fW(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=uW(e,rW),i=this.props,o=i.viewBox,s=uW(i,iW);return!bT(n,o)||!bT(r,s)||!bT(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,s,a=this.props,l=a.x,c=a.y,u=a.width,d=a.height,h=a.orientation,p=a.tickSize,f=a.mirror,m=a.tickMargin,g=f?-1:1,b=e.tickSize||p,y=nT(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,s=(r=(i=c+ +!f*d)-g*b)-g*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!f*u)-g*b)-g*m,s=y;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +f*u)+g*b)+g*m,s=y;break;default:t=n=e.coordinate,s=(r=(i=c+ +f*d)+g*b)+g*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,s=e.mirror,a=e.axisLine,l=cW(cW(cW({},FT(this.props,!1)),FT(a,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!s||"bottom"===o&&s);l=cW(cW({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===o&&!s||"right"===o&&s);l=cW(cW({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return Tt().createElement("line",aW({},l,{className:zC("recharts-cartesian-axis-line",YC()(a,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var i=this,o=this.props,s=o.tickLine,a=o.stroke,l=o.tick,c=o.tickFormatter,u=o.unit,d=nW(cW(cW({},this.props),{},{ticks:e}),n,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),f=FT(this.props,!1),m=FT(l,!1),g=cW(cW({},f),{},{fill:"none"},FT(s,!1)),b=d.map(function(e,n){var r=i.getTickLineCoord(e),o=r.line,b=r.tick,y=cW(cW(cW(cW({textAnchor:h,verticalAnchor:p},f),{},{stroke:"none",fill:a},m),b),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:c});return Tt().createElement(iO,aW({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},kT(i.props,e,n)),s&&Tt().createElement("line",aW({},g,o,{className:zC("recharts-cartesian-axis-tick-line",YC()(s,"className"))})),l&&t.renderTickItem(l,y,"".concat(pT()(c)?c(e.value,n):e.value).concat(u||"")))});return Tt().createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var a=this.props,l=a.ticks,c=uW(a,oW),u=l;return pT()(o)&&(u=l&&l.length>0?o(this.props):o(c)),r<=0||i<=0||!u||!u.length?null:Tt().createElement(iO,{className:zC("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),xz.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,n){var r=zC(t.className,"recharts-cartesian-axis-tick-value");return Tt().isValidElement(e)?Tt().cloneElement(e,cW(cW({},t),{},{className:r})):pT()(e)?e(cW(cW({},t),{},{className:r})):Tt().createElement(EN,aW({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&dW(n.prototype,r),i&&dW(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Pt.Component);function yW(e){return yW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yW(e)}function vW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kW(r.key),r)}}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wW=function(){return!!e})()}function _W(e){return _W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_W(e)}function xW(e,t){return xW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xW(e,t)}function EW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=function(e){if("object"!=yW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yW(t)?t:t+""}function AW(){return AW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AW.apply(this,arguments)}function SW(e){var t=e.xAxisId,n=Tq(),r=Oq(),i=Pq(t);return null==i?null:Pt.createElement(bW,AW({},i,{className:zC("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return CV(e,!0)}}))}mW(bW,"displayName","CartesianAxis"),mW(bW,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=_W(t),function(e,t){if(t&&("object"===yW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wW()?Reflect.construct(t,n||[],_W(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return Pt.createElement(SW,this.props)}}])&&vW(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pt.Component);function CW(e){return CW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CW(e)}function TW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NW(r.key),r)}}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(OW=function(){return!!e})()}function MW(e){return MW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MW(e)}function DW(e,t){return DW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DW(e,t)}function IW(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=function(e){if("object"!=CW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=CW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==CW(t)?t:t+""}function jW(){return jW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jW.apply(this,arguments)}EW(PW,"displayName","XAxis"),EW(PW,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var RW=function(e){var t=e.yAxisId,n=Tq(),r=Oq(),i=Cq(t);return null==i?null:Pt.createElement(bW,jW({},i,{className:zC("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return CV(e,!0)}}))},LW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=MW(t),function(e,t){if(t&&("object"===CW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OW()?Reflect.construct(t,n||[],MW(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DW(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return Pt.createElement(RW,this.props)}}])&&TW(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pt.Component);IW(LW,"displayName","YAxis"),IW(LW,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var FW=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,a=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,r){var i=e.props,o=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!RT({props:i}))return null;var u=i.children,d=i.layout,h=i.stackOffset,p=i.data,f=i.reverseStackOrder,m=D$(d),g=m.numericAxisName,b=m.cateAxisName,y=NT(u,n),v=function(e,t,n,r,i,o){if(!e)return null;var s=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?vV(vV({},t.type.defaultProps),t.props):t.props,s=o.stackId;if(o.hide)return e;var a=o[n],l=e[a]||{hasStack:!1,stackGroups:{}};if(rT(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[oT("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return vV(vV({},e),{},wV({},a,l))},{});return Object.keys(s).reduce(function(t,o){var a=s[o];return a.hasStack&&(a.stackGroups=Object.keys(a.stackGroups).reduce(function(t,o){var s=a.stackGroups[o];return vV(vV({},t),{},wV({},o,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:IV(e,s.items,i)}))},{})),vV(vV({},t),{},wV({},o,a))},{})}(p,y,"".concat(g,"Id"),"".concat(b,"Id"),h,f),w=a.reduce(function(e,t){var n="".concat(t.axisType,"Map");return v$(v$({},e),{},w$({},n,O$(i,v$(v$({},t),{},{graphicalItems:y,stackGroups:t.axisType===g&&v,dataStartIndex:o,dataEndIndex:s}))))},{}),_=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,s=void 0===o?{}:o,a=n.width,l=n.height,c=n.children,u=n.margin||{},d=jT(c,oz),h=jT(c,ZM),p=Object.keys(s).reduce(function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:v$(v$({},e),{},w$({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),f=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:v$(v$({},e),{},w$({},r,YC()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=v$(v$({},f),p),g=m.bottom;d&&(m.bottom+=d.props.height||oz.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,s=n.margin,a=o-(s.left||0)-(s.right||0),l=fV({children:i,legendWidth:a});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&nT(e[h]))return vV(vV({},e),{},wV({},h,e[h]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&nT(e[p]))return vV(vV({},e),{},wV({},p,e[p]+(d||0)))}return e}(m,0,n,t));var b=a-m.left-m.right,y=l-m.top-m.bottom;return v$(v$({brushBottom:g},m),{},{width:Math.max(b,0),height:Math.max(y,0)})}(v$(v$({},w),{},{props:i,graphicalItems:y}),null==r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=c(i,w[e],_,e.replace("Map",""),t)});var x,E,k=w["".concat(b,"Map")],A=(x=aT(k),{tooltipTicks:E=CV(x,!1,!0),orderedTooltipTicks:QT()(E,function(e){return e.coordinate}),tooltipAxis:x,tooltipAxisBandSize:VV(x,E)}),S=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=D$(u),m=f.numericAxisName,g=f.cateAxisName,b=function(e){return!(!e||!e.length)&&e.some(function(e){var t=OT(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),y=[];return n.forEach(function(n,f){var v=S$(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),w=void 0!==n.type.defaultProps?v$(v$({},n.type.defaultProps),n.props):n.props,_=w.dataKey,x=w.maxBarSize,E=w["".concat(m,"Id")],k=w["".concat(g,"Id")],A=a.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||XT(!1);var o=r[i];return v$(v$({},e),{},w$(w$({},n.axisType,o),"".concat(n.axisType,"Ticks"),CV(o)))},{}),S=A[g],P=A["".concat(g,"Ticks")],C=r&&r[E]&&r[E].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?vV(vV({},e.type.defaultProps),e.props):e.props).stackId;if(rT(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[E].stackGroups),T=OT(n.type).indexOf("Bar")>=0,O=VV(S,P),M=[],D=b&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,l=s.length;a<l;a++)for(var c=i[s[a]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var p=c[u[d]],f=p.items,m=p.cateAxisId,g=f.filter(function(e){return OT(e.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,y=void 0!==b?vV(vV({},b),g[0].props):g[0].props,v=y.barSize,w=y[m];o[w]||(o[w]=[]);var _=ZC()(v)?t:v;o[w].push({item:g[0],stackList:g.slice(1),barSize:ZC()(_)?void 0:sT(_,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:I$(A,g)});if(T){var I,N,j=ZC()(x)?p:x,R=null!==(I=null!==(N=VV(S,P,!0))&&void 0!==N?N:j)&&void 0!==I?I:0;M=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,s=e.maxBarSize,a=o.length;if(a<1)return null;var l,c=sT(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/a,p=o.reduce(function(e,t){return e+t.barSize||0},0);(p+=(a-1)*c)>=r&&(p-=(a-1)*c,c=0),p>=r&&h>0&&(d=!0,p=a*(h*=.9));var f={offset:((r-p)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:d?h:t.barSize}},r=[].concat(gV(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:f})}),r},u)}else{var m=sT(n,r,0,!0);r-2*m-(a-1)*c<=0&&(c=0);var g=(r-2*m-(a-1)*c)/a;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;l=o.reduce(function(e,t,n){var r=[].concat(gV(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-b)/2,size:b}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==O?R:O,sizeList:D[k],maxBarSize:j}),R!==O&&(M=M.map(function(e){return v$(v$({},e),{},{position:v$(v$({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,B=n&&n.type&&n.type.getComposedData;B&&y.push({props:v$(v$({},B(v$(v$({},A),{},{displayedData:v,props:e,dataKey:_,item:n,bandSize:O,barPosition:M,offset:i,stackedData:C,layout:u,dataStartIndex:s,dataEndIndex:l}))),{},w$(w$(w$({key:n.key||"item-".concat(f)},m,A[m]),g,A[g]),"animationId",o)),childIndex:(L=n,F=e.children,IT(F).indexOf(L)),item:n})}),y}(i,v$(v$({},w),{},{dataStartIndex:o,dataEndIndex:s,updateId:l,graphicalItems:y,stackGroups:v,offset:_}));return v$(v$({formattedGraphicalItems:S,graphicalItems:y,offset:_,stackGroups:v},A),w)},h=function(e){function n(e){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),w$(o=function(e,t,n){return t=p$(t),function(e,t){if(t&&("object"===a$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h$()?Reflect.construct(t,n||[],p$(e).constructor):t.apply(e,n))}(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),w$(o,"accessibilityManager",new dH),w$(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(v$({legendBBox:e},d({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},v$(v$({},o.state),{},{legendBBox:e}))))}}),w$(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),w$(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return v$({dataStartIndex:t,dataEndIndex:n},d({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),w$(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=v$(v$({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;pT()(r)&&r(n,e)}}),w$(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?v$(v$({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;pT()(r)&&r(n,e)}),w$(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),w$(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),w$(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),w$(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;pT()(n)&&n(t,e)}),w$(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&TT[t]?TT[t]:null}(e),r=YC()(o.props,"".concat(n));n&&pT()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),w$(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=v$(v$({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;pT()(r)&&r(n,e)}}),w$(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;pT()(t)&&t(o.getMouseInfo(e),e)}),w$(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;pT()(t)&&t(o.getMouseInfo(e),e)}),w$(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),w$(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),w$(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),w$(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;pT()(t)&&t(o.getMouseInfo(e),e)}),w$(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;pT()(t)&&t(o.getMouseInfo(e),e)}),w$(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&oH.emit(sH,o.props.syncId,e,o.eventEmitterSymbol)}),w$(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,s=e.dataStartIndex,a=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(v$({dataStartIndex:s,dataEndIndex:a},d({props:o.props,dataStartIndex:s,dataEndIndex:a,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,h=o.state,p=h.offset,f=h.tooltipTicks;if(!p)return;if("function"==typeof r)u=r(f,e);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=v$(v$({},p),{},{x:p.left,y:p.top}),b=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),v=f[u]&&f[u].value,w=C$(o.state,o.props.data,u),_=f[u]?{x:"horizontal"===n?f[u].coordinate:b,y:"horizontal"===n?y:f[u].coordinate}:k$;o.setState(v$(v$({},e),{},{activeLabel:v,activeCoordinate:_,activePayload:w,activeTooltipIndex:u}))}else o.setState(e)}),w$(o,"renderCursor",function(e){var n,r=o.state,i=r.isTooltipActive,s=r.activeCoordinate,a=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=o.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:i,p=o.props.layout,f=e.key||"_recharts-cursor";return Tt().createElement(i$,{key:f,activeCoordinate:s,activePayload:a,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:p,offset:l,tooltipAxisBandSize:u,tooltipEventType:d})}),w$(o,"renderPolarAxis",function(e,t,n){var r=YC()(e,"type.axisType"),i=YC()(o.state,"".concat(r,"Map")),s=e.type.defaultProps,a=void 0!==s?v$(v$({},s),e.props):e.props,l=i&&i[a["".concat(r,"Id")]];return(0,Pt.cloneElement)(e,v$(v$({},l),{},{className:zC(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:CV(l,!0)}))}),w$(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,s=o.state,a=s.radiusAxisMap,l=s.angleAxisMap,c=aT(a),u=aT(l),d=u.cx,h=u.cy,p=u.innerRadius,f=u.outerRadius;return(0,Pt.cloneElement)(e,{polarAngles:Array.isArray(r)?r:CV(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:CV(c,!0).map(function(e){return e.coordinate}),cx:d,cy:h,innerRadius:p,outerRadius:f,key:e.key||"polar-grid",radialLines:n})}),w$(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,s=o.props.margin||{},a=r-(s.left||0)-(s.right||0),c=fV({children:n,formattedGraphicalItems:e,legendWidth:a,legendContent:l});if(!c)return null;var u=c.item,d=u$(c,o$);return(0,Pt.cloneElement)(u,v$(v$({},d),{},{chartWidth:r,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),w$(o,"renderTooltip",function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=jT(n,qO);if(!i)return null;var s=o.state,a=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,u=s.activeLabel,d=s.offset,h=null!==(e=i.props.active)&&void 0!==e?e:a;return(0,Pt.cloneElement)(i,{viewBox:v$(v$({},d),{},{x:d.left,y:d.top}),active:h,label:u,payload:h?c:[],coordinate:l,accessibilityLayer:r})}),w$(o,"renderBrush",function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,s=i.offset,a=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return(0,Pt.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:OV(o.handleBrushChange,e.props.onChange),data:r,x:nT(e.props.x)?e.props.x:s.left,y:nT(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:nT(e.props.width)?e.props.width:s.width,startIndex:a,endIndex:l,updateId:"brush-".concat(c)})}),w$(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,s=i.xAxisMap,a=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,h=void 0===d?c.xAxisId:d,p=u.yAxisId,f=void 0===p?c.yAxisId:p;return(0,Pt.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[h],yAxis:a[f],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),w$(o,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,s=e.isRange,a=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?v$(v$({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=v$(v$({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:EV(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},FT(u,!1)),ET(u));return a.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?a.push(n.renderActiveDot(u,v$(v$({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):s&&a.push(null),a}),w$(o,"renderGraphicChild",function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),s=o.state,a=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,u=s.activeLabel,d=jT(o.props.children,qO),h=r.props,p=h.points,f=h.isRange,m=h.baseLine,g=void 0!==r.item.type.defaultProps?v$(v$({},r.item.type.defaultProps),r.item.props):r.item.props,b=g.activeDot,y=g.hide,v=g.activeBar,w=g.activeShape,_=Boolean(!y&&a&&d&&(b||v||w)),x={};"axis"!==i&&d&&"click"===d.props.trigger?x={onClick:OV(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(x={onMouseLeave:OV(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:OV(o.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,Pt.cloneElement)(e,v$(v$({},r.props),x));if(_){if(!(c>=0)){var k,A=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:E}).graphicalItem,S=A.item,P=void 0===S?e:S,C=A.childIndex,T=v$(v$(v$({},r.props),x),{},{activeIndex:C});return[(0,Pt.cloneElement)(P,T),null,null]}var O,M;if(l.dataKey&&!l.allowDuplicatedCategory){var D="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());O=cT(p,D,u),M=f&&m&&cT(m,D,u)}else O=null==p?void 0:p[c],M=f&&m&&m[c];if(w||v){var I=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[(0,Pt.cloneElement)(e,v$(v$(v$({},r.props),x),{},{activeIndex:I})),null,null]}if(!ZC()(O))return[E].concat(m$(o.renderActivePoints({item:r,activePoint:O,basePoint:M,childIndex:c,isRange:f})))}return f?[E,null,null]:[E,null]}),w$(o,"renderCustomized",function(e,t,n){return(0,Pt.cloneElement)(e,v$(v$({key:"recharts-customized-".concat(n)},o.props),o.state))}),w$(o,"renderMap",{CartesianGrid:{handler:A$,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:A$},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:A$},YAxis:{handler:A$},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:oT("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=qC()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f$(e,t)}(n,e),r=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=jT(t,qO);if(o){var s=o.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var a=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=C$(this.state,n,s,a),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=v$(v$({},d),h.props.points[s].tooltipPosition),l=h.props.points[s].tooltipPayload);var p={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:a,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){BT([jT(e.children,qO)],[jT(this.props.children,qO)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=jT(this.props.children,qO);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i=(t=r).top+window.scrollY-document.documentElement.clientTop,o=t.left+window.scrollX-document.documentElement.clientLeft,s={chartX:Math.round(e.pageX-o),chartY:Math.round(e.pageY-i)},a=r.width/n.offsetWidth||1,l=this.inRange(s.chartX,s.chartY,a);if(!l)return null;var c=this.state,u=c.xAxisMap,d=c.yAxisMap,h=this.getTooltipEventType(),p=T$(this.state,this.props.data,this.props.layout,l);if("axis"!==h&&u&&d){var f=aT(u).scale,m=aT(d).scale,g=f&&f.invert?f.invert(s.chartX):null,b=m&&m.invert?m.invert(s.chartY):null;return v$(v$({},s),{},{xValue:g,yValue:b},p)}return p?v$(v$({},s),p):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return i>=s.left&&i<=s.left+s.width&&o>=s.top&&o<=s.top+s.height?{x:i,y:o}:null}var a=this.state,l=a.angleAxisMap,c=a.radiusAxisMap;if(l&&c){var u=aT(l);return fz({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=jT(e,qO),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),v$(v$({},ET(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){oH.on(sH,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oH.removeListener(sH,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var s=r[i];if(s.item===e||s.props.key===e.key||t===OT(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return Tt().createElement("defs",null,Tt().createElement("clipPath",{id:e},Tt().createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=c$(t,2),r=n[0],i=n[1];return v$(v$({},e),{},w$({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=c$(t,2),r=n[0],i=n[1];return v$(v$({},e),{},w$({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var s=n[i],a=s.props,l=s.item,c=void 0!==l.type.defaultProps?v$(v$({},l.type.defaultProps),l.props):l.props,u=OT(l.type);if("Bar"===u){var d=(a.data||[]).find(function(t){return OI(e,t)});if(d)return{graphicalItem:s,payload:d}}else if("RadialBar"===u){var h=(a.data||[]).find(function(t){return fz(e,t)});if(h)return{graphicalItem:s,payload:h}}else if(vU(s,r)||wU(s,r)||_U(s,r)){var p=AU({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:v$(v$({},s),{},{childIndex:f}),payload:_U(s,r)?c.data[p]:s.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!RT(this))return null;var t,n,r=this.props,i=r.children,o=r.className,s=r.width,a=r.height,l=r.style,c=r.compact,u=r.title,d=r.desc,h=u$(r,s$),p=FT(h,!1);if(c)return Tt().createElement(Sq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Tt().createElement(tO,l$({},p,{width:s,height:a,title:u,desc:d}),this.renderClipPath(),zT(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return Tt().createElement(Sq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Tt().createElement("div",l$({className:zC("recharts-wrapper",o),style:v$({position:"relative",cursor:"default",width:s,height:a},l)},f,{ref:function(t){e.container=t}}),Tt().createElement(tO,l$({},p,{width:s,height:a,title:u,desc:d,style:E$}),this.renderClipPath(),zT(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&d$(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(Pt.Component);w$(h,"displayName",t),w$(h,"defaultProps",v$({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),w$(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,s=e.height,a=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var p=M$(e);return v$(v$(v$({},p),{},{updateId:0},d(v$(v$({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:s,prevLayout:a,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||s!==t.prevHeight||a!==t.prevLayout||l!==t.prevStackOffset||!bT(c,t.prevMargin)){var f=M$(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=v$(v$({},T$(t,r,a)),{},{updateId:t.updateId+1}),b=v$(v$(v$({},f),m),g);return v$(v$(v$({},b),d(v$({props:e},b),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:s,prevLayout:a,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!BT(i,t.prevChildren)){var y,v,w,_,x=jT(i,oz),E=x&&null!==(y=null===(v=x.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:u,k=x&&null!==(w=null===(_=x.props)||void 0===_?void 0:_.endIndex)&&void 0!==w?w:h,A=E!==u||k!==h,S=ZC()(r)||A?t.updateId+1:t.updateId;return v$(v$({updateId:S},d(v$(v$({props:e},t),{},{updateId:S,dataStartIndex:E,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:E,dataEndIndex:k})}return null}),w$(h,"renderActiveDot",function(e,t,n){var r;return r=(0,Pt.isValidElement)(e)?(0,Pt.cloneElement)(e,t):pT()(e)?e(t):Tt().createElement(tD,t),Tt().createElement(iO,{className:"recharts-active-dot",key:n},r)});var p=(0,Pt.forwardRef)(function(e,t){return Tt().createElement(h,l$({},e,{ref:t}))});return p.displayName=h.displayName,p}({chartName:"LineChart",GraphicalChild:Y$,axisComponents:[{axisType:"xAxis",AxisComp:PW},{axisType:"yAxis",AxisComp:LW}],formatAxisMap:function(t,n,r,i,o){var s=t.width,a=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!jT(c,WU);return u.reduce(function(s,a){var c,u,p,f,m,g=n[a],b=g.orientation,y=g.domain,v=g.padding,w=void 0===v?{}:v,_=g.mirror,x=g.reversed,E="".concat(b).concat(_?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var k=y[1]-y[0],A=1/0,S=g.categoricalDomain.sort(uT);if(S.forEach(function(e,t){t>0&&(A=Math.min((e||0)-(S[t-1]||0),A))}),Number.isFinite(A)){var P=A/k,C="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=P*C/2),"no-gap"===g.padding){var T=sT(t.barCategoryGap,P*C),O=P*C/2;c=O-T-(O-T)/C*T}}}u="xAxis"===i?[r.left+(w.left||0)+(c||0),r.left+r.width-(w.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(c||0),r.top+r.height-(w.bottom||0)-(c||0)]:g.range,x&&(u=[u[1],u[0]]);var M=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if("auto"===i)return"radial"===s&&"radiusAxis"===a?{scale:VI(),realScaleType:"band"}:"radial"===s&&"angleAxis"===a?{scale:oR(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:UI(),realScaleType:"point"}:"category"===o?{scale:VI(),realScaleType:"band"}:{scale:oR(),realScaleType:"linear"};if($C()(i)){var l="scale".concat($O()(i));return{scale:(e[l]||UI)(),realScaleType:e[l]?l:"point"}}return pT()(i)?{scale:i}:{scale:UI(),realScaleType:"point"}}(g,o,h),D=M.scale,I=M.realScaleType;D.domain(y).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-MV,o=Math.max(r[0],r[1])+MV,s=e(t[0]),a=e(t[n-1]);(s<i||s>o||a<i||a>o)&&e.domain([t[0],t[n-1]])}}(D);var N=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,s=t.allowDecimals,a=n||t.scale;if("auto"!==a&&"linear"!==a)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=QB(l,i,s);return e.domain([xB()(c),wB()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:XB(u,i,s)}}return null}(D,KU(KU({},g),{},{realScaleType:I}));"xAxis"===i?(m="top"===b&&!_||"bottom"===b&&_,p=r.left,f=d[E]-m*g.height):"yAxis"===i&&(m="left"===b&&!_||"right"===b&&_,p=d[E]-m*g.width,f=r.top);var j=KU(KU(KU({},g),N),{},{realScaleType:I,x:p,y:f,scale:D,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return j.bandSize=VV(j,N),g.hide||"xAxis"!==i?g.hide||(d[E]+=(m?-1:1)*j.width):d[E]+=(m?-1:1)*j.height,KU(KU({},s),{},QU({},a,j))},{})}}),BW=["x1","y1","x2","y2","key"],VW=["offset"];function zW(e){return zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zW(e)}function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach(function(t){HW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HW(e,t,n){return t=function(e){var t=function(e){if("object"!=zW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(){return $W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$W.apply(this,arguments)}function WW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var GW=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,s=e.height,a=e.ry;return Tt().createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JW(e,t){var n;if(Tt().isValidElement(e))n=Tt().cloneElement(e,t);else if(pT()(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,s=t.y2,a=t.key,l=WW(t,BW),c=FT(l,!1),u=(c.offset,WW(c,VW));n=Tt().createElement("line",$W({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function YW(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(r,o){var s=qW(qW({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return JW(i,s)});return Tt().createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function KW(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(r,o){var s=qW(qW({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return JW(i,s)});return Tt().createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function QW(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,s=e.height,a=e.horizontalPoints,l=e.horizontal;if(void 0!==l&&!l||!t||!t.length)return null;var c=a.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==c[0]&&c.unshift(0);var u=c.map(function(e,a){var l=c[a+1]?c[a+1]-e:i+s-e;if(l<=0)return null;var u=a%t.length;return Tt().createElement("rect",{key:"react-".concat(a),y:e,x:r,height:l,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Tt().createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function XW(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,a=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,t){var n=u[t+1]?u[t+1]-e:o+a-e;if(n<=0)return null;var c=t%r.length;return Tt().createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Tt().createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ZW=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return PV(nW(qW(qW(qW({},bW.defaultProps),n),{},{ticks:CV(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},eG=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return PV(nW(qW(qW(qW({},bW.defaultProps),n),{},{ticks:CV(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},tG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nG(e){var t,n,r,i,o,s,a,l,c=Tq(),u=Oq(),d=(0,Pt.useContext)(xq),h=qW(qW({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:tG.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:tG.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:tG.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:tG.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:tG.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:tG.verticalFill,x:nT(e.x)?e.x:d.left,y:nT(e.y)?e.y:d.top,width:nT(e.width)?e.width:d.width,height:nT(e.height)?e.height:d.height}),p=h.x,f=h.y,m=h.width,g=h.height,b=h.syncWithTicks,y=h.horizontalValues,v=h.verticalValues,w=(a=(0,Pt.useContext)(vq),aT(a)),_=(l=(0,Pt.useContext)(wq),gq()(l,function(e){return Cz()(e.domain,Number.isFinite)})||aT(l));if(!nT(m)||m<=0||!nT(g)||g<=0||!nT(p)||p!==+p||!nT(f)||f!==+f)return null;var x=h.verticalCoordinatesGenerator||ZW,E=h.horizontalCoordinatesGenerator||eG,k=h.horizontalPoints,A=h.verticalPoints;if((!k||!k.length)&&pT()(E)){var S=y&&y.length,P=E({yAxis:_?qW(qW({},_),{},{ticks:S?y:_.ticks}):void 0,width:c,height:u,offset:d},!!S||b);dT(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zW(P),"]")),Array.isArray(P)&&(k=P)}if((!A||!A.length)&&pT()(x)){var C=v&&v.length,T=x({xAxis:w?qW(qW({},w),{},{ticks:C?v:w.ticks}):void 0,width:c,height:u,offset:d},!!C||b);dT(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zW(T),"]")),Array.isArray(T)&&(A=T)}return Tt().createElement("g",{className:"recharts-cartesian-grid"},Tt().createElement(GW,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Tt().createElement(YW,$W({},h,{offset:d,horizontalPoints:k,xAxis:w,yAxis:_})),Tt().createElement(KW,$W({},h,{offset:d,verticalPoints:A,xAxis:w,yAxis:_})),Tt().createElement(QW,$W({},h,{horizontalPoints:k})),Tt().createElement(XW,$W({},h,{verticalPoints:A})))}nG.displayName="CartesianGrid";const rG=({getJobDetails:e={}})=>{const r=An().id,i=(0,n.useDispatch)(),o=(0,n.useSelect)(e=>e(vt).getJobApplicationDates(),[]);(0,t.useEffect)(()=>{i(vt).setJobApplicationDateList({job_id:r})},[]);const s=(e=>{const t={};e.filter(e=>{const{date:n}=e;return t[n]?(t[n]++,!1):(t[n]=1,!0)});const n=Object.entries(t).map(([e,t])=>{const n=new Date(e);return{date:(0,Ge.default)(n,"MMM dd, yyyy"),application:t}});return n})(o),a=((e,t)=>{const n=[],r=new Date(e),i=new Date,o=new Date(t);r.setHours(0,0,0,0),i.setHours(0,0,0,0),o.setHours(0,0,0,0);const s=i<=o?i:o;for(;r<=s;)n.push(new Date(r)),r.setDate(r.getDate()+1);const a=n.map(e=>({date:(0,Ge.default)(e,"MMM dd, yyyy")}));return a})(e?.created_at,e?.application_deadline),l=((e,t)=>{const n=new Map(t.map(e=>[e.date,e.application]));return e.map(e=>{const t={...e},r=n.get(e.date);return t.application=void 0!==r?r:0,t})})(a,s);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"flex items-center gap-5 mb-5"},(0,t.createElement)("div",{className:"flex-1 flex items-center px-5 py-[14px] gap-[15px] border-2 border-border-mid rounded bg-white"},(0,t.createElement)("div",{className:"border-r border-border-mid pr-[15px]"},(0,t.createElement)("span",{className:"text-[30px] text-info"},(0,t.createElement)("i",{className:"tio-group_senior"}))),(0,t.createElement)("div",{className:"flex-1 leading-[1.5]"},(0,t.createElement)("div",{className:"text-[20px] font-bold text-headline"},e?.total_applicants),(0,t.createElement)("span",{className:"text-[16px] text-b1-notice-comment"},(0,ce.__)("Total Applications","ai-job-listing")))),(0,t.createElement)("div",{className:"flex-1 flex items-center px-5 py-[14px] gap-[15px] border-2 border-border-mid rounded bg-white"},(0,t.createElement)("div",{className:"border-r border-border-mid pr-[15px]"},(0,t.createElement)("span",{className:"text-[30px] text-warning"},(0,t.createElement)("i",{className:"tio-refresh"}))),(0,t.createElement)("div",{className:"flex-1 leading-[1.5]"},(0,t.createElement)("div",{className:"text-[20px] font-bold text-headline"},e?.total_in_progress),(0,t.createElement)("span",{className:"text-[16px] text-b1-notice-comment"},(0,ce.__)("In Progress","ai-job-listing")))),(0,t.createElement)("div",{className:"flex-1 flex items-center px-5 py-[14px] gap-[15px] border-2 border-border-mid rounded bg-white"},(0,t.createElement)("div",{className:"border-r border-border-mid pr-[15px]"},(0,t.createElement)("span",{className:"text-[30px] text-success"},(0,t.createElement)("i",{className:"tio-checkmark_circle"}))),(0,t.createElement)("div",{className:"flex-1 leading-[1.5]"},(0,t.createElement)("div",{className:"text-[20px] font-bold text-headline"},e?.total_hired),(0,t.createElement)("span",{className:"text-[16px] text-b1-notice-comment"},(0,ce.__)("Total Hired","ai-job-listing")))),(0,t.createElement)("div",{className:"flex-1 flex items-center px-5 py-[14px] gap-[15px] border-2 border-border-mid rounded bg-white"},(0,t.createElement)("div",{className:"border-r border-border-mid pr-[15px]"},(0,t.createElement)("span",{className:"text-[30px] text-red"},(0,t.createElement)("i",{className:"tio-clear_circle"}))),(0,t.createElement)("div",{className:"flex-1 leading-[1.5]"},(0,t.createElement)("div",{className:"text-[20px] font-bold text-headline"},e?.total_rejected),(0,t.createElement)("span",{className:"text-[16px] text-b1-notice-comment"},(0,ce.__)("Total Rejected","ai-job-listing"))))),(0,t.createElement)("div",{className:"bg-white p-8 rounded"},(0,t.createElement)("h3",null,(0,ce.__)("Number Of Applicants","ai-job-listing")),(0,t.createElement)("div",{className:"w-full h-[430px]"},(0,t.createElement)(GT,{width:"100%",height:"100%"},(0,t.createElement)(FW,{width:500,height:300,data:l,margin:{bottom:25,top:10,left:-40}},(0,t.createElement)(nG,{stroke:"#CCCEDE",strokeDasharray:"6 6",vertical:!1}),(0,t.createElement)(PW,{dataKey:"date",axisLine:{stroke:"#323DA5"},tickLine:!1,domain:["dataMin","dataMax"],tick:({x:e,y:n,payload:r})=>{const i=0===r.index;return(0,t.createElement)("text",{x:e,y:n+25,textAnchor:"middle",fontSize:15,fontWeight:700,fill:"#A8ABBD",dx:i?20:-10},r.value)},padding:{right:5,left:20}}),(0,t.createElement)(LW,{allowDecimals:!1,axisLine:!1,tickLine:!1,tick:({payload:e,x:n,y:r})=>{const i=0===e.coordinate;return(0,t.createElement)("text",{x:n-10,y:r,textAnchor:"start",fontSize:15,fontWeight:700,fill:"#A8ABBD",dy:i?-10:4},e.value)}}),(0,t.createElement)(qO,{content:(0,t.createElement)(({active:e,payload:n,label:r})=>e&&n&&n.length?(0,t.createElement)("div",{className:"bg-primary rounded p-4 text-[15px] font-bold text-white"},(0,t.createElement)("span",{className:"block mb-1"},r),(0,t.createElement)("span",{className:"flex items-center gap-[3px]"},(0,t.createElement)("span",{className:"h-3 w-3 bg-white rounded-[2px]"}),(0,t.createElement)("span",{className:"mt-[1px]"},n[0].value))):null,null)}),(0,t.createElement)(Y$,{type:"monotone",dataKey:"application",stroke:"#323DA5",activeDot:{r:6}}))))))},iG=__webpack_require__.p+"images/error.10358a3d.png",oG=()=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"bg-white rounded p-[50px] text-center min-h-[650px]",style:{height:"calc(100vh - 160px)"}},(0,t.createElement)("div",null,(0,t.createElement)("h1",{className:"mb-[20px]"},"404 Not found"),(0,t.createElement)("p",{className:"text-b1-regular"},"The page you are looking for does not exist, or it has been removed."),(0,t.createElement)("div",{className:"my-[30px]"},(0,t.createElement)("img",{className:"my-0 mx-auto",src:iG,alt:"Images"})),(0,t.createElement)(io,{text:"Back to Home",btnStyle:"secondary",outline:!0,size:"large",href:"/"})))),sG=()=>{const e=An().id,r=(0,n.useDispatch)(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)({column:"*",id:e,display_count:!0}),u=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),d=(0,n.useSelect)(e=>e(vt).getJobDetailsLoading(),[]);(0,t.useEffect)(()=>{r(vt).setJobDetails(l).then(e=>{a(d),o(e)})},[l]);const h=[{label:(0,ce.__)("Applications","ai-job-listing"),value:"applications",element:(0,t.createElement)(FC,null)},{label:(0,ce.__)("Report","ai-job-listing"),value:"report",element:(0,t.createElement)(rG,{getJobDetails:i})},{label:(0,ce.__)("Job Preview","ai-job-listing"),value:"job_preview",element:(0,t.createElement)(BC,{getJobDetails:i,settings:u})}],[p,f]=(0,t.useState)(h[0]);return(0,t.createElement)("div",{className:"job-application-list relative",style:{minHeight:"calc(100vh - 160px)"}},i?.id!==e?s&&(0,t.createElement)(QA,{block:2})||!s&&(0,t.createElement)(oG,null):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"mb-[20px] flex items-start justify-between"},(0,t.createElement)("div",null,(0,t.createElement)(bi,{text:i?.title,areaClass:"mb-[15px]",backButton:!0}),(0,t.createElement)("div",{className:"flex items-center gap-2.5"},(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-briefcase_outlined"}),"Department:"),(0,t.createElement)("span",null,Ye(i?.attribute_values,"job_departments"))),(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-calendar"}),"Posted on:"),(0,t.createElement)("span",null,oS(i?.created_at))),(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-calendar"}),"Deadline:"),(0,t.createElement)("span",null,oS(i?.application_deadline))),sS(i?.status))),(0,t.createElement)(nS,{data:h,onClick:e=>f(e),activeValue:p?.value})),p?.element))},aG=__webpack_require__(6087),lG=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)({}),o=(0,n.useSelect)(e=>e(vt).getJobApplicationList(r),[]),s=(0,n.useSelect)(e=>e(vt).getJobApplicationTotalCount(),[]),a=(0,n.useSelect)(e=>e(vt).getJobApplicationLoading(),[]),l=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),c=(0,n.useSelect)(e=>e(St).getCurrentUser(),[]);(0,t.useEffect)(()=>{e(vt).setJobApplications(r)},[r]);const u=[{key:"name",title:(0,ce.__)("Name","ai-job-listing")},{key:"experience",title:(0,ce.__)("Experience","ai-job-listing")},{key:"available_start",title:(0,ce.__)("Available Start","ai-job-listing")},{key:"applied_for",title:(0,ce.__)("Applied For","ai-job-listing")},{key:"expected_salary",title:(0,ce.__)("Expected Salary","ai-job-listing"),class:"text-right",bodyClass:"text-right"},{key:"status",title:"Status",class:"text-center",bodyClass:"text-center"},{key:"actions",title:"",bodyClass:"text-right"}],d=aG.debounce(e=>{i({...r,search:e,page:1})},500),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)({}),[g,b]=(0,t.useState)([]),[y,v]=(0,t.useState)(""),[w,_]=(0,t.useState)("");return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:(0,ce.__)("All Applicants","ai-job-listing")}),(0,t.createElement)(yi,{leftItem:(0,t.createElement)(rS,{name:"applicant_search",placeholder:(0,ce.__)("Search","ai-job-listing"),onChange:e=>{d(e)}})}),(0,t.createElement)(t.Fragment,null,a?(0,t.createElement)(QA,{block:o?.length}):(0,t.createElement)(iS,{header:u,body:o},(0,t.createElement)("div",{customKey:"name"},n=>(0,t.createElement)("button",{type:"button",className:"flex items-center leading-[1.2]",onClick:()=>{return t=n.id,p(!0),e(vt).setJobApplicationDetails({id:t}).then(e=>{m(e)}),void e(vt).setApplicationCommentById({app_id:t}).then(e=>{e&&b(e)}).catch(e=>{console.error(e)});var t}},n.profile_image_url?(0,t.createElement)("img",{className:"w-8 h-8 m-0 rounded-full",src:n.profile_image_url,alt:Ke(n?.meta_attributes,"full_name")}):(0,t.createElement)("span",{className:"rounded-full text-placeholder text-[32px]"},(0,t.createElement)("i",{className:"tio-account_circle"})),(0,t.createElement)("span",{className:"ml-2.5 mb-0"},Ke(n?.meta_attributes,"full_name")))),(0,t.createElement)("div",{customKey:"experience"},e=>Ke(e?.meta_attributes,"work_experience")&&(0,t.createElement)(t.Fragment,null,Ke(e?.meta_attributes,"work_experience"))),(0,t.createElement)("div",{customKey:"available_start"},e=>Ke(e?.meta_attributes,"when_join")&&(0,t.createElement)(t.Fragment,null,Ke(e?.meta_attributes,"when_join"))),(0,t.createElement)("div",{customKey:"applied_for"},e=>(0,t.createElement)(Wn,{to:`/job/list/${e?.job_id}`,className:"text-b2-regular text-primary underline underline-offset-[3px]"},e?.job_title?.title)),(0,t.createElement)("div",{customKey:"expected_salary"},e=>Ke(e?.meta_attributes,"expected_salary")&&(0,t.createElement)(t.Fragment,null,l?.currency_symbol,Je(Ke(e?.meta_attributes,"expected_salary")))),(0,t.createElement)("div",{customKey:"status"},e=>(0,t.createElement)("span",{className:"inline-flex items-center gap-[5px] w-[110px] px-[10px] pt-1 pb-[3px] rounded-xsm text-white text-[15px]",style:{backgroundColor:e?.app_process?.icon_color}},(0,t.createElement)("i",{className:`${e?.app_process?.icon} text-[14px]`}),e?.app_process?.name)),(0,t.createElement)("div",{customKey:"actions"},n=>(0,t.createElement)(VS,null,(0,t.createElement)(gi.Item,null,(0,t.createElement)(io,{text:(0,ce.__)("Delete","ai-job-listing"),btnStyle:"transparentSecondary",outline:!0,onClick:()=>{return t=n.id,void He({title:(0,ce.__)("Are you sure?","ai-job-listing"),text:(0,ce.__)("Are you sure move to trash?","ai-job-listing"),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,timer:5e4,preConfirm:()=>{e(vt).deleteJobApplication({ids:[t]}).then(e=>{e.message&&i({...r})})}});var t}})))))),(0,t.createElement)(eS,{perPage:l?.posts_per_page,total:s,paginate:t=>{(t=>{null!=t&&e(vt).setJobApplications({...r,page:t})})(t)}}),(0,t.createElement)(RC,{isPreviewModalOpen:h,closePreviewModal:function(){p(!1),v("")},jobSingleApplication:f,commentText:y,commentFormError:w,setCommentText:e=>v(e),submitCommentHandler:t=>{t.preventDefault();const n={user_id:c.id||null,app_id:f.id||null,app_process_id:f.process_id||null,comment:y};y.length<1?_((0,ce.__)("Please enter a character","ai-job-listing")):(_(""),e(vt).saveApplicationComment(n).then(e=>{e&&(b([e,...g]),v(""))}).catch(e=>{console.error(e)}))},applicationComments:g}))},cG=__webpack_require__.p+"images/thankyou.bc082935.png",uG=()=>{const e=(0,n.useDispatch)(),r=xn().state||{},i=window.location.pathname,o=i.lastIndexOf("wp-admin"),s=i.substring(0,o);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"p-[50px] max-w-[952px] rounded bg-white text-center"},(0,t.createElement)("h1",{className:"text-green mb-10"},"Congratulations! Your Job Post Is Now Live"),(0,t.createElement)("div",{className:"mb-[30px]"},(0,t.createElement)("img",{src:cG,alt:"Images",className:"mx-auto my-0"})),(0,t.createElement)("h2",{className:"mb-2.5"},r?.title&&`${r?.title} Is Now Live`),(0,t.createElement)("div",{className:"flex items-center justify-center gap-2.5 mb-[30px]"},(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-briefcase_outlined"}),"Department:"),(0,t.createElement)("span",null,Ye(r?.attribute_values,"job_departments"))),(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-calendar"}),"Posted on:"),(0,t.createElement)("span",null,oS(r?.created_at))),(0,t.createElement)("div",{className:"flex items-center gap-1 text-[16px] text-b2-table"},(0,t.createElement)("span",{className:"flex items-center gap-[5px] text-headline"},(0,t.createElement)("i",{className:"tio-calendar"}),"Deadline:"),(0,t.createElement)("span",null,oS(r?.application_deadline))),sS("active")),(0,t.createElement)("div",{className:"flex items-center gap-5 justify-center"},(0,t.createElement)(io,{text:(0,ce.__)("Go to Job List Page","ai-job-listing"),btnStyle:"light",size:"large",outline:!0,href:"/",onClick:()=>{e(vt).setJobPostForm({...ht}),e(vt).setJobFormStep(1),e(vt).setJobFormStepCompleted(1)}}),(0,t.createElement)(io,{text:(0,ce.__)("View on Live Site","ai-job-listing"),btnStyle:"secondary",size:"large",href:`${s}${r?.liveUrlBase}/${r?.slug}`,externalLink:!0}))))};function dG(){return(dG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hG(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function pG(e){var t=(0,Pt.useRef)(e),n=(0,Pt.useRef)(function(e){t.current&&t.current(e)});return t.current=e,n.current}var fG=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},mG=function(e){return"touches"in e},gG=function(e){return e&&e.ownerDocument.defaultView||self},bG=function(e,t,n){var r=e.getBoundingClientRect(),i=mG(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:fG((i.pageX-(r.left+gG(e).pageXOffset))/r.width),top:fG((i.pageY-(r.top+gG(e).pageYOffset))/r.height)}},yG=function(e){!mG(e)&&e.preventDefault()},vG=Pt.memo(function(e){var t=e.onMove,n=e.onKey,r=hG(e,["onMove","onKey"]),i=(0,Pt.useRef)(null),o=pG(t),s=pG(n),a=(0,Pt.useRef)(null),l=(0,Pt.useRef)(!1),c=(0,Pt.useMemo)(function(){var e=function(e){yG(e),(mG(e)?e.touches.length>0:e.buttons>0)&&i.current?o(bG(i.current,e,a.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=l.current,o=gG(i.current),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(yG(t),!function(e,t){return t&&!mG(e)}(t,l.current)&&r)){if(mG(t)){l.current=!0;var s=t.changedTouches||[];s.length&&(a.current=s[0].identifier)}r.focus(),o(bG(r,t,a.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]},[s,o]),u=c[0],d=c[1],h=c[2];return(0,Pt.useEffect)(function(){return h},[h]),Pt.createElement("div",dG({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),wG=function(e){return e.filter(Boolean).join(" ")},_G=function(e){var t=e.color,n=e.left,r=e.top,i=void 0===r?.5:r,o=wG(["react-colorful__pointer",e.className]);return Pt.createElement("div",{className:o,style:{top:100*i+"%",left:100*n+"%"}},Pt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},xG=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},EG=(Math.PI,function(e){return TG(kG(e))}),kG=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?xG(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?xG(parseInt(e.substring(6,8),16)/255,2):1}},AG=function(e){var t=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:xG(e.h),s:xG(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:xG(i/2),a:xG(r,2)}}(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},SG=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),s=r*(1-n),a=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:xG(255*[r,a,s,s,l,r][c]),g:xG(255*[l,r,r,a,s,s][c]),b:xG(255*[s,s,l,r,r,a][c]),a:xG(i,2)}},PG=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},CG=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=i<1?PG(xG(255*i)):"";return"#"+PG(t)+PG(n)+PG(r)+o},TG=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),s=o-Math.min(t,n,r),a=s?o===t?(n-r)/s:o===n?2+(r-t)/s:4+(t-n)/s:0;return{h:xG(60*(a<0?a+6:a)),s:xG(o?s/o*100:0),v:xG(o/255*100),a:i}},OG=Pt.memo(function(e){var t=e.hue,n=e.onChange,r=wG(["react-colorful__hue",e.className]);return Pt.createElement("div",{className:r},Pt.createElement(vG,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:fG(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":xG(t),"aria-valuemax":"360","aria-valuemin":"0"},Pt.createElement(_G,{className:"react-colorful__hue-pointer",left:t/360,color:AG({h:t,s:100,v:100,a:1})})))}),MG=Pt.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:AG({h:t.h,s:100,v:100,a:1})};return Pt.createElement("div",{className:"react-colorful__saturation",style:r},Pt.createElement(vG,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:fG(t.s+100*e.left,0,100),v:fG(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+xG(t.s)+"%, Brightness "+xG(t.v)+"%"},Pt.createElement(_G,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:AG(t)})))}),DG=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};var IG="undefined"!=typeof window?Pt.useLayoutEffect:Pt.useEffect,NG=new Map,jG=function(e){var t=e.className,n=e.colorModel,r=e.color,i=void 0===r?n.defaultColor:r,o=e.onChange,s=hG(e,["className","colorModel","color","onChange"]),a=(0,Pt.useRef)(null);!function(e){IG(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!NG.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',NG.set(t,n);var r=__webpack_require__.nc;r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])}(a);var l=function(e,t,n){var r=pG(n),i=(0,Pt.useState)(function(){return e.toHsva(t)}),o=i[0],s=i[1],a=(0,Pt.useRef)({color:t,hsva:o});(0,Pt.useEffect)(function(){if(!e.equal(t,a.current.color)){var n=e.toHsva(t);a.current={hsva:n,color:t},s(n)}},[t,e]),(0,Pt.useEffect)(function(){var t;DG(o,a.current.hsva)||e.equal(t=e.fromHsva(o),a.current.color)||(a.current={hsva:o,color:t},r(t))},[o,e,r]);var l=(0,Pt.useCallback)(function(e){s(function(t){return Object.assign({},t,e)})},[]);return[o,l]}(n,i,o),c=l[0],u=l[1],d=wG(["react-colorful",t]);return Pt.createElement("div",dG({},s,{ref:a,className:d}),Pt.createElement(MG,{hsva:c,onChange:u}),Pt.createElement(OG,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},RG={defaultColor:"000",toHsva:EG,fromHsva:function(e){return function(e){return CG(SG(e))}({h:e.h,s:e.s,v:e.v,a:1})},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||DG(kG(e),kG(t))}},LG=function(e){return Pt.createElement(jG,dG({},e,{colorModel:RG}))},FG=/^#?([0-9A-F]{3,8})$/i,BG=function(e){var t=e.color,n=void 0===t?"":t,r=e.onChange,i=e.onBlur,o=e.escape,s=e.validate,a=e.format,l=e.process,c=hG(e,["color","onChange","onBlur","escape","validate","format","process"]),u=(0,Pt.useState)(function(){return o(n)}),d=u[0],h=u[1],p=pG(r),f=pG(i),m=(0,Pt.useCallback)(function(e){var t=o(e.target.value);h(t),s(t)&&p(l?l(t):t)},[o,l,s,p]),g=(0,Pt.useCallback)(function(e){s(e.target.value)||h(o(n)),f(e)},[n,o,s,f]);return(0,Pt.useEffect)(function(){h(o(n))},[n,o]),Pt.createElement("input",dG({},c,{value:a?a(d):d,spellCheck:"false",onChange:m,onBlur:g}))},VG=function(e){return"#"+e},zG=function(e){var t=e.prefixed,n=e.alpha,r=hG(e,["prefixed","alpha"]),i=(0,Pt.useCallback)(function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),o=(0,Pt.useCallback)(function(e){return function(e,t){var n=FG.exec(e),r=n?n[1].length:0;return 3===r||6===r||!!t&&4===r||!!t&&8===r}(e,n)},[n]);return Pt.createElement(BG,dG({},r,{escape:i,format:t?VG:void 0,process:VG,validate:o}))};const UG=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)([]),o=(0,n.useSelect)(e=>e(St).getGeneralSettingsLoading(),[]),s=(0,n.useSelect)(e=>e(St).getGeneralSettingSaveLoading(),[]),a=(0,n.useSelect)(e=>e(St).getGeneralSettings(),[]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,p]=(0,t.useState)("$"),[f,m]=(0,t.useState)({visiable:!1,name:""}),[g,b]=(0,t.useState)([]),[y,v]=(0,t.useState)("");(0,t.useEffect)(()=>{e(St).getGeneralSettingsField().then(e=>{i(e)}),e(St).getCareerPage({search:""}).then(e=>{if(e){const t=e.map(e=>(1==e.is_career_page&&v(e.id),{label:e.title,value:e.id}));b(t)}})},[]),(0,t.useEffect)(()=>{const e=r.filter(e=>"general_setting"===e.type);c(e);const t=r.map(e=>({name:e.name,value:e.value}));d(t);const n=r.filter(e=>"currency_symbol"===e.name);p(n[0]?.value)},[r]);const w=e=>{const t=u.map(t=>({name:t.name,value:e.name===t.name?e.value:t.value}));d(t)};return(0,t.createElement)("div",{className:"max-w-[690px]"},(0,t.createElement)(bi,{text:"Career Page Design",backButton:!0}),(0,t.createElement)("div",{className:"bg-white p-[30px] rounded"},o?(0,t.createElement)(vP,{line:15}):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"grid grid-cols-2 gap-5"},l?.map(e=>(0,t.createElement)("div",{className:"full"===e.column_width?"col-span-2":"col-span-1",key:e.id},(0,t.createElement)(oo,null,e.label),(e=>"text"===e.form_type||"number"===e.form_type||"password"===e.form_type?(0,t.createElement)("input",{type:e.form_type,name:e.name,defaultValue:e.value,placeholder:e.placeholder,className:`!text-b2-table ${Zc}`,onChange:t=>w({name:e.name,value:t.target.value})}):"color"===e.form_type?(0,t.createElement)("div",{className:"h-[42px] flex items-center justify-between border border-solid border-border-mid rounded pr-[15px]"},(0,t.createElement)("button",{type:"button",className:"h-[42px] flex items-center flex-1 gap-2.5 pl-[15px] !rounded-[4px] !border-0 !ring-0",onClick:()=>m({visiable:!0,name:e.name})},(0,t.createElement)("span",{className:"h-[25px] w-[25px] !rounded-[4px] !border-0 !ring-0",style:{backgroundColor:nt(u,e.name)}}),(0,t.createElement)("span",{className:"text-[14px] text-b2-table leading-[1]"},nt(u,e.name))),f.visiable&&f.name===e.name?(0,t.createElement)("div",{className:"react-colorful-picker absolute"},(0,t.createElement)("div",{className:"absolute z-50 left-[-16px] top-[18px]"},(0,t.createElement)(LG,{color:nt(u,e.name),onChange:t=>{w({name:e.name,value:t})}}),(0,t.createElement)(zG,{color:nt(u,e.name),onChange:t=>{w({name:e.name,value:t})},prefixed:!0})),(0,t.createElement)("button",{type:"button",className:"fixed top-0 right-0 bottom-0 left-0 cursor-default",onClick:()=>m({visiable:!1,name:""})})):null,("primary_color"==e.name&&"#323da5"!=e.value||"secondary_color"==e.name&&"#ff7f5c"!=e.value)&&(0,t.createElement)(io,{type:"button",text:"Reset",icon:"tio-restore text-[16px]",buttonCustomClass:"text-b3-meta text-[13px]",onClick:()=>{e.value="primary_color"==e.name?"#ff7f5c":"#323da5",w({name:e.name,value:"primary_color"==e.name?"#ff7f5c":"#323da5"})}})):"switcher"===e.form_type?(0,t.createElement)(xS,{parentClass:"h-[42px] flex items-center border border-solid border-border-mid rounded px-[15px]",id:e.name,initialValue:"true"==e.value,onChange:t=>{w({name:e.name,value:JSON.stringify(t.value)})},label:!0}):"select"===e.form_type&&"currency_symbol"===e.name?(0,t.createElement)(KA,{type:"select",name:e.name,value:h,select2Style:tu,isSearchable:!0,options:tt,onChange:t=>{w({name:e.name,value:t.value.value}),p(t?.value?.value)},areaClassName:"input-shadow-none"}):"select"===e.form_type&&"career_page"===e.name?(0,t.createElement)(KA,{type:"select",name:e.name,value:y,select2Style:tu,isSearchable:!0,options:g,onChange:t=>{w({name:e.name,value:t.value.value}),v(t?.value?.value)},areaClassName:"input-shadow-none"}):void 0)(e)))),(0,t.createElement)("div",{className:"flex item-center gap-5 mt-[30px]"},(0,t.createElement)(io,{type:"button",btnStyle:"secondary",text:"Save Changes",icon:s&&"animate-spin tio-refresh",onClick:()=>{e(St).updateGeneralSettings({settings:u}).then(t=>{if(t.length>0){if(t){const n=t?.filter(e=>"currency_symbol"===e.name);e(St).setGeneralSettings({...a,currency_symbol:n?.[0]?.value})}qe({title:(0,ce.__)("Settings Save Successfully","ai-job-listing")})}})}})))))},qG=()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)([]),o=(0,n.useSelect)(e=>e(St).getGeneralSettingsLoading(),[]),s=(0,n.useSelect)(e=>e(St).getGeneralSettingSaveLoading(),[]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{e(St).getGeneralSettingsField().then(e=>{i(e)})},[]),(0,t.useEffect)(()=>{const e=r.filter(e=>"ai_setting"===e.type);l(e);const t=r.map(e=>({name:e.name,value:e.value}));u(t)},[r]);const d=e=>{const t=c.map(t=>({name:t.name,value:e.name===t.name?e.value:t.value}));u(t)};return(0,t.createElement)("div",{className:"max-w-[690px]"},(0,t.createElement)(bi,{text:"AI Settings",backButton:!0}),(0,t.createElement)("div",{className:"bg-white p-[30px] rounded"},o?(0,t.createElement)(vP,{line:15}):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"grid grid-cols-2 gap-5"},a?.map(e=>(0,t.createElement)("div",{className:"full"===e.column_width?"col-span-2":"col-span-1",key:e.id},(0,t.createElement)(oo,null,e.label),(e=>"text"===e.form_type||"number"===e.form_type||"password"===e.form_type?(0,t.createElement)("input",{type:e.form_type,name:e.name,defaultValue:e.value,placeholder:e.placeholder,className:`!text-b2-table ${Zc}`,onChange:t=>d({name:e.name,value:t.target.value})}):"color"===e.form_type?(0,t.createElement)("div",{className:"h-[42px] flex items-center justify-between border border-solid border-border-mid rounded px-[15px]"},(0,t.createElement)("div",{className:"flex items-center gap-2.5"},(0,t.createElement)("input",{type:"color",name:e.name,defaultValue:e.value,value:e.value,className:"h-[25px] w-[25px] !rounded-[2px] !border-0 !ring-0 focus:border-secondary",onChange:t=>{e.value=t.target.value,d({name:e.name,value:t.target.value})}}),(0,t.createElement)("span",{className:"text-[14px] text-b2-table leading-[1]"},e.value)),("primary_color"==e.name&&"#323da5"!=e.value||"secondary_color"==e.name&&"#ff7f5c"!=e.value)&&(0,t.createElement)(io,{type:"button",text:"Reset",icon:"tio-restore text-[16px]",buttonCustomClass:"text-placeholder text-[12px] font-medium",onClick:()=>{e.value="primary_color"==e.name?"#ff7f5c":"#323da5",d({name:e.name,value:"primary_color"==e.name?"#ff7f5c":"#323da5"})}})):"switcher"===e.form_type?(0,t.createElement)(xS,{parentClass:"h-[42px] flex items-center border border-solid border-border-mid rounded px-[15px]",id:e.name,initialValue:"true"==e.value,onChange:t=>{d({name:e.name,value:JSON.stringify(t.value)})},label:!0}):void 0)(e)))),(0,t.createElement)("div",{className:"flex item-center gap-5 mt-[30px]"},(0,t.createElement)(io,{type:"button",btnStyle:"secondary",text:"Save Changes",icon:s&&"animate-spin tio-refresh",onClick:()=>{e(St).updateGeneralSettings({settings:c}).then(e=>{e&&qe({title:(0,ce.__)("Settings Save Successfully","ai-job-listing")})})}})))))},HG=()=>{const e=(0,n.useSelect)(e=>e(St).getEmailTemplates(),[]),r=(0,n.useSelect)(e=>e(St).getEmailTemplatesLoading(),[]);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:"Email Templates",backButton:!0}),r?(0,t.createElement)(QA,{block:2}):(0,t.createElement)(iS,{header:[{key:"name",title:"Name"},{key:"receiver",title:"Receiver",class:"text-center",bodyClass:"text-center"},{key:"action",title:"Action",class:"w-[135px]"}],body:e},(0,t.createElement)("div",{customKey:"name"},e=>e.name),(0,t.createElement)("div",{customKey:"receiver"},e=>"Applicant"),(0,t.createElement)("div",{customKey:"action"},e=>(0,t.createElement)(io,{href:`/settings/general/email-templates/${e.id}`,text:"View Details",btnStyle:"action",outline:!0}))))},$G=()=>{const e=An(),r=(0,n.useDispatch)(),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)({message:!1,id:1}),l=(0,n.useSelect)(e=>e(St).getEmailTemplateDetailsLoading(),[]),c=(0,n.useSelect)(e=>e(St).getEmailTemplateSaveLoading(),[]);(0,t.useEffect)(()=>{r(St).getEmailTemplateDetails(e.id).then(e=>{e&&o(e)})},[e.id]);const u=e=>{o({...i,[e.name]:e.value})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bi,{text:i?.title,backButton:!0}),(0,t.createElement)("div",{className:"flex gap-6"},(0,t.createElement)("div",{className:"flex-1 bg-white rounded p-[30px]"},l?(0,t.createElement)(vP,{line:22}):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"flex items-center justify-between mb-5"},(0,t.createElement)("div",{className:"text-headline text-[15px] font-medium"},"Send Notification"),(0,t.createElement)("div",null,(0,t.createElement)(xS,{id:"has_notification_status",initialValue:"1"===i?.has_notification_status,onChange:e=>{u({name:e.name,value:!0===e.value?"1":"0"})},sizeLg:!0}))),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"text",label:(0,ce.__)("Email Subject *","ai-job-listing"),name:"subject",value:i?.subject,onChange:u})),(0,t.createElement)("div",{className:"mb-5"},(0,t.createElement)(KA,{type:"textarea",rows:6,placeholder:"Write Email Message",label:(0,ce.__)("Email Message *","ai-job-listing"),name:"message",value:i?.message,onChange:u})),(0,t.createElement)("div",null,(0,t.createElement)(io,{type:"button",btnStyle:"secondary",text:"Save",icon:c?"tio-autorenew text-[16px] animate-spin":"",disabled:!!c,onClick:()=>{r(St).saveEmailTemplate(i)}})))),(0,t.createElement)("div",{className:"w-[340px]"},(0,t.createElement)("div",{className:"bg-white rounded py-5 px-[30px]"},(0,t.createElement)("div",{className:"border-b border-solid border-border-mid text-[18px] text-headline font-bold pb-2.5 mb-5"},"Email Dynamic Variable"),(0,t.createElement)("div",{className:"grid gap-2.5"},[{id:1,variable:"[applicant_name]"},{id:2,variable:"[applicant_mail]"},{id:3,variable:"[admin_mail_notification]"},{id:4,variable:"[job_title]"}]?.map(e=>(0,t.createElement)("button",{key:e.id,onClick:t=>((e,t)=>{const n=e.target.innerText;et(n).then(e=>{e&&a({message:e.message,id:t})})})(t,e.id),className:"flex items-center justify-between px-[15px] py-[6px] border border-border-mid rounded text-left text-[14px] text-placeholder"},(0,t.createElement)("span",null,e.variable),(0,t.createElement)("span",{className:"pointer-events-none transition-all"},s?.message&&s.id===e.id?(0,t.createElement)("i",{className:"tio-all_done text-secondary"}):(0,t.createElement)("i",{className:"tio-copy"})))))))))},WG=()=>{const e=xn().pathname.split("/"),n=t=>{const n=t.split("/");return(void 0!==e[1]?e[1]:n[1])===n[1]},r=[{link:"/",title:(0,ce.__)("Welcome","ai-job-listing")},{link:"/job-list",title:(0,ce.__)("Job List","ai-job-listing")},{link:"/applicants",title:(0,ce.__)("Applicants","ai-job-listing")},{link:"/settings",title:(0,ce.__)("Settings","ai-job-listing")}];return(0,t.createElement)("div",{className:"px-7 ml-[-10px] bg-white"},(0,t.createElement)("div",{className:"flex items-center gap-10 justify-between"},(0,t.createElement)("div",{className:"mr-6"},(0,t.createElement)("img",{className:"my-0 mx-auto",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAzNSAzNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM1IiBoZWlnaHQ9IjM1IiBmaWxsPSIjMTIxQTY5Ii8+CjxwYXRoIGQ9Ik0xMi4xOTMyIDIzLjk0MzJWMjUuODk4NkgxMi45ODY4VjI2LjQ0OThIMTEuNTMwN1YyMy45NDMySDEyLjE5MzJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTMuOTkxNSAyMy45NDMyVjI2LjQ0OThIMTMuMzI5MVYyMy45NDMySDEzLjk5MTVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTUuOTI0NCAyNC41ODQ5QzE1Ljg1MjggMjQuNTI3OSAxNS43Nzk2IDI0LjQ4NDMgMTUuNzA4MSAyNC40NTc1QzE1LjYzNjYgMjQuNDI5IDE1LjU2NjcgMjQuNDE1NiAxNS40OTg2IDI0LjQxNTZDMTUuNDEzNSAyNC40MTU2IDE1LjM0MzcgMjQuNDM1NyAxNS4yODkyIDI0LjQ3NkMxNS4yMzQ3IDI0LjUxNjIgMTUuMjA3NCAyNC41NjgxIDE1LjIwNzQgMjQuNjMxOEMxNS4yMDc0IDI0LjY3NTMgMTUuMjIxIDI0LjcxMjIgMTUuMjQ4MyAyNC43NDI0QzE1LjI3NTUgMjQuNzcwOCAxNS4zMTEzIDI0Ljc5NiAxNS4zNTM5IDI0LjgxNzhDMTUuMzk2NSAyNC44Mzk1IDE1LjQ0NzUgMjQuODU2MyAxNS41MDIgMjQuODczMUMxNS41NTY1IDI0Ljg4OTggMTUuNjEyNyAyNC45MDQ5IDE1LjY2NTUgMjQuOTIzM0MxNS44ODE4IDI0Ljk5MzcgMTYuMDQwMiAyNS4wODkyIDE2LjE0MDYgMjUuMjA4MkMxNi4yNDExIDI1LjMyNzEgMTYuMjkwNSAyNS40ODEzIDE2LjI5MDUgMjUuNjcyM0MxNi4yOTA1IDI1LjgwMTMgMTYuMjY4NCAyNS45MTY5IDE2LjIyNDEgMjYuMDIwOEMxNi4xNzk4IDI2LjEyNDcgMTYuMTE2OCAyNi4yMTM1IDE2LjAzMTcgMjYuMjg4OUMxNS45NDY1IDI2LjM2MjYgMTUuODQ0MyAyNi40MjEyIDE1LjcyIDI2LjQ2MTRDMTUuNTk3NCAyNi41MDE3IDE1LjQ1NzggMjYuNTIzNCAxNS4zMDI4IDI2LjUyMzRDMTQuOTgwOSAyNi41MjM0IDE0LjY4MjkgMjYuNDI5NiAxNC40MDcgMjYuMjQwM0wxNC42OTE0IDI1LjcxNDJDMTQuNzkwMiAyNS44MDEzIDE0Ljg4OSAyNS44NjUgMTQuOTg2IDI1LjkwNjhDMTUuMDgzMSAyNS45NDg3IDE1LjE3ODUgMjUuOTcwNSAxNS4yNzM4IDI1Ljk3MDVDMTUuMzgxMSAyNS45NzA1IDE1LjQ2MjkgMjUuOTQ1NCAxNS41MTU3IDI1Ljg5NjhDMTUuNTY4NCAyNS44NDgyIDE1LjU5NTcgMjUuNzkyOSAxNS41OTU3IDI1LjczMDlDMTUuNTk1NyAyNS42OTQxIDE1LjU4ODkgMjUuNjYwNSAxNS41NzUzIDI1LjYzMzdDMTUuNTYxNiAyNS42MDUzIDE1LjUzOTUgMjUuNTgwMSAxNS41MDcxIDI1LjU1NjdDMTUuNDc0OCAyNS41MzMyIDE1LjQzMzkgMjUuNTExNCAxNS4zODQ1IDI1LjQ5MTNDMTUuMzM1MSAyNS40NzEyIDE1LjI3MjEgMjUuNDQ5NCAxNS4yMDA2IDI1LjQyNDNDMTUuMTE1NSAyNS4zOTc1IDE1LjAzMDMgMjUuMzY5IDE0Ljk0ODYgMjUuMzM1NUMxNC44NjY4IDI1LjMwMzcgMTQuNzkzNiAyNS4yNjAxIDE0LjcyODkgMjUuMjA4MkMxNC42NjQyIDI1LjE1NjIgMTQuNjEzMSAyNS4wODc1IDE0LjU3MzkgMjUuMDA3MUMxNC41MzQ4IDI0LjkyNjcgMTQuNTE0MyAyNC44MjQ1IDE0LjUxNDMgMjQuNjk4OEMxNC41MTQzIDI0LjU3MzEgMTQuNTM0OCAyNC40NjI2IDE0LjU3NzMgMjQuMzYyQzE0LjYxOTkgMjQuMjYxNSAxNC42Nzc4IDI0LjE3NDQgMTQuNzUyNyAyNC4xMDIzQzE0LjgyNzcgMjQuMDMwMyAxNC45MjEzIDIzLjk3NSAxNS4wMzAzIDIzLjkzNDhDMTUuMTM5MyAyMy44OTQ1IDE1LjI2MTkgMjMuODc0NCAxNS4zOTY1IDIzLjg3NDRDMTUuNTIyNSAyMy44NzQ0IDE1LjY1MzYgMjMuODkxMiAxNS43OTE1IDIzLjkyNjRDMTUuOTI5NSAyMy45NjE2IDE2LjA2MDYgMjQuMDExOCAxNi4xODY2IDI0LjA3NzJMMTUuOTIyNyAyNC41ODY1TDE1LjkyNDQgMjQuNTg0OVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNy42OTAzIDI0LjQ5NlYyNi40NTEzSDE3LjAyNzlWMjQuNDk2SDE2LjQ4NDZWMjMuOTQ0N0gxOC4yMzUzVjI0LjQ5NkgxNy42OTAzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE5LjE5MDcgMjMuOTQzMlYyNi40NDk4SDE4LjUyODJWMjMuOTQzMkgxOS4xOTA3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE5LjcyNTQgMjYuNDUxM1YyMy45NDQ3SDIwLjM4NzlMMjEuNjEwNiAyNS40Nzc5VjIzLjk0NDdIMjIuMjY5NlYyNi40NTEzSDIxLjYxMDZMMjAuMzg3OSAyNC45MTgyVjI2LjQ1MTNIMTkuNzI1NFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNC4wOSAyNS4wNDc0SDI1LjQwNDdDMjUuNDA0NyAyNS4xNzk4IDI1LjM5OTYgMjUuMzAwNCAyNS4zODc3IDI1LjQwOTNDMjUuMzc1NyAyNS41MTgyIDI1LjM1MzYgMjUuNjE4NyAyNS4zMTk2IDI1LjcxMjZDMjUuMjcxOSAyNS44NDMzIDI1LjIwNzIgMjUuOTU4OSAyNS4xMjcxIDI2LjA1OTRDMjUuMDQ1NCAyNi4xNTk5IDI0Ljk1IDI2LjI0MzcgMjQuODQxIDI2LjMxMjRDMjQuNzMyIDI2LjM3OTQgMjQuNjExMSAyNi40MzE0IDI0LjQ4MTcgMjYuNDY2NkMyNC4zNTA2IDI2LjUwMTcgMjQuMjE0MyAyNi41MjAyIDI0LjA2OTYgMjYuNTIwMkMyMy44NzIgMjYuNTIwMiAyMy42ODk4IDI2LjQ4ODMgMjMuNTI4IDI2LjQyM0MyMy4zNjQ2IDI2LjM1OTMgMjMuMjI0OSAyNi4yNjg5IDIzLjEwNzQgMjYuMTUxNkMyMi45ODk5IDI2LjAzNDMgMjIuODk5NiAyNS44OTUyIDIyLjgzMzIgMjUuNzMyN0MyMi43Njg1IDI1LjU3MDIgMjIuNzM0NSAyNS4zODkyIDIyLjczNDUgMjUuMTkzMkMyMi43MzQ1IDI0Ljk5NzEgMjIuNzY2OCAyNC44MTk1IDIyLjgzMTUgMjQuNjU1M0MyMi44OTYyIDI0LjQ5MjggMjIuOTg2NSAyNC4zNTM3IDIzLjEwNTcgMjQuMjM4MUMyMy4yMjMyIDI0LjEyMjUgMjMuMzY2MyAyNC4wMzM3IDIzLjUzMzEgMjMuOTY4NEMyMy43IDIzLjkwNDcgMjMuODg1NyAyMy44NzEyIDI0LjA5IDIzLjg3MTJDMjQuMzU1NyAyMy44NzEyIDI0LjU4OSAyMy45MjgyIDI0Ljc4OTkgMjQuMDQwNEMyNC45OTA5IDI0LjE1MjcgMjUuMTQ5MyAyNC4zMjg2IDI1LjI2NjggMjQuNTY0OEwyNC42Mzg0IDI0LjgyMTJDMjQuNTgwNSAyNC42ODM4IDI0LjUwMzggMjQuNTg1IDI0LjQxMDIgMjQuNTI0NkMyNC4zMTY1IDI0LjQ2NDMgMjQuMjEwOSAyNC40MzQyIDI0LjA5IDI0LjQzNDJDMjMuOTkxMiAyNC40MzQyIDIzLjkwMSAyNC40NTI2IDIzLjgxOTIgMjQuNDg5NEMyMy43Mzc1IDI0LjUyNjMgMjMuNjY5NCAyNC41NzgzIDIzLjYxMTUgMjQuNjQ1M0MyMy41NTM2IDI0LjcxMjMgMjMuNTA5MyAyNC43OTQ0IDIzLjQ3NyAyNC44ODk5QzIzLjQ0NDYgMjQuOTg1NCAyMy40Mjc2IDI1LjA5MSAyMy40Mjc2IDI1LjIwOTlDMjMuNDI3NiAyNS4zMTU1IDIzLjQ0MTIgMjUuNDE0MyAyMy40NzAxIDI1LjUwNjVDMjMuNDk5MSAyNS41OTcgMjMuNTQgMjUuNjc1NyAyMy41OTYyIDI1Ljc0MjdDMjMuNjUyNCAyNS44MDk4IDIzLjcyMjIgMjUuODYgMjMuODA1NiAyNS44OTY5QzIzLjg4OTEgMjUuOTMzNyAyMy45ODYxIDI1Ljk1MjIgMjQuMDk2OCAyNS45NTIyQzI0LjE2MTUgMjUuOTUyMiAyNC4yMjQ2IDI1Ljk0NTUgMjQuMjg1OSAyNS45MzA0QzI0LjM0NzIgMjUuOTE1MyAyNC40MDE3IDI1Ljg5MTkgMjQuNDQ5MyAyNS44NkMyNC40OTcgMjUuODI4MiAyNC41Mzc5IDI1Ljc4NjMgMjQuNTY4NSAyNS43MzZDMjQuNjAwOSAyNS42ODU4IDI0LjYyMTMgMjUuNjIzOCAyNC42MzMzIDI1LjU1MDFIMjQuMDlWMjUuMDQ0VjI1LjA0NzRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTQuNjQ3MyA4LjY2MjQ4QzE0Ljk0OTEgOC4zNTU4NSAxNS4zMzQzIDguNDE5OTIgMTUuMzcxNSA4LjkxODc4QzE1LjM5IDkuMTMzODggMTUuMzcxNSA5LjQwODQ4IDE1LjMyNSA5Ljc0NzE1QzE1LjIzNjggMTAuNDI5MSAxNS4wNTEyIDExLjM1MzYgMTQuODcwMSAxMi4zMjM4QzE0Ljg0MjMgMTIuNDc0OCAxNC44MDk4IDEyLjYzMDQgMTQuNzgxOSAxMi43ODZDMTUuMTM5NCAxMi44MTM1IDE1LjM0MzYgMTIuODQxIDE1LjM0MzYgMTIuODQxQzE1LjYxMjggMTIuODkxMyAxNS41NzU3IDEzLjI5ODYgMTUuMjc0IDEzLjI2NjZDMTUuMjc0IDEzLjI2NjYgMTUuMDY5NyAxMy4yMzQ1IDE0LjcwMyAxMy4yMTE3QzE0LjU4NzkgMTMuODYyMyAxNC40ODU0IDE0LjUwNDYgMTQuNDE5OCAxNS4wNzQ5QzE0LjQxMzUgMTUuMTI5NCAxNC40MTMzIDE1LjE4NTMgMTQuNDE2MiAxNS4yNDAxQzE0LjQ0OTEgMTUuODY3NSAxNC4xMTEyIDE0LjI1NjEgMTQuNDk0MSAxNS41NDM3QzE0LjU5ODEgMTUuODc3NCAxNC4yNzYgMTYuMDI4OCAxNC4xMTM1IDE1Ljc1ODhDMTMuODcyMyAxNS4zNjYgMTMuOTk5NSAxNC44NzY0IDE0LjA2NDcgMTQuNDIwN0MxNC4xMjEzIDE0LjAyNDkgMTQuMTkxMyAxMy42MTA5IDE0LjI2NjcgMTMuMTkzNEMxMy43NDY4IDEzLjE4NDIgMTMuMDUwNSAxMy4yMDI1IDEyLjIzMzYgMTMuMzAzMkMxMS4xODQ1IDE1LjIwNzEgMTAuNTQ4NiAxNS40MjkyIDEwLjI2NTQgMTUuNjI2QzkuOTgyMjggMTUuODIyOCA5Ljc1MDE5IDE1LjcyMjEgOS44NzU1MiAxNS40MjkyQzEwLjAwMDggMTUuMTM2MyAxMC43MDY0IDE1LjE4NDIgMTEuNjk1MSAxMy4zODFDMTEuMzMzMSAxMy40NDA1IDEwLjk0NzggMTMuNTE4MyAxMC41NDg2IDEzLjYxNDRDMTAuMjc0NyAxMy42NjkzIDEwLjE1ODcgMTMuMjg5NSAxMC40NDY1IDEzLjE5NzlDMTAuOTc1NiAxMy4wNjUyIDExLjQ4NjIgMTIuOTczNyAxMS45NTUxIDEyLjkwNUMxMi40NjU3IDExLjk4NTEgMTMuMDQxMyAxMC45ODI4IDEzLjY5MTEgOS45NDg1MkMxMy45NDE4IDkuNTUwMzUgMTQuMjY2NyA5LjA1MTUgMTQuNjQ3MyA4LjY2MjQ4Wk0xNC45Mzk4IDguOTgyODVDMTQuNjEwMiA5LjMxMjM3IDE0LjMzMTcgOS43NTYzIDE0LjA1NzggMTAuMTgxOUMxMy41Nzk3IDEwLjkxNDIgMTMuMDMyIDExLjg3NTMgMTIuNDg4OSAxMi44NDFDMTMuMDMyIDEyLjc4NiAxMy43MTkgMTIuNzU0IDE0LjM0MSAxMi43Njc3QzE0LjM3MzUgMTIuNTkzOCAxNC40MDYgMTIuNDE1MyAxNC40Mzg0IDEyLjI0MTRDMTQuNjI0MSAxMS4yNzEyIDE0LjgwNTIgMTAuMzQ2NyAxNC44OTMzIDkuNjkyMjNDMTQuOTM1MSA5LjM4NTU5IDE0Ljk0OSA5LjEzMzg4IDE0LjkzOTggOC45ODI4NVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNi4zOTE1IDExLjY0NjVDMTYuNDU2NSAxMS40NjggMTYuNTQ0NiAxMS4zNzY0IDE2LjY5NzggMTEuNDI2OEMxNi44MzcxIDExLjQ2OCAxNi44NzQyIDExLjU5MTUgMTYuODA5MiAxMS43NzkyQzE2Ljc0NDIgMTEuOTQ4NSAxNi42NjA3IDEyLjA0NDYgMTYuNTAyOSAxMS45OTQzQzE2LjM0OTcgMTEuOTQ4NSAxNi4zMzExIDExLjgyMDQgMTYuMzkxNSAxMS42NDY1Wk0xNi4wOTkgMTIuNjUzM0MxNi4xOTE5IDEyLjM5NyAxNi41OTExIDEyLjUyNTIgMTYuNTA3NSAxMi44MDQzQzE2LjM4NjggMTMuMTE1NiAxNi4xMzYyIDEzLjk4OTcgMTYuMjI5IDE0LjA2NzVDMTYuMjg5MyAxNC4xMTMzIDE2Ljc1MzUgMTQuMDQ5MiAxOC4yMzg5IDEyLjc3NjlDMTguNDQ3OCAxMi42MDMgMTguNzYzNCAxMi44OTU5IDE4LjUzNiAxMy4wOTczQzE3Ljk3OSAxMy41ODI0IDE3LjQ3NzcgMTMuOTc2IDE2Ljg1MSAxNC4zMTQ2QzE2LjU2NzkgMTQuNDU2NSAxNi4wNDggMTQuNjgwOCAxNS44NDM3IDE0LjI4MjZDMTUuNjU4MSAxMy45MjU2IDE1Ljk1MDUgMTMuMDUxNSAxNi4wOTkgMTIuNjUzM1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNy41MTMyIDE2LjI2MjZDMTguMDM3NyAxNi42MjI5IDE4LjQ3MDIgMTcuMDg3IDE4Ljc4MzYgMTcuNjU1QzE5LjExMDUgMTguMjIxMyAxOS4yNjg5IDE4Ljg0MTMgMTkuMjY4OSAxOS41MjMyQzE5LjI2ODkgMjAuMDc3OCAxOS4xNjMzIDIwLjU5MjIgMTguOTUzOSAyMS4wNjk3QzE4Ljc0NDQgMjEuNTQ3MiAxOC40NTY2IDIxLjk1OTQgMTguMDg4OCAyMi4zMTk2QzE3LjcyMDkgMjIuNjc5OSAxNy4zMDIgMjIuOTUxMyAxNi44MTg0IDIzLjE1NzRDMTYuMzM0NyAyMy4zNjM1IDE1LjgxMDIgMjMuNDY3NCAxNS4yNzIxIDIzLjQ2NzRDMTQuNzMzOSAyMy40Njc0IDE0LjE5NzUgMjMuMzYzNSAxMy43MTM5IDIzLjE1NzRDMTMuMjMwMiAyMi45NTEzIDEyLjc5NzcgMjIuNjY4MiAxMi40NDM1IDIyLjMxOTZDMTIuMDg5MiAyMS45NzExIDExLjc4NzggMjEuNTQ1NiAxMS41NzgzIDIxLjA2OTdDMTEuMzY4OSAyMC41OTM5IDExLjI2MzMgMjAuMDc3OCAxMS4yNjMzIDE5LjUyMzJDMTEuMjYzMyAxOC45Njg2IDExLjM2ODkgMTguNDU0MiAxMS41NzgzIDE3Ljk2MzNDMTEuNzg3OCAxNy40ODU4IDEyLjA3NTYgMTcuMDczNiAxMi40NDM1IDE2LjcxMzRDMTIuODExMyAxNi4zNTMxIDEzLjIzMDIgMTYuMDgxNyAxMy43MTM5IDE1Ljg3NTZDMTQuMTk3NSAxNS42Njk1IDE0LjcxMDEgMTUuNTY1NiAxNS4yNjAxIDE1LjU2NTZDMTUuNjc5MSAxNS41NjU2IDE2LjA3MjUgMTUuNjI5MyAxNi40NTIyIDE1Ljc0NjZDMTYuODMyIDE1Ljg4OSAxNy4xODYyIDE2LjA1NjYgMTcuNTEzMiAxNi4yNjI2Wk0xNy4yNTA5IDIwLjM0NzZDMTcuMzY4NCAyMC4wNzYxIDE3LjQyMTIgMTkuODA2NCAxNy40MjEyIDE5LjUyMzJDMTcuNDIxMiAxOS4yNCAxNy4zNTY1IDE4Ljk0MzUgMTcuMjM3MyAxOC42ODU0QzE3LjExODEgMTguNDI3NCAxNi45NjE0IDE4LjE5NjIgMTYuNzY1NiAxOC4wMTUyQzE2LjU2OTcgMTcuODIyNiAxNi4zNDY2IDE3LjY4MDEgMTYuMDg0NCAxNy41NjQ1QzE1LjgyMjEgMTcuNDQ4OSAxNS41NDc5IDE3LjM5NyAxNS4yNTg0IDE3LjM5N0MxNC45Njg5IDE3LjM5NyAxNC42ODI4IDE3LjQ0ODkgMTQuNDIwNiAxNy41NjQ1QzE0LjE1ODMgMTcuNjY4NCAxMy45MjMzIDE3LjgyMjYgMTMuNzI1OCAxOC4wMTUyQzEzLjUyODIgMTguMjA3OSAxMy4zNzE2IDE4LjQ0MDggMTMuMjY3NyAxOC42OTg5QzEzLjE2MzggMTguOTU2OSAxMy4wOTc0IDE5LjIyNjYgMTMuMDk3NCAxOS41MjMyQzEzLjA5NzQgMTkuODE5OCAxMy4xNTAyIDIwLjA4OTUgMTMuMjY3NyAyMC4zNDc2QzEzLjM3MzMgMjAuNjA1NiAxMy41Mjk5IDIwLjgzNjggMTMuNzI1OCAyMS4wMTc4QzEzLjkyMTYgMjEuMjEwNSAxNC4xNDQ3IDIxLjM2NjMgMTQuNDA3IDIxLjQ2ODVDMTQuNjY5MiAyMS41ODQxIDE0Ljk1NyAyMS42MzYgMTUuMjU4NCAyMS42MzZDMTUuNzA0NiAyMS42MzYgMTYuMTA5OSAyMS41MjA0IDE2LjQ2NDEgMjEuMjc1OEMxNi44MTg0IDIxLjA1NjMgMTcuMDgwNiAyMC43NDggMTcuMjUwOSAyMC4zNDc2WiIgZmlsbD0iI0ZGN0Y1QyIvPgo8cGF0aCBkPSJNMjYuMzA3MyAxNy40ODA4QzI1Ljk4MzggMTYuODk2IDI1LjUzNzYgMTYuNDE4NSAyNC45NzIyIDE2LjA0NjVDMjQuNjQ4NyAxNS44MzM3IDI0LjI5NzggMTUuNjYxMiAyMy45MDYyIDE1LjUyODhDMjMuNTE0NSAxNS40MDk4IDIzLjExMDkgMTUuMzQyOCAyMi42NzgzIDE1LjM0MjhDMjIuMjczIDE1LjM0MjggMjEuODgzIDE1LjM5NjQgMjEuNDkxNCAxNS41MTU0QzIxLjA5OTcgMTUuNjIwOSAyMC43NjI1IDE1Ljc4MDEgMjAuNDUyNiAxNS45Nzk1VjE0LjQ1MzFIMTguNTUwNFYxOS40MDQzQzE4LjU1MDQgMTkuOTc1NiAxOC42NTc2IDIwLjUwNjggMTguODczOSAyMC45OTc3QzE5LjA5MDIgMjEuNDg4NiAxOS4zODY1IDIxLjkxNDIgMTkuNzUwOSAyMi4yODYyQzIwLjEyOSAyMi42NTgxIDIwLjU1OTggMjIuOTM2MyAyMS4wNjA1IDIzLjE0OTFDMjEuNTYxMiAyMy4zNjE4IDIyLjA5OTMgMjMuNDY3NCAyMi42NjY0IDIzLjQ2NzRIMjIuNjhDMjMuMjMzNSAyMy40Njc0IDIzLjc3MzMgMjMuMzYxOCAyNC4yNzIzIDIzLjE0OTFDMjQuNzcxMyAyMi45MzYzIDI1LjIxNzQgMjIuNjQ0NyAyNS41ODE5IDIyLjI4NjJDMjUuOTQ2MyAyMS45Mjc2IDI2LjI1NjIgMjEuNDkwMyAyNi40NzI1IDIwLjk5NzdDMjYuNjg4OCAyMC41MDUxIDI2Ljc5NjEgMTkuOTc1NiAyNi43OTYxIDE5LjQwNDNDMjYuODA5NyAxOC43MDA2IDI2LjY0NzkgMTguMDUwNSAyNi4zMTA3IDE3LjQ3OTFMMjYuMzA3MyAxNy40ODA4Wk0yNC43MTUxIDIwLjI1NTRDMjQuNTM5NyAyMC42NTQyIDI0LjI4MjUgMjAuOTcyNiAyMy45MDYyIDIxLjIyMzlDMjMuNTQxNyAyMS40NzY5IDIzLjEyMjggMjEuNTk1OSAyMi42NjQ3IDIxLjU5NTlDMjIuMzU0OCAyMS41OTU5IDIyLjA3MDQgMjEuNTQyMiAyMS44MDEzIDIxLjQzNjdDMjEuNTMyMiAyMS4zMzExIDIxLjMwMjMgMjEuMTcxOSAyMS4wOTk3IDIwLjk4NkMyMC44OTcgMjAuNzg2NiAyMC43MzUzIDIwLjU2MDQgMjAuNjE0MyAyMC4yOTU2QzIwLjQ5MzQgMjAuMDMwOSAyMC40Mzg5IDE5LjczNzcgMjAuNDM4OSAxOS40MTk0QzIwLjQzODkgMTkuMTAxIDIwLjQ5MzQgMTguODM0NiAyMC42MTQzIDE4LjU2OTlDMjAuNzIxNiAxOC4zMDUxIDIwLjg4MzQgMTguMDY1NSAyMS4wODYxIDE3Ljg3OTVDMjEuMjg4NyAxNy42ODAyIDIxLjUxODYgMTcuNTIxIDIxLjc4NzcgMTcuNDE1NEMyMi4wNTY3IDE3LjI5NjUgMjIuMzU0OCAxNy4yNDI5IDIyLjY2NDcgMTcuMjQyOUMyMi45NzQ2IDE3LjI0MjkgMjMuMjQ1NCAxNy4yOTY1IDIzLjUxNDUgMTcuNDE1NEMyMy43ODM1IDE3LjUzNDQgMjQuMDEzNCAxNy42ODAyIDI0LjIxNjEgMTcuODc5NUMyNC40MTg3IDE4LjA3ODkgMjQuNTgwNSAxOC4zMDUxIDI0LjcwMTQgMTguNTY5OUMyNC44MjI0IDE4LjgzNDYgMjQuODkwNSAxOS4xMjc4IDI0Ljg5MDUgMTkuNDMyOEMyNC45MDQxIDE5LjY5NzUgMjQuODM2IDE5Ljk5MDcgMjQuNzE1MSAyMC4yNTU0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguOTU3NTQgMjYuNDUxNUM5LjQ3MzUzIDI2LjEwMyA5LjkzMzMzIDI1LjY1MjMgMTAuMzIxNiAyNS4wNTkxQzEwLjcwOTkgMjQuNDY2IDExLjAxMTMgMjMuNzY5IDExLjIzOTUgMjIuOTcxNUMxMS40Njk0IDIyLjE3MjIgMTEuNTgzNSAyMS4zMTI3IDExLjU4MzUgMjAuMzkxMkwxMS41OTcxIDE0LjQ1MzFIOS42NzQ0OEw5LjYzMTkxIDIwLjM5MTJDOS42MzE5MSAyMC44NjIgOS41NzQwMSAyMS4zMTI3IDkuNDQ0NTggMjEuNzQxNkM5LjMzMDQ4IDIyLjE3MjIgOS4xNTY3OCAyMi41NDA4IDguOTU1ODMgMjIuODY3NkM4Ljc1NDg4IDIzLjE5NDMgOC40OTA5MyAyMy4zODIgOC4yMDMxMiAyMy41ODgiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",alt:"Ai Job Listing"})),(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("div",{className:"flex items-center gap-7"},r.map((e,r)=>(0,t.createElement)(Wn,{key:r,to:e.link,className:"px-1 py-5 border-b text-b1-mid shadow-none outline-none transition-all hover:text-secondary focus:shadow-none focus:text-secondary "+(n(e.link)?"border-secondary text-secondary":"border-white text-headline")},e.title)))),(0,t.createElement)("div",null)))},GG=({children:e})=>(0,t.createElement)("div",{className:"ai-job-listing-main tailwind-typography"},(0,t.createElement)(WG,null),(0,t.createElement)("div",{className:"ai-job-listing-body"},e)),JG=document.getElementById("ai-job-listing");JG&&(0,t.render)((0,t.createElement)(()=>{const e=(0,n.useDispatch)(),[r,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e(vt).getHasJobLimit().then(e=>{i(e)})},[]);const o=(({jobLimit:e=!1})=>[{path:"/",element:wP,name:"AI Job Listing",icon:"tio-briefcase_outlined",navShow:!1,permission:!0},{path:"/job-list",element:US,name:"Job List",icon:"tio-briefcase_outlined",navShow:!0,permission:!0},{path:"/job/list/:id",element:sG,name:"Job Details",icon:"tio-briefcase_outlined",navShow:!1,permission:!0},{path:"/job/create",element:MC,name:"Job Create",icon:"tio-briefcase_outlined",navShow:!1,permission:e},{path:"/job/edit/:id",element:MC,name:"Job Update",icon:"tio-briefcase_outlined",navShow:!1,permission:!0},{path:"/job/thank-you",element:uG,name:"Job Post Successful",icon:"tio-briefcase_outlined",navShow:!1,permission:!0},{path:"/applicants",element:lG,name:"Applicants",icon:"tio-dashboard_outlined",navShow:!0,permission:!0},{path:"/settings",element:_P,name:"Settings",icon:"tio-settings_outlined",navShow:!0,permission:!0},{path:"/settings/jobs/:slug",element:wC,name:"Settings Attribute",icon:"tio-settings_outlined",navShow:!1,permission:!0},{path:"/settings/general/career-page",element:UG,name:"Career Page Design",icon:"tio-category_outlined",navShow:!1,permission:!0},{path:"/settings/general/ai-settings",element:qG,name:"AI Settings",icon:"tio-category_outlined",navShow:!1,permission:!0},{path:"/settings/general/email-templates",element:HG,name:"Email Templates",icon:"tio-category_outlined",navShow:!1,permission:!0},{path:"/settings/general/email-templates/:id",element:$G,name:"Email Templates Details",icon:"tio-category_outlined",navShow:!1,permission:!0}])({jobLimit:r});return(0,t.createElement)(qn,null,(0,t.createElement)(GG,null,(0,t.createElement)(Fn,null,o.map((e,n)=>e.permission&&(0,t.createElement)(Rn,{key:n,path:e.path,element:(0,t.createElement)(e.element,null)})))))},null),JG)})()})();